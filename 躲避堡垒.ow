设置
{
	主程序
	{
		描述: "埃斯佩兰萨重制版已上线\n使用全英雄逃出生天!!!\n————————————————\n代码【SVMQK】  | 最近更新：25.0928.1\n\nowmod.net/2650\n\n企鹅聊天群：445152554\n\n原作［OW2 PASTION ESCAPE］"
		模式名称: "躲避堡垒3"
	}

	大厅
	{
		地图轮换: 完成比赛后
		比赛语音聊天: 启用
		玩家上限 队伍1: 10
		玩家上限 队伍2: 0
		观战者人数上限: 12
		返回大厅: 从不
		队列中的玩家可以加入: 是
	}

	模式
	{
		突击模式
		{
			// 启用地图
			// {
			// 	66号公路 972777519512068153 972777519512068154 972777519512068194
			// 	“地平线”月球基地 972777519512068154
			// 	努巴尼 972777519512068154
			// 	哈瓦那 972777519512068153 972777519512068154
			// 	国王大道 972777519512068153 972777519512068292
			// 	多拉多 972777519512068153 972777519512068292
			// 	好莱坞 972777519512068153 972777519512068154
			// 	巴黎 972777519512068292
			// 	帕拉伊苏 972777519512068154 972777519512068292
			// 	沃斯卡娅工业区 972777519512068292
			// 	渣客镇 972777519512068154
			// 	监测站：直布罗陀 972777519512068154 972777519512068292
			// 	艾兴瓦尔德 972777519512068292 972777519512068154
			// 	花村 972777519512068154
			// 	里阿尔托 972777519512068292 972777519512068154
			// 	阿努比斯神殿 972777519512068154
			// 	香巴里寺院 972777519512068153
			// 	中城 972777519512068154 972777519512068153
			// 	皇家赛道 972777519512068154 972777519512068153
			// 	埃斯佩兰萨 972777519512068154
			// 	新皇后街 972777519512068154 972777519512068197
			// 	斗兽场
			// 	鲁纳塞彼 972777519512068154
			// 	南极半岛
			// }
			禁用地图
			{
				地图工坊室内
				地图工坊岛屿
				地图工坊岛屿（夜间）
				地图工坊空地
				地图工坊空地（夜间）
				地图工坊绿幕
				尼泊尔
				新渣客城
				// 春节漓江塔
				漓江塔
				// 绿洲城
				花冈
				苏拉瓦萨
				// 萨摩亚
				// 釜山
				阿努比斯王座
				// 阿特利斯
			}
		}

		综合
		{
			启用威能: 开启
			复生时间: 10%
			威能充能速度: 500%
			急救包刷新时间: 20%
			敌方生命条: 关闭
			游戏模式开始: 手动
			英雄限制: 关闭
			阵亡镜头: 关闭
		}
	}

	英雄
	{
		队伍1
		{
			技能冷却时间: 30%

			堡垒
			{
				生命值: 150%
			}
		}

		队伍2
		{
			受到伤害量: 25%
			技能冷却时间: 0%
			生命值: 500%

			堡垒
			{
				A-36战术榴弹冷却时间: 25%
				A-36战术榴弹击退倍率: 125%
				弹道速度: 150%
				无需装弹: 开启
				生命值: 500%
			}
		}

		综合
		{
			战斗时终极技能充能速度: 0%
			无需装弹: 开启
			终极技能自动充能速度: 0%

			D.Va
			{
				推进器冷却时间: 125%
			}

			半藏
			{
				“跃”冷却时间: 60%
				音冷却时间: 0%
			}

			卡西迪
			{
				战术翻滚冷却时间: 50%
			}

			回声
			{
				飞行冷却时间: 33%
			}

			天使
			{
				守护天使冷却时间: 67%
			}

			奥丽莎
			{
				强固防御冷却时间: 50%
				标枪旋击冷却时间: 70%
			}

			安娜
			{
				麻醉镖冷却时间: 67%
			}

			巴蒂斯特
			{
				受到治疗量: 50%
				弹道速度: 500%
				投射物重力: 0%
				生命值: 50%
				维生力场冷却时间: 20%
			}

			布丽吉塔
			{
				屏障护盾充能速度: 500%
				能量盾击冷却时间: 80%
			}

			弗蕾娅
			{
				疾冲冷却时间: 67%
				疾冲距离: 130%
			}

			托比昂
			{
				可用武器: 仅限锻造锤
				热力过载冷却时间: 20%
				热力过载持续时间: 40%
			}

			探奇
			{
				钻地持续时间倍率: 25%
			}

			末日铁拳
			{
				悍猛格挡冷却时间: 50%
				火箭重拳冷却时间: 80%
				裂地重拳冷却时间: 80%
			}

			朱诺
			{
				滑翔推进冷却时间: 67%
				滑翔推进持续时间倍率: 50%
			}

			查莉娅
			{
				垂直跳跃速度: 140%
				投射屏障冷却时间: 67%
				粒子屏障冷却时间: 55%
				粒子炮辅助攻击击退倍率: 200%
			}

			死神
			{
				幽灵形态冷却时间: 75%
				暗影步冷却时间: 300%
			}

			毛加
			{
				蛮力冲撞冷却时间: 80%
			}

			温斯顿
			{
				喷射背包冷却时间: 80%
				屏障发射器冷却时间: 83%
			}

			源氏
			{
				闪冷却时间: 75%
			}

			狂鼠
			{
				震荡地雷冷却时间: 100%
				震荡地雷击退倍率: 100%
			}

			猎空
			{
				闪回冷却时间: 50%
				闪现冷却时间: 50%
			}

			生命之梭
			{
				生命之握冷却时间: 84%
				生命之握和愈疗灵花射程: 200%
				花瓣平台冷却时间: 84%
			}

			破坏球
			{
				动力铁球始终激活: 关闭
			}

			禅雅塔
			{
				治疗量: 200%
				生命值: 150%
			}

			秩序之光
			{
				传送面板冷却时间: 66%
			}

			美
			{
				冰墙冷却时间: 67%
			}

			艾什
			{
				延时雷管冷却时间: 50%
				短筒猎枪冷却时间: 40%
			}

			莫伊拉
			{
				消散冷却时间: 50%
				生化之球治疗最大值: 500%
			}

			莱因哈特
			{
				冲锋冷却时间: 75%
			}

			西格玛
			{
				动能俘获冷却时间: 75%
				实验屏障冷却时间: 50%
				质量吸附冷却时间: 50%
			}

			路霸
			{
				呼吸器冷却时间: 100%
				爆裂枪充能速度: 100%
			}

			黑百合
			{
				终极技能持续时间无限: 开启
			}

            骇灾
			{
				尖刺墙冷却时间: 92%
				尖刺墙击退: 0%
				尖刺墙生命值: 25%
				尖刺护体资源消耗: 0%
			}

			黑影
			{
				位移传动冷却时间: 0%
			}
		}
	}

    地图工坊
	{
		难度: [4]
	}

	扩展
	{
		生成更多机器人
		增益状态效果
	}
}

变量
{
	全局:
		0: bastionPosition
		1: heroRingPosition
		2: resetPosition
		3: creditsPosition
		4: endPosition
		5: heroList
		6: missingHeroes
		7: maxDeath
		8: I
		9: kills
		10: bastionBotTargetPrefer
		11: difficulty
		12: scoreboardArray
		13: firstPlace
		14: secondPlace
		15: thirdPlace
		16: textIDs
		17: savedIndex
		18: savedHero
		19: savedDeaths
		20: savedIsWinner
		21: savedSkipCount
		22: savedJoinTime
		23: devList
		24: __currentMap__
		25: dmgReduction
		26: blackList
		27: rebootTime
		28: targetPlayer
		29: targetPlayerIndex
		30: thirdPersonPosition
		31: debugInfo
		32: devPlayer
		33: bastionBotSeconFire
		34: difficultyText
		35: controlCenterPosition
		36: controlJumpPosition
		37: secondJumpPosition
		38: controlRespawnPosition
		39: controlRespawnAxis
		40: controlRespawnAxisThreshold
		43: mapTitleRelation
		44: allTitle
		45: titlePlayer
		47: playerTitleRelation
		48: rgbList
		49: savedWinnerTime
		51: savedA36TGrenade
		52: savedA36TGrenadeHit
		53: savedA36TGrenadeDmg
		54: savedA36TGrenadeAlive
		55: turnSpeedMultiplier
		56: A36TGrenadeFB
		69: hashTag
		70: dlcBerserker
		71: dlcVishkarEvent
		72: dlc03
		73: dlc04
		80: heroColor
		82: breathRed
		90: springBoardPosition
		127: antiCrashActivated

	玩家:
		0: heroNumber
		1: progressionDeathCount
		2: skipCount
		3: isWinner
		4: dmgReduc
		5: anaSleepLimit
		6: temp
		7: attacker
		8: I
		9: target
		10: aimPosition
		11: turnSpeed
		12: tempAimPosition
		13: nearestTargetOutOfLoS
		14: dvaStart
		15: healID
		16: isInPosition
		17: rainbowOff
		18: runDeathCount
		19: joinTime
		20: menu
		21: menuTextID
		22: isDev
		23: debugInfo
		24: third
		25: hasNano
		26: nanoEffect
		27: invincible
		28: invincibleEffect
		29: isAirWalkEnabled
		30: isPortalEnabled
		31: controlCenterIndex
		32: controlJumpIndex
		33: controlPlayerRespawnPosition
		34: controlPlayerRespawn
		37: playerTitleAndColor
		38: titleTextID
		39: rgb_vect
		40: info_pvar
		41: winnerTime
		42: playerTitles
		43: playerTitleIndex
		44: playertitleEffect
		45: playerTitleRelationIndex
		46: playerTitleWhileIndex
		50: A36TGrenade
		51: A36TGrenadeHit
		52: A36TGrenadeDmg
		53: A36TGrenadeAlive
		60: mercyResurrect
}

子程序
{
	0: savePlayerData
	1: progressHero
	2: setDifficulty
	3: setThirdPerson
	4: setPlayerTitle
}

禁用 规则("声明：为了地图工坊社区的健康发展，本模式代码不得用于商业用途")
{
	事件
	{
		持续 - 全局;
	}
}

禁用 规则("在模式描述中保留原作者署名与原模式代码的前提下，你可基于本模式及其代码进行二次创作与发布")
{
	事件
	{
		持续 - 全局;
	}
}

规则("OverPy Map Detection")
{
	事件
	{
		持续 - 全局;
	}

	动作
	{
		If(数组包含(数组(地图(阿育陀耶), 地图(黑森林), 地图(黑森林), 地图(暴雪世界), 地图(暴雪世界), 地图(釜山), 地图(釜山), 地图(釜山), 地图(城堡), 地图(吉拉德堡), 地图(吉拉德堡), 地图(皇家赛道), 地图(斗兽场),
			地图(多拉多), 地图(生态监测站：南极洲), 地图(南极半岛), 地图(艾兴瓦尔德), 地图(艾兴瓦尔德), 地图(埃斯佩兰萨), 地图(阿努比斯王座), 地图(花村), 地图(花村), 地图(哈瓦那), 地图(好莱坞), 地图(好莱坞), 地图(
			“地平线”月球基地), 地图(伊利奥斯), 地图(伊利奥斯), 地图(伊利奥斯), 地图(伊利奥斯), 地图(怪鼠复仇), 地图(渣客镇), 地图(铁坂), 地图(国王大道), 地图(国王大道), 地图(漓江塔控制中心), 地图(漓江塔控制中心),
			地图(漓江塔庭院), 地图(漓江塔庭院), 地图(漓江塔夜市), 地图(漓江塔夜市), 地图(漓江塔), 地图(漓江塔), 地图(马莱温多), 地图(中城), 地图(墓园), 地图(尼泊尔), 地图(尼泊尔), 地图(尼泊尔), 地图(尼泊尔), 地图(
			尼泊尔), 地图(新皇后街), 地图(努巴尼), 地图(绿洲城), 地图(绿洲城), 地图(绿洲城), 地图(绿洲城), 地图(帕拉伊苏), 地图(巴黎), 地图(佩特拉), 地图(训练靶场), 地图(里阿尔托), 地图(66号公路), 地图(
			阿努比斯神殿), 地图(沃斯卡娅工业区), 地图(监测站：直布罗陀), 地图(地图工坊室内), 地图(地图工坊空地), 地图(地图工坊空地), 地图(地图工坊绿幕), 地图(地图工坊岛屿), 地图(地图工坊岛屿), 地图(香巴里寺院)), 当前地图));
			全局.__currentMap__ = 当前地图;
			中止;
		End;
		全局.__currentMap__ = 射线命中位置(矢量(500, 100, 500), 矢量(-500, -100, -500), 空, 空, 假);
		If(全局.__currentMap__ == 矢量(0, 0, 0) || 全局.__currentMap__ == 矢量(-500, -100, -500));
			全局.__currentMap__ = 射线命中位置(矢量(30, 5, 0), 矢量(-30, -10, -10), 空, 空, 假);
			If(全局.__currentMap__ == 矢量(-30, -10, -10));
				全局.__currentMap__ = 射线命中位置(矢量(200, 20, 100), 矢量(100, -100, -100), 空, 空, 假);
				If(全局.__currentMap__ == 矢量(100, -100, -100));
					全局.__currentMap__ = 射线命中位置(矢量(300, 20, -100), 矢量(300, -100, 100), 空, 空, 假);
					If(全局.__currentMap__ == 矢量(300, -100, 100));
						全局.__currentMap__ = 射线命中位置(矢量(50, 100, -150), 矢量(-50, -100, -160), 空, 空, 假);
						If(全局.__currentMap__ == 矢量(-50, -100, -160));
							全局.__currentMap__ = 射线命中位置(矢量(0, 300, 340), 矢量(0, -100, -300), 空, 空, 假);
							If(全局.__currentMap__ == 矢量(0, -100, -300));
								全局.__currentMap__ = 射线命中位置(矢量(140, 10, -240), 矢量(200, -10, -300), 空, 空, 假);
								If(全局.__currentMap__ == 矢量(200, -10, -300));
									全局.__currentMap__ = 射线命中位置(矢量(-180, 30, 60), 矢量(-180, -50, -60), 空, 空, 假);
								End;
							End;
						End;
					End;
				End;
			End;
		End;
		全局.__currentMap__ = 100 * 取整(Y方向分量(全局.__currentMap__), 上) + 10 * 取整(X方向分量(全局.__currentMap__), 至最近) + 取整(Z方向分量(全局.__currentMap__),
			下);
		If(全局.__currentMap__ == 10121);
			全局.__currentMap__ = 射线命中位置(矢量(-60, 20, -60), 矢量(60, -10, 60), 空, 空, 假);
			If(全局.__currentMap__ == 矢量(60, -10, 60));
				全局.__currentMap__ = 射线命中位置(矢量(-180, -70, 60), 矢量(-180, -100, -60), 空, 空, 假);
			End;
			全局.__currentMap__ = 100 * 取整(Y方向分量(全局.__currentMap__), 上) + 10 * 取整(X方向分量(全局.__currentMap__), 至最近) + 取整(Z方向分量(全局.__currentMap__),
				下);
		End;
		// If(数组包含(数组(地图(釜山), 地图(南极半岛), 地图(伊利奥斯), 地图(漓江塔), 地图(尼泊尔), 地图(绿洲城), 地图(萨摩亚)), 全局.__currentMap__));
			全局.controlCenterPosition =  数组(目标位置(0), 目标位置(1), 目标位置(2));
		// END;
	}
}

规则("Initialize global variables")
{
	事件
	{
		持续 - 全局;
	}

	动作
	{
		禁用 全局.dlcBerserker = 地图工坊设置开关(自定义字符串("DLC 扩展内容"), 自定义字符串("狂暴之心"), 假, 6);
		全局.dlcVishkarEvent = 地图工坊设置开关(自定义字符串("DLC 扩展内容"), 自定义字符串("随机事件扩展包（10.3 上线）"), 假, 6);
		全局.rebootTime = 地图工坊设置实数(自定义字符串("游戏"), 自定义字符串("自动重开时间间隔（小时）"), 3.500, 1, 4, 0) * 3600;
		全局.bastionBotTargetPrefer = 地图工坊设置组合(自定义字符串("游戏"), 自定义字符串("AI 堡垒瞄准系统"), 0, 数组(自定义字符串("自动"), 自定义字符串("近距离优先"), 自定义字符串("低生命值优先")), 2);
		全局.difficulty = 地图工坊设置组合(自定义字符串("游戏"), 自定义字符串("难度"), 1, 数组(自定义字符串("简单"), 自定义字符串("一般"), 自定义字符串("困难"), 自定义字符串("专家"), 自定义字符串("传奇"),
			自定义字符串("地狱：无法跳过英雄")), 1);
		全局.dmgReduction = 地图工坊设置开关(自定义字符串("游戏"), 自定义字符串("全英雄威能充能"), 真, 4);
		全局.bastionBotSeconFire = 地图工坊设置开关(自定义字符串("游戏"), 自定义字符串("AI 堡垒使用榴弹（忽略难度）"), 假, 3);
		全局.turnSpeedMultiplier = 全局.difficulty < 4 ? 4 + 全局.difficulty : 10 * 0.800;
		全局.maxDeath = 5 * 全局.difficulty;
		全局.savedIndex = 空数组;
		全局.savedHero = 空数组;
		全局.savedDeaths = 空数组;
		全局.savedIsWinner = 空数组;
		全局.savedSkipCount = 空数组;
		全局.savedJoinTime = 空数组;
		全局.devList = 数组(自定义字符串("他又"), 自定义字符串("芋泥玛奇朵"));
		全局.devPlayer = 空数组;
		全局.mapTitleRelation = 空数组;
	}
}

规则("Setup Blacklist")
{
	事件
	{
		持续 - 全局;
	}

	动作
	{
		全局.blackList = 空数组;
		修改全局变量(blackList, 添加至数组, 字符串分割(自定义字符串("腾讯游戏-GabrielReyes-Pakho"), 自定义字符串("-")));
	}
}

规则("Remove Player from Blacklist")
{
	事件
	{
		玩家加入比赛;
		队伍1;
		全部;
	}

	条件
	{
		数组包含(全局.blackList, 自定义字符串("{0}", 事件玩家)) == 真;
	}

	动作
	{
		移除玩家(事件玩家);
	}
}

规则("Update devPlayer from devList")
{
	事件
	{
		玩家加入比赛;
		队伍1;
		全部;
	}

	条件
	{
		数组包含(全局.devList, 自定义字符串("{0}", 事件玩家)) == 真;
		数组包含(全局.devPlayer, 自定义字符串("{0}", 事件玩家)) == 假;
	}

	动作
	{
		修改全局变量(devPlayer, 添加至数组, 事件玩家);
	}
}

规则("Update targetPlayer when player left")
{
	事件
	{
		玩家离开比赛;
		队伍1;
		全部;
	}

	动作
	{
		等待(服务器负载 / 100 * 0.032, 无视条件);
		全局.targetPlayerIndex = 0;
		全局.targetPlayer = 首个(已排序的数组(所有玩家(队伍1), 当前数组元素.joinTime));
	}
}

规则("initialize color array")
{
	事件
	{
		持续 - 全局;
	}

	动作
	{
		全局.rgbList = 数组(
			矢量(255, 0, 0),    // 红
            矢量(255, 165, 0),  // 橙
            矢量(255, 255, 0),  // 黄
            矢量(0, 255, 0),    // 绿
            矢量(0, 0, 255),    // 蓝
            矢量(75, 0, 130),   // 靛
            矢量(238, 130, 238) // 紫
		);
		等待(服务器负载 / 100 * 0.032, 无视条件);
		全局.breathRed = 数组(
            矢量(238, 75, 43),       // 朱红
            矢量(233, 116, 81),     // 锡耶纳色
            矢量(210, 43, 43),   // 镉红色
			矢量(220, 20, 60), // 深红
			矢量(255, 36, 0), // 猩红
            矢量(255, 50, 50),     // 亮红
            矢量(255, 0, 0)        // 纯红
        );

		全局.heroColor = 数组(
			自定义颜色(124, 62, 82, 255),//REAPER 0
			自定义颜色(214, 145, 65, 255),//TRACER 1
			自定义颜色(236, 233, 189, 255),//MERCY 2
			自定义颜色(185, 179, 137, 255),//HANZO 3
			自定义颜色(191, 115, 110, 255),//TORBJÖRN 4
			自定义颜色(148, 161, 165, 255),//REINHARDT 5
			自定义颜色(60, 126, 204, 255),//PHARAH 6
			自定义颜色(160, 169, 186, 255),//WINSTON 7
			自定义颜色(157, 105, 166, 255),//WIDOWMAKER 8
			自定义颜色(124, 143, 122, 255),//BASTION 9
			自定义颜色(45, 187, 209, 255),//SYMMETRA 10
			自定义颜色(236, 229, 128, 255),//ZENYATTA 11
			自定义颜色(149, 239, 66, 255),//GENJI 12
			自定义颜色(179, 139, 80, 255),//ROADHOG 13
			自定义颜色(173, 90, 95, 255),//CASSIDY 14
			自定义颜色(236, 190, 82, 255),//JUNKRAT 15
			自定义颜色(231, 130, 184, 255),//ZARYA 16
			自定义颜色(109, 121, 149, 255),//SOLDIER: 76 17
			自定义颜色(132, 201, 81, 255),//LÚCIO 18
			自定义颜色(237, 147, 199, 255),//D.VA 19
			自定义颜色(09, 171, 235, 255),//MEI 20
			自定义颜色(118, 93, 189, 255),//SOMBRA 21
			自定义颜色(131, 83, 76, 255),//DOOMFIST 22
			自定义颜色(110, 137, 177, 255),//ANA 23
			自定义颜色(69, 139, 66, 255),//ORISA 24
			自定义颜色(139, 98, 94, 255),//BRIGITTE 25
			自定义颜色(151, 113, 228, 255),//MOIRA 26
			自定义颜色(219, 147, 66, 255),//WRECKING BALL 27
			自定义颜色(198, 28, 65, 255),//SOJOURN 28
			自定义颜色(105, 105, 104, 255),//ASHE 29
			自定义颜色(154, 202, 243, 255),//ECHO 30
			自定义颜色(85, 178, 204, 255),//BAPTISTE 31
			自定义颜色(212, 135, 143, 255),//KIRIKO 32
			自定义颜色(142, 181, 215, 255),//JUNKER QUEEN 33
			自定义颜色(148, 160, 165, 255),//SIGMA 34
			自定义颜色(157, 140, 208, 255),//RAMATTRA 35
			自定义颜色(224, 182, 198, 255),//LIFEWEAVER 36
			自定义颜色(220, 132, 125, 255),//MAUGA 37
			自定义颜色(183, 168, 142, 255),//ILLARI 38
			自定义颜色(121, 97, 78, 255),//VENTURE 39
			自定义颜色(173, 143, 203, 255),//HAZARD 40
			自定义颜色(114, 31, 163, 255),//JUNO 41
			自定义颜色(54, 127, 221, 255)//FREJA 42
		);
	}
}

规则("initialize title array")
{
	事件
	{
		持续 - 全局;
	}

	动作
	{
		全局.titlePlayer = 数组(
			自定义字符串("他又"), // 0
            自定义字符串("芋泥玛奇朵"), // 1
            自定义字符串("草艮"), // 2
            自定义字符串("烛台与南九"), // 3
            自定义字符串("顾北酒笙"), // 4
            自定义字符串("WildRage"), // 5
            自定义字符串("尘风歌者"), // 6
            自定义字符串("吾携秋水揽星河"), // 7
            自定义字符串("寒霜冰湮"), // 8
            自定义字符串("Cold"), // 9
            自定义字符串("豆本豆豆奶"), // 10
            自定义字符串("神之岛風咲"), // 11
            自定义字符串("溪云初起日沉阁"), // 12
            自定义字符串("卖核弹的小女孩"), // 13
            自定义字符串("挽风"), // 14
            自定义字符串("物语之光"), // 15
            自定义字符串("别打老顾我啊"), // 16
            自定义字符串("看啊情"), // 17
            自定义字符串("眼镜小宅"), // 18
            自定义字符串("初一吖"), // 19
            自定义字符串("锦木千束"), // 20
			自定义字符串("她说话有股孩子气"), // 21
			自定义字符串("白银之鹰") // 22
		);
		等待(服务器负载 / 100 * 0.500, 无视条件);
		全局.allTitle = 数组(
			数组(自定义字符串("{0}开拓者", 当前地图), 全局.heroColor[12]), // 0
			数组(自定义字符串("这是一个超长的称号测试字段如果到这里还没有被截断说明确实很长你说得对但是广告位招租啊哈大OW是我的家乡"), 空), // 1
            数组(自定义字符串("地图不是我做的"), 空), // 2
            数组(自定义字符串("野生开发者"), 空), // 3
            数组(自定义字符串("堡垒建筑师"), 空), // 4
			数组(自定义字符串("友善的地图维护者"), 空), // 5
            数组(自定义字符串("三合一地图作者"), 空), // 6
            数组(自定义字符串("害群之马"), 空), // 7
            数组(自定义字符串("纯害战士"), 空), // 8
			数组(自定义字符串("{0}征服者", 当前地图), 颜色(红色)), // 9 地图称号模板
            数组(自定义字符串("{0}主宰", 当前地图), 颜色(紫色)),   // 10 地图称号模板
			数组(自定义字符串("专家幸存者"), 颜色(橙色)), // 11
			数组(自定义字符串("传奇挑战者"), 颜色(红色)), // 12
            数组(自定义字符串("地狱穿梭者"), 颜色(紫色)), // 13
            数组(自定义字符串("终极闪避"), 全局.heroColor[1]), // 14
			数组(自定义字符串("轻装上阵"), 全局.heroColor[2]), // 15
            数组(自定义字符串("完美无缺"), 颜色(青绿色)), // 16
			数组(自定义字符串("永不言弃"), 颜色(青绿色)), // 17
			数组(自定义字符串("坚韧不拔"), 颜色(白色)), // 18
			数组(自定义字符串("速通传奇"), 颜色(青绿色)), // 19
			数组(自定义字符串("闪避の神"), 全局.heroColor[28]), // 20
			数组(自定义字符串("钢铁之躯"), 全局.heroColor[28]), // 21
			数组(自定义字符串("大难不死"), 全局.heroColor[28]), // 22
            数组(自定义字符串("吸弹仙人"), 颜色(红色)), // 23
           	数组(自定义字符串("堡垒の偶像"), 颜色(红色)), // 24
		   	数组(自定义字符串("第一颗蛋"), 颜色(红色)), // 25
		   	数组(自定义字符串("我还能吃"), 颜色(红色)), // 26
			数组(自定义字符串("守望旅行家"), 颜色(红色)), // 27
			数组(自定义字符串("万象归一"), 颜色(红色)), // 28
			数组(自定义字符串("万域天穹"), 颜色(红色)), // 29
			数组(自定义字符串("狂暴烈焰"), 全局.heroColor[28]), // 30
			数组(自定义字符串("万蛋丛中过"), 全局.heroColor[28]), // 31
			数组(自定义字符串("天选之子"), 全局.heroColor[11]), // 32
			数组(自定义字符串("幸运星"), 全局.heroColor[3]), // 33
			数组(自定义字符串("时来运转"), 全局.heroColor[15]), // 34
			数组(自定义字符串("福星高照"), 全局.heroColor[32]), // 35
			数组(自定义字符串("倒霉蛋"), 全局.heroColor[22]), // 36
			数组(自定义字符串("What can i say"), 全局.heroColor[34]), // 37 混沌化身
			数组(自定义字符串("我命由我"), 全局.heroColor[23]) // 38 
		);

		全局.playerTitleRelation = 数组(
			// 玩家0: "他又" - 全部称号
            数组(0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38), 
			// 玩家1: "芋泥玛奇朵" - 全部称号
            数组(0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38),
            // 玩家"草艮"的称号索引: 11,12
           	数组(12, 13),
    
			// 玩家3: "烛台与南九" - 3个称号
			数组(12, 13, 25),
			
			// 玩家4: "顾北酒笙" - 4个称号
			数组(12, 16, 19, 13),
			
			// 玩家5: "WildRage" - 1个称号
			数组(12, 13, 22, 25),
			
			// 玩家6: "尘风歌者" - 10个称号
			数组(12, 13, 16, 18, 19, 15, 14, 22, 25),
			
			// 玩家7: "吾携秋水揽星河" - 7个称号
			数组(12, 16, 13, 19, 22, 15, 14),
			
			// 玩家8: "寒霜冰湮" - 7个称号
			数组(12, 16, 13, 19, 22, 15, 14),
			
			// 玩家9: "Cold" - 9个称号
			数组(16, 12, 13, 19, 22, 15, 14, 25),
			
			// 玩家10: "豆本豆豆奶" - 8个称号
			数组(16, 12, 19, 13, 22, 14, 25),
			
			// 玩家11: "神之岛風咲" - 3个称号
			数组(16, 12, 13),
			
			// 玩家12: "溪云初起日沉阁" - 5个称号
			数组(19, 16, 12, 13, 25),
			
			// 玩家13: "卖核弹的小女孩" - 3个称号
			数组(19, 16, 12),
			
			// 玩家14: "挽风" - 5个称号
			数组(15, 14, 19, 16, 12),
			
			// 玩家15: "物语之光" - 4个称号
			数组(12, 19, 13, 22),
			
			// 玩家16: "别打老顾我啊" - 5个称号
			数组(12, 13, 16, 19, 22),
			
			// 玩家17: "看啊情" - 4个称号
			数组(12, 16, 13, 22),
			
			// 玩家18: "眼镜小宅" - 4个称号
			数组(12, 13, 15, 16, 19, 22),
			
			// 玩家19: "初一吖" - 3个称号
			数组(12, 13, 16),
			
			// 玩家20: "锦木千束" - 3个称号
			数组(12, 13, 16),

			// 玩家21: "她说话有股孩子气"
			数组(12, 16, 19),

			// 玩家22: "白银之鹰"
			数组(12, 13, 19)
        );
	}
}

规则("set player title")
{
	事件
	{
		子程序;
		setPlayerTitle;
	}
	
	动作
	{
		等待(服务器负载 / 100 * 0.500, 无视条件);
		事件玩家.playerTitles = 空数组;
		事件玩家.playerTitleWhileIndex = 0;
		"关联查询"
		While(数量(事件玩家.playerTitles) < 数量(全局.playerTitleRelation[事件玩家.playerTitleRelationIndex]));
			修改玩家变量(事件玩家, playerTitles, 添加至数组, 数组(全局.allTitle[全局.playerTitleRelation[事件玩家.playerTitleRelationIndex][事件玩家.playerTitleWhileIndex]]));
			// 小字体信息(事件玩家, 自定义字符串("{0}", 全局.playerTitleRelation[事件玩家.playerTitleRelationIndex][事件玩家.playerTitleWhileIndex]));
			事件玩家.playerTitleWhileIndex += 1;
			等待(0.016, 无视条件);
			禁用 根据条件中止(事件玩家.playerTitleWhileIndex >= 数量(全局.playerTitleRelation[事件玩家.playerTitleRelationIndex]));
		END;
		等待(0.016, 无视条件);
		事件玩家.playerTitleWhileIndex = 0;
		IF(数量(已过滤的数组(全局.mapTitleRelation, 首个(当前数组元素) == 事件玩家.playerTitleRelationIndex)) > 0);
			While(数量(事件玩家.playerTitles) < 数量(全局.playerTitleRelation[事件玩家.playerTitleRelationIndex]) + 数量(已过滤的数组(全局.mapTitleRelation, 首个(当前数组元素) == 事件玩家.playerTitleRelationIndex)));
			// 禁用 小字体信息(事件玩家, 自定义字符串("{0}", 已过滤的数组(全局.mapTitleRelation, 首个(当前数组元素) == 事件玩家.playerTitleRelationIndex)));
				修改玩家变量(事件玩家, playerTitles, 添加至数组, 数组(全局.allTitle[已过滤的数组(全局.mapTitleRelation, 首个(当前数组元素) == 事件玩家.playerTitleRelationIndex)[事件玩家.playerTitleWhileIndex][1]]));
			事件玩家.playerTitleWhileIndex += 1;
			等待(0.016, 无视条件);
		END;
		// 事件玩家.playerTitleAndColor = 数组(首个(最后(事件玩家.playerTitles)), 最后(最后(事件玩家.playerTitles)));
	}
}

规则("save player data if the player has pa﻿ssed round 2")
{
	事件
	{
		子程序;
		savePlayerData;
	}

	动作
	{
		等待(服务器负载 / 100 * 0.500, 无视条件);
		If(事件玩家.heroNumber > 2);
			"We're saving data as a string, because although we can't hold entity id's, we can hold entity names as string."
			If(!数组包含(全局.savedIndex, 自定义字符串("{0}", 事件玩家)));
				修改全局变量(savedIndex, 添加至数组, 自定义字符串("{0}", 事件玩家));
			End;
			等待(服务器负载 / 100 * 0.500, 无视条件);
			全局.savedHero[数组值的索引(全局.savedIndex, 自定义字符串("{0}", 事件玩家))] = 事件玩家.heroNumber;
			等待(服务器负载 / 100 * 0.500, 无视条件);
			全局.savedDeaths[数组值的索引(全局.savedIndex, 自定义字符串("{0}", 事件玩家))] = 事件玩家.runDeathCount;
			等待(服务器负载 / 100 * 0.500, 无视条件);
			全局.savedIsWinner[数组值的索引(全局.savedIndex, 自定义字符串("{0}", 事件玩家))] = 事件玩家.isWinner;
			等待(服务器负载 / 100 * 0.500, 无视条件);
			全局.savedSkipCount[数组值的索引(全局.savedIndex, 自定义字符串("{0}", 事件玩家))] = 事件玩家.skipCount;
			等待(服务器负载 / 100 * 0.500, 无视条件);
			根据条件跳过(事件玩家.winnerTime == 空, 1);
			全局.savedWinnerTime[数组值的索引(全局.savedIndex, 自定义字符串("{0}", 事件玩家))] = 事件玩家.winnerTime;
			等待(服务器负载 / 100 * 0.500, 无视条件);
			全局.savedA36TGrenade[数组值的索引(全局.savedIndex, 自定义字符串("{0}", 事件玩家))] = 事件玩家.A36TGrenade;
			等待(服务器负载 / 100 * 0.500, 无视条件);
			全局.savedA36TGrenadeHit[数组值的索引(全局.savedIndex, 自定义字符串("{0}", 事件玩家))] = 事件玩家.A36TGrenadeHit;
			等待(服务器负载 / 100 * 0.500, 无视条件);
			全局.savedA36TGrenadeDmg[数组值的索引(全局.savedIndex, 自定义字符串("{0}", 事件玩家))] = 事件玩家.A36TGrenadeDmg;
			等待(服务器负载 / 100 * 0.500, 无视条件);
			全局.savedA36TGrenadeAlive[数组值的索引(全局.savedIndex, 自定义字符串("{0}", 事件玩家))] = 事件玩家.A36TGrenadeAlive;
			小字体信息(事件玩家, 自定义字符串("  你的进度数据已保存"));
			等待(2, 无视条件);
			小字体信息(事件玩家, 自定义字符串("  如果当前游戏重开，所有人的进度数据将被清空"));
			等待(2, 无视条件);
			小字体信息(事件玩家, 自定义字符串("  为了保证房间处于公开状态，请确保房主赞赏等级为 3 级或以上"));
		End;
	}
}

规则("add 1 to heroNumber, switch player to the newly unlocked hero, and set hero availability to that hero and all preceding")
{
	事件
	{
		子程序;
		progressHero;
	}

	动作
	{
		事件玩家.heroNumber += 1;
		事件玩家.controlJumpIndex = 0;
		事件玩家.controlPlayerRespawn = 假;
		事件玩家.controlPlayerRespawnPosition = 空;
		小字体信息(所有玩家(所有队伍), 自定义字符串("  {0} 已经解锁 {1}！", 事件玩家, 英雄图标字符串(全局.heroList[事件玩家.heroNumber])));
		播放效果(事件玩家, 状态爆炸声音, 颜色(白色), 所选位置(事件玩家), 200);
		事件玩家.progressionDeathCount = 0;
		等待(0.032, 无视条件);
		开始强制玩家选择英雄(事件玩家, 全局.heroList[事件玩家.heroNumber]);
		等待直到 (所用英雄(事件玩家) == 全局.heroList[事件玩家.heroNumber], 0.500);
		停止强制玩家选择英雄(事件玩家);
		等待(服务器负载 / 100 * 0.500, 无视条件);
		设置玩家可选的英雄(事件玩家, 数组分割(全局.heroList, 0, 事件玩家.heroNumber + 1));
		等待(服务器负载 / 100 * 0.500, 无视条件);
		预加载英雄(事件玩家, 数组(全局.heroList[事件玩家.heroNumber + 1], 全局.heroList[事件玩家.heroNumber + 1]));
		等待(服务器负载 / 100 * 0.500, 无视条件);
		等待(3, 无视条件);
		调用子程序(savePlayerData);
		等待(0.100, 无视条件);
	}
}

规则("initialize difficulty effects text")
{
	事件
	{
		子程序;
		setDifficulty;
	}

	动作
	{
		等待(服务器负载 / 100, 无视条件);
		If(真);
			跳过(数组(18, 0, 3, 6, 9, 12, 15)[1 + 数组值的索引(数组(0, 1, 2, 3, 4, 5), 全局.difficulty)]);
			全局.difficultyText[0] = 自定义字符串("简单");
			全局.difficultyText[1] = 颜色(绿色);
		Else;
			全局.difficultyText[0] = 自定义字符串("一般");
			全局.difficultyText[1] = 颜色(灰绿色);
		Else;
			全局.difficultyText[0] = 自定义字符串("困难");
			全局.difficultyText[1] = 颜色(黄色);
		Else;
			全局.difficultyText[0] = 自定义字符串("专家");
			全局.difficultyText[1] = 颜色(橙色);
		Else;
			全局.difficultyText[0] = 自定义字符串("传奇");
			全局.difficultyText[1] = 颜色(红色);
		Else;
			全局.difficultyText[0] = 自定义字符串("地狱");
			全局.difficultyText[1] = 颜色(紫色);
		Else;
		End;
	}
}

规则("3rd camera function")
{
	事件
	{
		子程序;
		setThirdPerson;
	}

	动作
	{
		事件玩家.third = !事件玩家.third;
		If(事件玩家.third);
			"by overclocking"
			开始镜头(事件玩家, 射线命中位置(事件玩家 + 上 * (相距距离(眼睛位置(事件玩家), 事件玩家) + 0.500), 射线命中位置(事件玩家 + 上 * (相距距离(眼睛位置(事件玩家), 事件玩家) + 0.500), 事件玩家 + 上 * (
				相距距离(眼睛位置(事件玩家), 事件玩家) + 0.500) + 面朝方向(事件玩家) * -3, 空, 事件玩家, 真), 空, 事件玩家, 真), 事件玩家 + 面朝方向(事件玩家) * 100, 100);
		Else;
			停止镜头(事件玩家);
		End;
	}
}

规则("map - b﻿lizzworld")
{
	事件
	{
		持续 - 全局;
	}

	条件
	{
		(全局.__currentMap__ == 地图(暴雪世界) || 全局.__currentMap__ == 1228) == 真;
	}

	动作
	{
		全局.bastionPosition[0] = 矢量(-121.979, 0.148, 110.507);
		全局.bastionPosition[1] = 矢量(-93.733, -1.047, 110.100);
		全局.bastionPosition[2] = 矢量(-66.733, 7.079, 110.571);
		全局.bastionPosition[3] = 矢量(-0.165, 7.421, 89.178);
		全局.bastionPosition[4] = 矢量(3.082, 3.900, 43.609);
		全局.bastionPosition[5] = 矢量(3.049, -4.850, 16.685);
		全局.endPosition = 矢量(2.772, -6.500, -6.900);
		全局.heroRingPosition = 矢量(-149.170, 0.830, 100.850);
		全局.resetPosition = 矢量(-150.250, 0.830, 104.510);
		全局.creditsPosition = 矢量(-170.800, 3.650, 96.450);
		开始强制重生室(队伍1, 2);
		全局.mapTitle = 数组(
			数组(自定义字符串("吾携秋水揽星河"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("吾携秋水揽星河"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("豆本豆豆奶"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("豆本豆豆奶"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("Cold"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("Cold"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("尘风歌者"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("尘风歌者"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("卖核弹的小女孩"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__)
		);
		修改全局变量(allTitle, 添加至数组, 全局.mapTitle);
	}
}

规则("map - dorado")
{
	事件
	{
		持续 - 全局;
	}

	条件
	{
		全局.__currentMap__ == 地图(多拉多);
	}

	动作
	{
		// 全局.bastionPosition = 矢量(170.288, 19.100, 45.051);
		全局.bastionPosition = 矢量(167.25, 10.85, 42.40);
		// 修改全局变量(bastionPosition, 添加至数组, 矢量(126.713, 16.300, 17.517));
		修改全局变量(bastionPosition, 添加至数组, 矢量(113.04, 13.800, 24.63));
		// 修改全局变量(bastionPosition, 添加至数组, 矢量(118.262, 18.250, 1.209));
		修改全局变量(bastionPosition, 添加至数组, 矢量(112.06, 17.250, -2.91));
		修改全局变量(bastionPosition, 添加至数组, 矢量(102.79, 11.01, -23.56));
		修改全局变量(bastionPosition, 添加至数组, 矢量(78.973, 17.480, -6.843));
		// 修改全局变量(bastionPosition, 添加至数组, 矢量(34.074, 11.080, -17.958));
		修改全局变量(bastionPosition, 添加至数组, 矢量(34.78, 10.05, -6.80));
		// 修改全局变量(bastionPosition, 添加至数组, 矢量(26.361, 10.650, 20.115));
		修改全局变量(bastionPosition, 添加至数组, 矢量(32.21, 10.59, 20.55));
		修改全局变量(bastionPosition, 添加至数组, 矢量(8.83, 2.380, 25.76));
		// 全局.endPosition = 矢量(16.012, 空数组, 5.874);
		全局.endPosition = 矢量(15.47, 9.54, -1.000);
		全局.heroRingPosition = 矢量(182.470, 7.040, 42.270);
		全局.resetPosition = 矢量(183.300, 7.040, 37.960);
		全局.creditsPosition = 矢量(197.720, 10.010, 44.630);
		开始强制重生室(队伍1, 1);
		全局.mapTitle = 数组(
			数组(自定义字符串("卖核弹的小女孩"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("吾携秋水揽星河"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("吾携秋水揽星河"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("Cold"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("Cold"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("看啊情"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("看啊情"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("尘风歌者"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("尘风歌者"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__)
		);
		修改全局变量(allTitle, 添加至数组, 全局.mapTitle);
	}
}

规则("map - eichenwalde")
{
	事件
	{
		持续 - 全局;
	}

	条件
	{
		(全局.__currentMap__ == 地图(艾兴瓦尔德) || 全局.__currentMap__ == 565) == 真;
	}

	动作
	{
		全局.bastionPosition = 矢量(115.780, 14.732, -29.038);
		修改全局变量(bastionPosition, 添加至数组, 矢量(119.480, 18.855, -43.120));
		修改全局变量(bastionPosition, 添加至数组, 矢量(54.429, 23.320, -102.936));
		修改全局变量(bastionPosition, 添加至数组, 矢量(75.164, 12.660, -71.852));
		修改全局变量(bastionPosition, 添加至数组, 矢量(36.490, 8.938, -71.140));
		修改全局变量(bastionPosition, 添加至数组, 矢量(2.584, 8.026, -63.687));
		修改全局变量(bastionPosition, 添加至数组, 矢量(-12.503, 3.514, -31.548));
		修改全局变量(bastionPosition, 添加至数组, 矢量(0.632, 6.073, -2.154));
		修改全局变量(bastionPosition, 添加至数组, 矢量(-32.381, -1.334, 0.005));
		修改全局变量(bastionPosition, 添加至数组, 矢量(70.234, 18.381, -65.979));
		修改全局变量(bastionPosition, 添加至数组, 矢量(8.544, 10.396, -42.598));
		// 全局.bastionPosition[0] = 矢量(123.333, 8.971, -27.303);
		// 全局.bastionPosition[1] = 矢量(89.318, 21.095, -62.697);
		// 全局.bastionPosition[2] = 矢量(37.930, 12.620, -79.920);
		// 全局.bastionPosition[3] = 矢量(23.799, 7.417, -53.839);
		// 全局.bastionPosition[4] = 矢量(-4.858, 6.957, -31.559);
		// 全局.bastionPosition[5] = 矢量(25.587, 6.300, -14.531);
		// 全局.endPosition = 矢量(-10.354, -2.149, -12.399);
		全局.endPosition = 矢量(-26.72, 1.97, -34.09);
		全局.heroRingPosition = 矢量(131.335, 10.720, 1.098);
		全局.resetPosition = 矢量(128.060, 10.720, 1.840);
		全局.creditsPosition = 矢量(132.820, 13.720, 9.040);
		开始强制重生室(队伍1, 2);
		全局.mapTitle = 数组(
			数组(自定义字符串("尘风歌者"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("尘风歌者"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("尘风歌者"), 自定义字符串("{0}开拓者", 全局.__currentMap__), 全局.heroColor[12], 全局.__currentMap__),
			数组(自定义字符串("顾北酒笙"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("顾北酒笙"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("吾携秋水揽星河"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("吾携秋水揽星河"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("吾携秋水揽星河"), 自定义字符串("{0}开拓者", 全局.__currentMap__), 全局.heroColor[12], 全局.__currentMap__),
			数组(自定义字符串("挽风"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("卖核弹的小女孩"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("看啊情"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("她说话有股孩子气"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("溪云初起日沉阁"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("溪云初起日沉阁"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("溪云初起日沉阁"), 自定义字符串("{0}开拓者", 全局.__currentMap__), 全局.heroColor[12], 全局.__currentMap__),
			数组(自定义字符串("Cold"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("Cold"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("Cold"), 自定义字符串("{0}开拓者", 全局.__currentMap__), 全局.heroColor[12], 全局.__currentMap__),
			数组(自定义字符串("寒霜冰湮"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("寒霜冰湮"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("寒霜冰湮"), 自定义字符串("{0}开拓者", 全局.__currentMap__), 全局.heroColor[12], 全局.__currentMap__),
			数组(自定义字符串("眼镜小宅"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("眼镜小宅"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("眼镜小宅"), 自定义字符串("{0}开拓者", 全局.__currentMap__), 全局.heroColor[12], 全局.__currentMap__),
			数组(自定义字符串("初一吖"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("初一吖"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("初一吖"), 自定义字符串("{0}开拓者", 全局.__currentMap__), 全局.heroColor[12], 全局.__currentMap__),
			数组(自定义字符串("锦木千束"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("锦木千束"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("锦木千束"), 自定义字符串("{0}开拓者", 全局.__currentMap__), 全局.heroColor[12], 全局.__currentMap__)
		);
		修改全局变量(allTitle, 添加至数组, 全局.mapTitle);
	}
}

规则("map - havana")
{
	事件
	{
		持续 - 全局;
	}

	条件
	{
		全局.__currentMap__ == 地图(哈瓦那);
	}

	动作
	{
		全局.bastionPosition = 矢量(117.332, 14.433, -58.091);
		// 修改全局变量(bastionPosition, 添加至数组, 矢量(140.438, 6.413, -16.667));
		修改全局变量(bastionPosition, 添加至数组, 矢量(97.00, 9.01, -25.51));
		// 修改全局变量(bastionPosition, 添加至数组, 矢量(31.288, 18.900, -75.331));
		修改全局变量(bastionPosition, 添加至数组, 矢量(62.21, 12.06, -83.30));
		// 修改全局变量(bastionPosition, 添加至数组, 矢量(14.787, 7.300, -47.470));
		修改全局变量(bastionPosition, 添加至数组, 矢量(11.580, 7.960, -52.71));
		// 修改全局变量(bastionPosition, 添加至数组, 矢量(15.880, 12.660, -52.71));
		修改全局变量(bastionPosition, 添加至数组, 矢量(10.13, 6.000, -100.38));
		// 修改全局变量(bastionPosition, 添加至数组, 矢量(-32.514, 7.150, -79.487));
		修改全局变量(bastionPosition, 添加至数组, 矢量(-37.54, 8.230, -72.23));
		// 修改全局变量(bastionPosition, 添加至数组, 矢量(-71.110, 5.846, -72.362));
		修改全局变量(bastionPosition, 添加至数组, 矢量(-77.17, 10.13, -66.78));
		// 全局.endPosition = 矢量(-77.203, 2, -50.678);
		全局.endPosition = 矢量(-77.24, 7.22, -49.83);
		全局.heroRingPosition = 矢量(158.256, 11, -47.739);
		全局.resetPosition = 矢量(158.300, 11, -44.350);
		全局.creditsPosition = 矢量(193.450, 13.250, -46.490);
		开始强制重生室(队伍1, 2);
		全局.mapTitle = 数组(
			数组(自定义字符串("豆本豆豆奶"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("豆本豆豆奶"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("Cold"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("Cold"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("吾携秋水揽星河"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("吾携秋水揽星河"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("寒霜冰湮"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("寒霜冰湮"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("溪云初起日沉阁"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("溪云初起日沉阁"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("顾北酒笙"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("顾北酒笙"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("卖核弹的小女孩"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__)
		);
		修改全局变量(allTitle, 添加至数组, 全局.mapTitle);
	}
}

规则("map - hollywood")
{
	事件
	{
		持续 - 全局;
	}

	条件
	{
		(全局.__currentMap__ == 地图(好莱坞) || 全局.__currentMap__ == 1505) == 真;
	}

	动作
	{
		全局.bastionPosition = 矢量(-27.99, 6.85, -137.80);
		// 修改全局变量(bastionPosition, 添加至数组, 矢量(97.00, 9.01, -25.51));
		// 修改全局变量(bastionPosition, 添加至数组, 矢量(-2.241, 12.161, -112.505));
		修改全局变量(bastionPosition, 添加至数组, 矢量(-35.35, 3.77, -112.58));
		修改全局变量(bastionPosition, 添加至数组, 矢量(-19.99, 9.75, -100.10));
		// 修改全局变量(bastionPosition, 添加至数组, 矢量(-5.46, 4.62, -73.74));
		修改全局变量(bastionPosition, 添加至数组, 矢量(7.94, 10.90, -69.79));
		// 修改全局变量(bastionPosition, 添加至数组, 矢量(11.552, 6.303, -69.943));
		修改全局变量(bastionPosition, 添加至数组, 矢量(30.55, 3.57, -42.43));
		修改全局变量(bastionPosition, 添加至数组, 矢量(-7.480, 7.441, -43.441));
		修改全局变量(bastionPosition, 添加至数组, 矢量(-20.714, 8.050, 9.977));
		// 修改全局变量(bastionPosition, 添加至数组, 矢量(4.864, 7.147, 38.401));
		修改全局变量(bastionPosition, 添加至数组, 矢量(-9.16, 5.01, 46.10));
		// 根据条件跳过(全局.difficulty < 4, 1);
		// 修改全局变量(bastionPosition, 添加至数组, 矢量(-17.03, 6.33, 46.71));
		// 全局.bastionPosition[0] = 矢量(-26.166, 7.503, -134.609);
		// 全局.bastionPosition[1] = 矢量(-2.241, 12.161, -112.505);
		// 全局.bastionPosition[2] = 矢量(11.552, 6.303, -69.943);
		// 全局.bastionPosition[3] = 矢量(-7.480, 7.441, -43.441);
		// 全局.bastionPosition[4] = 矢量(-20.714, 8.050, 9.977);
		// 全局.bastionPosition[5] = 矢量(4.864, 7.147, 38.401);
		全局.endPosition = 矢量(-12.002, -1.307, 69.489);
		全局.heroRingPosition = 矢量(-27.291, 3.920, -156.654);
		全局.resetPosition = 矢量(-23.640, 3.920, -157.440);
		全局.creditsPosition = 矢量(-31.650, 8.960, -175.050);
		开始强制重生室(队伍1, 2);
		全局.mapTitle = 数组(
			数组(自定义字符串("尘风歌者"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("尘风歌者"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("豆本豆豆奶"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("豆本豆豆奶"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("Cold"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("Cold"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("寒霜冰湮"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("寒霜冰湮"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("卖核弹的小女孩"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__)
			
		);
		修改全局变量(allTitle, 添加至数组, 全局.mapTitle);
	}
}

规则("map - horizon lunar colony")
{
	事件
	{
		持续 - 全局;
	}

	条件
	{
		全局.__currentMap__ == 地图(“地平线”月球基地);
	}

	动作
	{
		全局.bastionPosition[0] = 矢量(-15.287, 6, -127.244);
		全局.bastionPosition[1] = 矢量(16.250, 11.860, -106.756);
		// 全局.bastionPosition[2] = 矢量(64.269, 16, -74.726);
		全局.bastionPosition[2] = 矢量(62.52, 14, -77.970);
		"Fixed by 他又"
		全局.bastionPosition[3] = 矢量(33.140, 13.03, -43.680);
		全局.bastionPosition[4] = 矢量(19.496, 9, -1.439);
		全局.bastionPosition[5] = 矢量(66.687, 8.520, -37.241);
		全局.endPosition = 矢量(34.476, 12, -23.518);
		全局.heroRingPosition = 矢量(-41.390, 5, -159.030);
		全局.resetPosition = 矢量(-45.620, 5, -156.870);
		全局.creditsPosition = 矢量(-55.870, 7.680, -171.970);
		开始强制重生室(队伍1, 0);
		全局.mapTitle = 数组(
			数组(自定义字符串("顾北酒笙"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("卖核弹的小女孩"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("Cold"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("尘风歌者"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("尘风歌者"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__)
			
		);
		修改全局变量(allTitle, 添加至数组, 全局.mapTitle);
	}
}

规则("map - junkerto﻿wn")
{
	事件
	{
		持续 - 全局;
	}

	条件
	{
		全局.__currentMap__ == 地图(渣客镇);
	}

	动作
	{
		// 全局.bastionPosition = 矢量(-96.235, 13.672, -136.725);
		全局.bastionPosition = 矢量(-101.37, 12.72, -135.27);
		修改全局变量(bastionPosition, 添加至数组, 矢量(-72.634, 6.669, -145.321));
		// 修改全局变量(bastionPosition, 添加至数组, 矢量(-27.431, 13.480, -100.155));
		修改全局变量(bastionPosition, 添加至数组, 矢量(-57.67, 13.98, -92.45));
		修改全局变量(bastionPosition, 添加至数组, 矢量(-27.85, 14.52, -97.33));
		修改全局变量(bastionPosition, 添加至数组, 矢量(-25.34, 8.29, -36.47));
		// 修改全局变量(bastionPosition, 添加至数组, 矢量(-2.080, 11.366, -61.807));
		修改全局变量(bastionPosition, 添加至数组, 矢量(-5.660, 14.63, -74.46));
		// 修改全局变量(bastionPosition, 添加至数组, 矢量(30.116, 13.407, -59.880));
		// 修改全局变量(bastionPosition, 添加至数组, 矢量(29.97, 16.37, -91.860));
		修改全局变量(bastionPosition, 添加至数组, 矢量(32.15, 15.16, -89.130));
		全局.endPosition = 矢量(30.248, 5.515, -81.733);
		全局.heroRingPosition = 矢量(-88.030, 11.220, -88);
		全局.resetPosition = 矢量(-103.910, 11.690, -86.600);
		全局.creditsPosition = 矢量(-92.710, 14.040, -73.790);
		开始强制重生室(队伍1, 2);
		全局.mapTitle = 数组(
			数组(自定义字符串("尘风歌者"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("尘风歌者"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("Cold"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("Cold"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("吾携秋水揽星河"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("吾携秋水揽星河"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("寒霜冰湮"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("寒霜冰湮"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("看啊情"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("看啊情"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__)

		);
		修改全局变量(allTitle, 添加至数组, 全局.mapTitle);
	}
}

规则("map - king's row")
{
	事件
	{
		持续 - 全局;
	}

	条件
	{
		(全局.__currentMap__ == 地图(国王大道) || 全局.__currentMap__ == 742) == 真;
	}

	动作
	{
		全局.bastionPosition = 矢量(-143.900, 7.130, 10.150);
		// 修改全局变量(bastionPosition, 添加至数组, 矢量(-120.990, 1.070, -12.080));
		修改全局变量(bastionPosition, 添加至数组, 矢量(-116.440, 6.130, 5.72));
		修改全局变量(bastionPosition, 添加至数组, 矢量(-103.120, 6.930, -4.02));
		// 修改全局变量(bastionPosition, 添加至数组, 矢量(-91.380, 1.140, -27.900));
		修改全局变量(bastionPosition, 添加至数组, 矢量(-91.990, 7.50, -28.630));
		// 修改全局变量(bastionPosition, 添加至数组, 矢量(-55.460, -0.200, -29.830));
		修改全局变量(bastionPosition, 添加至数组, 矢量(-66.62, 4.500, -35.930));
		修改全局变量(bastionPosition, 添加至数组, 矢量(-29.170, 2.55, -31.430));
		// 修改全局变量(bastionPosition, 添加至数组, 矢量(5.980, 6.110, -30.350));
		// 修改全局变量(bastionPosition, 添加至数组, 矢量(-21.560, 2.580, -8.160));
		修改全局变量(bastionPosition, 添加至数组, 矢量(-10.67, 16.970, 5.65));
		全局.endPosition = 矢量(-1.900, 5, -0.290);
		全局.heroRingPosition = 矢量(-176.048, -0.070, 36.540);
		全局.resetPosition = 矢量(-175.230, -0.070, 43.030);
		全局.creditsPosition = 矢量(-185.560, 3.530, 38.320);
		开始强制重生室(队伍1, 1);
		全局.mapTitle = 数组(
			数组(自定义字符串("尘风歌者"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("尘风歌者"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("Cold"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("Cold"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("豆本豆豆奶"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("豆本豆豆奶"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__)

		);
		修改全局变量(allTitle, 添加至数组, 全局.mapTitle);
	}
}

规则("map - numbani")
{
	事件
	{
		持续 - 全局;
	}

	条件
	{
		全局.__currentMap__ == 地图(努巴尼);
	}

	动作
	{
		"Fixed by 他又"
		全局.bastionPosition[0] = 矢量(179.102, 4.250, 13.115);
		全局.bastionPosition[1] = 矢量(154.224, -4.180, 13.616);
		全局.bastionPosition[2] = 矢量(118.815, 4.250, 3.556);
		全局.bastionPosition[3] = 矢量(78.459, 6.250, -11.527);
		全局.bastionPosition[4] = 矢量(67.43, 6.25, 18.39);
		全局.bastionPosition[5] = 矢量(38.95, 5.50, 8.93);
		全局.endPosition = 矢量(17.97, -0.18, 18.53);
		全局.heroRingPosition = 矢量(225.74, 0.200, 4.550);
		全局.resetPosition = 矢量(224.54, 0.200, 0.390);
		全局.creditsPosition = 矢量(254.540, 3.200, 22.870);
		开始强制重生室(队伍1, 1);
		全局.mapTitle = 数组(
			数组(自定义字符串("寒霜冰湮"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("寒霜冰湮"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("豆本豆豆奶"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("豆本豆豆奶"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("溪云初起日沉阁"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("溪云初起日沉阁"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("Cold"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("Cold"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("尘风歌者"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("尘风歌者"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__)
		);
		修改全局变量(allTitle, 添加至数组, 全局.mapTitle);
	}
}

规则("map - paraiso")
{
	事件
	{
		持续 - 全局;
	}

	条件
	{
		全局.__currentMap__ == 地图(帕拉伊苏);
	}

	动作
	{
		全局.bastionPosition = 矢量(-47.030, 6.860, -141.730);
		修改全局变量(bastionPosition, 添加至数组, 矢量(5.220, 12, -122));
		修改全局变量(bastionPosition, 添加至数组, 矢量(-5.81, 10.000, -88.750));
		修改全局变量(bastionPosition, 添加至数组, 矢量(10.080, 3.900, -56.920));
		// 修改全局变量(bastionPosition, 添加至数组, 矢量(3.130, 11.160, -62.560));
		// 修改全局变量(bastionPosition, 添加至数组, 矢量(-23.510, 10.110, -48.500));
		修改全局变量(bastionPosition, 添加至数组, 矢量(-13.620, 8.220, -44.110));
		修改全局变量(bastionPosition, 添加至数组, 矢量(11.420, 5.100, -24.260));
		修改全局变量(bastionPosition, 添加至数组, 矢量(-6.880, 0.500, 26.090));
		// 修改全局变量(bastionPosition, 添加至数组, 矢量(4.780, 0.97, 13.330));
		修改全局变量(bastionPosition, 添加至数组, 矢量(-40.630, 3.000, 40.010));
		// 全局.endPosition = 矢量(-30.920, 3.300, 21.460);
		全局.endPosition = 矢量(-39.540, -2.000, 62.860);
		全局.heroRingPosition = 矢量(-78.250, 6.330, -167.960);
		全局.resetPosition = 矢量(-78.300, 5.030, -170.800);
		全局.creditsPosition = 矢量(-70.200, 7.750, -183.140);
		开始强制重生室(队伍1, 2);
		全局.mapTitle = 数组(
			数组(自定义字符串("豆本豆豆奶"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("豆本豆豆奶"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("Cold"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("Cold"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("尘风歌者"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("尘风歌者"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("寒霜冰湮"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("寒霜冰湮"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("吾携秋水揽星河"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("吾携秋水揽星河"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("溪云初起日沉阁"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("溪云初起日沉阁"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__)
			
			
		);
		修改全局变量(allTitle, 添加至数组, 全局.mapTitle);
	}
}

规则("map - paris")
{
	事件
	{
		持续 - 全局;
	}

	条件
	{
		全局.__currentMap__ == 地图(巴黎);
	}

	动作
	{
		"made by 芋泥玛奇朵"
		全局.bastionPosition = 矢量(-95.984, 13.454, -83.535);
		修改全局变量(bastionPosition, 添加至数组, 矢量(-72.132, 11.976, -44.042));
		修改全局变量(bastionPosition, 添加至数组, 矢量(-42.867, 18.510, -12.093));
		修改全局变量(bastionPosition, 添加至数组, 矢量(-30.230, 10.020, 3.280));
		修改全局变量(bastionPosition, 添加至数组, 矢量(-14.721, 14.250, -35.219));
		修改全局变量(bastionPosition, 添加至数组, 矢量(-2.715, 10.080, -52.081));
		全局.endPosition = 矢量(9.563, 8.329, -59.980);
		全局.heroRingPosition = 矢量(-109.263, 15.300, -111.151);
		全局.resetPosition = 矢量(-115.030, 15.970, -122.820);
		全局.creditsPosition = 矢量(-119.740, 19, -132.450);
		开始强制重生室(队伍1, 1);
		全局.mapTitle = 数组(
			数组(自定义字符串("豆本豆豆奶"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("豆本豆豆奶"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("寒霜冰湮"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("寒霜冰湮"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("Cold"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("Cold"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("尘风歌者"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("尘风歌者"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("叽里咕噜说什么呢"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("叽里咕噜说什么呢"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__)
		);
		修改全局变量(allTitle, 添加至数组, 全局.mapTitle);
	}
}

规则("map - rialto")
{
	事件
	{
		持续 - 全局;
	}

	条件
	{
		全局.__currentMap__ == 地图(里阿尔托);
	}

	动作
	{
		开始强制重生室(队伍1, 2);
		"图外重生点"
		// 全局.controlRespawnPosition = 空数组;
		全局.controlRespawnPosition = 矢量(-52.36,3.83,-176.36);
		修改全局变量(controlRespawnPosition,  添加至数组, 矢量(53.17,1.25,22.99));
		全局.bastionPosition =  矢量(-64.421, 5.040, -125.927);
		修改全局变量(bastionPosition, 添加至数组, 矢量(-16.976, 1.660, -38.459));
		修改全局变量(bastionPosition, 添加至数组, 矢量(-36.002, 4.750, -77.344));
		修改全局变量(bastionPosition, 添加至数组, 矢量(59.058, 0.070, -8.103));
		修改全局变量(bastionPosition, 添加至数组, 矢量(54.797, 1.740, -59.938));
		修改全局变量(bastionPosition, 添加至数组, 矢量(87.874, -0.370, 0.268));
		"高塔"
		修改全局变量(bastionPosition, 添加至数组, 矢量(60.53,50.43,61.63));
		修改全局变量(bastionPosition, 添加至数组, 矢量(-13.12,4.75,47.31));
		修改全局变量(bastionPosition, 添加至数组, 矢量(27.18,4.75,36.89));
		修改全局变量(bastionPosition, 添加至数组, 矢量(20.90,0.75,54.61));
		修改全局变量(bastionPosition, 添加至数组, 矢量(-19.85,10.75,8.80));
		全局.controlJumpPosition = 矢量(98.662, -1.500, -21.009);
		全局.endPosition = 矢量(-12.27, -1.250, -14.73);
		全局.heroRingPosition = 矢量(-54.920, 3.750, -158.320);
		全局.resetPosition = 矢量(-59.050, 3.750, -158.410);
		全局.creditsPosition = 矢量(-57.060, 5.250, -181.510);
		// 开始强制重生室(队伍1, 2);
		全局.mapTitle = 数组(
			数组(自定义字符串("尘风歌者"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("尘风歌者"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("溪云初起日沉阁"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("溪云初起日沉阁"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("草艮"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("草艮"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("草艮"), 自定义字符串("{0}开拓者", 全局.__currentMap__), 全局.heroColor[12], 全局.__currentMap__),
			数组(自定义字符串("豆本豆豆奶"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("豆本豆豆奶"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("豆本豆豆奶"), 自定义字符串("{0}开拓者", 全局.__currentMap__), 全局.heroColor[12], 全局.__currentMap__),
			数组(自定义字符串("寒霜冰湮"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("寒霜冰湮"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("寒霜冰湮"), 自定义字符串("{0}开拓者", 全局.__currentMap__), 全局.heroColor[12], 全局.__currentMap__),
			数组(自定义字符串("Cold"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("Cold"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("Cold"), 自定义字符串("{0}开拓者", 全局.__currentMap__), 全局.heroColor[12], 全局.__currentMap__)
		);
		修改全局变量(allTitle, 添加至数组, 全局.mapTitle);
	}
}

规则("map - route 66")
{
	事件
	{
		持续 - 全局;
	}

	条件
	{
		全局.__currentMap__ == 地图(66号公路);
	}

	动作
	{
		全局.bastionPosition[0] = 矢量(-95.624, 12.660, -5.541);
		// 全局.bastionPosition[1] = 矢量(-38.680, 12.750, -22.136);
		全局.bastionPosition[1] = 矢量(-61.870, 10.87, 5.36);
		// 全局.bastionPosition[2] = 矢量(-15.784, 8.540, -12.685);
		// 全局.bastionPosition[2] = 矢量(-20.44, 12.170, -15.13);
		全局.bastionPosition[2] = 矢量(-38.680, 12.750, -22.136);
		// 全局.bastionPosition[3] = 矢量(36.467, 2.140, -4.003);
		全局.bastionPosition[3] = 矢量(-20.44, 12.170, -15.13);
		// 全局.bastionPosition[4] = 矢量(48.707, 10.110, 25.063);
		全局.bastionPosition[4] = 矢量(26.871, 7.010, 2.468);
		全局.bastionPosition[5] = 矢量(53.82, 12.860, 10.55);
		// 全局.bastionPosition[6] = 矢量(37.23, 12.470, 55.15);
		全局.bastionPosition[6] = 矢量(33.75, 5.540, 48.50);
		全局.endPosition = 矢量(47.956, 5.200, 47.318);
		全局.heroRingPosition = 矢量(-115.228, 5.799, -49.590);
		全局.resetPosition = 矢量(-115.010, 4.500, -46.010);
		全局.creditsPosition = 矢量(-113.270, 7.500, -63.140);
		开始强制重生室(队伍1, 1);
		全局.mapTitle = 数组(
			数组(自定义字符串("卖核弹的小女孩"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("尘风歌者"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("尘风歌者"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("豆本豆豆奶"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("豆本豆豆奶"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("吾携秋水揽星河"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("吾携秋水揽星河"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("Cold"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("Cold"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("寒霜冰湮"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("寒霜冰湮"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__)
			
		);
		修改全局变量(allTitle, 添加至数组, 全局.mapTitle);
	}
}

规则("map - shambali monastery")
{
	事件
	{
		持续 - 全局;
	}

	条件
	{
		全局.__currentMap__ == 地图(香巴里寺院);
	}

	动作
	{
		全局.bastionPosition = 空数组;
		修改全局变量(bastionPosition, 添加至数组, 矢量(-36.100, 28.400, 190.320));
		// 禁用 修改全局变量(bastionPosition, 添加至数组, 矢量(-13.000, 25.500, 146.040));
		修改全局变量(bastionPosition, 添加至数组, 矢量(-14.930, 25.08, 134.990));
		修改全局变量(bastionPosition, 添加至数组, 矢量(-3.04, 25.04, 106.730));
		修改全局变量(bastionPosition, 添加至数组, 矢量(-57.820, 29, 122.100));
		// 禁用 修改全局变量(bastionPosition, 添加至数组, 矢量(16.53, 22.000, 89.330));
		修改全局变量(bastionPosition, 添加至数组, 矢量(-10.35, 20.570, 73.85));
		// 修改全局变量(bastionPosition, 添加至数组, 矢量(-18.190, 23.250, 88.510));
		// 禁用 修改全局变量(bastionPosition, 添加至数组, 矢量(-37.18, 14.000, 68.800));
		修改全局变量(bastionPosition, 添加至数组, 矢量(-39.84, 14.570, 60.140));
		修改全局变量(bastionPosition, 添加至数组, 矢量(10.190, 15.500, 40.290));
		// 修改全局变量(bastionPosition, 添加至数组, 矢量(-16.060, 6.180, 12));
		修改全局变量(bastionPosition, 添加至数组, 矢量(-13.310, 8.00, 0.33));
		全局.endPosition = 矢量(5.450, 9, 17.500);
		全局.heroRingPosition = 矢量(-7.690, 31.070, 226.970);
		全局.resetPosition = 矢量(-1.970, 31.070, 221.850);
		全局.creditsPosition = 矢量(1.750, 35, 232.500);
		开始强制重生室(队伍1, 2);
		全局.mapTitle = 数组(
			数组(自定义字符串("尘风歌者"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("尘风歌者"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("豆本豆豆奶"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("豆本豆豆奶"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("烛台与南九"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("烛台与南九"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("Cold"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("Cold"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("神之岛風咲"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("神之岛風咲"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("寒霜冰湮"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("寒霜冰湮"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("WildRage"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("WildRage"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("卖核弹的小女孩"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__)
			
		);
		修改全局变量(allTitle, 添加至数组, 全局.mapTitle);
	}
}

规则("map - temple of anubis")
{
	事件
	{
		持续 - 全局;
	}

	条件
	{
		全局.__currentMap__ == 地图(阿努比斯神殿);
	}

	动作
	{
		// 全局.bastionPosition = 矢量(-17.188, 11.237, 105.646);
		// 修改全局变量(bastionPosition, 添加至数组, 矢量(-14.88, 10.60, 53.21));
		// // 修改全局变量(bastionPosition, 添加至数组, 矢量(-58.847, 6.810, 41.419));
		// 修改全局变量(bastionPosition, 添加至数组, 矢量(-56.140, 10.48, 38.11));
		// 修改全局变量(bastionPosition, 添加至数组, 矢量(-8.454, 1.153, 29.868));
		// // 修改全局变量(bastionPosition, 添加至数组, 矢量(8.482, 4.898, 10.299));
		// 修改全局变量(bastionPosition, 添加至数组, 矢量(10.280, 5.05, 11.07));
		// 修改全局变量(bastionPosition, 添加至数组, 矢量(-23.218, 2.706, -26.863));
		// 全局.endPosition = 矢量(1.01, -2.781, -15.089);
		// 9.17 更新
		全局.bastionPosition = 矢量(-17.188, 11.237, 105.646);
		修改全局变量(bastionPosition, 添加至数组, 矢量(-3.470, 20.350, 97.610));
		修改全局变量(bastionPosition, 添加至数组, 矢量(-4.690, 22.570, 79.470));
		修改全局变量(bastionPosition, 添加至数组, 矢量(-37.620, 1.910, 47.850));
		修改全局变量(bastionPosition, 添加至数组, 矢量(-25.200, 1.070, 25.160));
		修改全局变量(bastionPosition, 添加至数组, 矢量(-37.500, 16.800, -4.790));
		修改全局变量(bastionPosition, 添加至数组, 矢量(-0.350, 17.870, -24.210));
		全局.endPosition = 矢量(-7.020, -0.660, -36.430);
		全局.springBoardPosition = 矢量(-47.93, 1.50, 51.33);
		全局.heroRingPosition = 矢量(-7.969, 4.701, 137.390);
		全局.resetPosition = 矢量(-17.160, 4.460, 137.760);
		全局.creditsPosition = 矢量(-11.300, 7.350, 149.110);
		开始强制重生室(队伍1, 1);
		全局.mapTitle = 数组(
			数组(自定义字符串("豆本豆豆奶"), 自定义字符串("{0}开拓者", 全局.__currentMap__), 全局.heroColor[12], 全局.__currentMap__),
			数组(自定义字符串("豆本豆豆奶"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("豆本豆豆奶"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("溪云初起日沉阁"), 自定义字符串("{0}开拓者", 全局.__currentMap__), 全局.heroColor[12], 全局.__currentMap__),
			数组(自定义字符串("溪云初起日沉阁"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("溪云初起日沉阁"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("吾携秋水揽星河"), 自定义字符串("{0}开拓者", 全局.__currentMap__), 全局.heroColor[12], 全局.__currentMap__),
			数组(自定义字符串("吾携秋水揽星河"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("吾携秋水揽星河"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("Cold"), 自定义字符串("{0}开拓者", 全局.__currentMap__), 全局.heroColor[12], 全局.__currentMap__),
			数组(自定义字符串("Cold"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("Cold"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("看啊情"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("看啊情"), 自定义字符串("{0}开拓者", 全局.__currentMap__), 全局.heroColor[12], 全局.__currentMap__),
			数组(自定义字符串("卖核弹的小女孩"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__)
			
		);
		修改全局变量(allTitle, 添加至数组, 全局.mapTitle);
	}
}

规则("map - volskaya industries")
{
	事件
	{
		持续 - 全局;
	}

	条件
	{
		全局.__currentMap__ == 地图(沃斯卡娅工业区);
	}

	动作
	{
		全局.bastionPosition = 矢量(-87.972, 2.020, 38.919);
		// 全局.bastionPosition = 矢量(-94.73, -0.730, 49.07);
		修改全局变量(bastionPosition, 添加至数组, 矢量(-67.835, 10.390, 49.479));
		修改全局变量(bastionPosition, 添加至数组, 矢量(-63.809, -0.410, 77.730));
		修改全局变量(bastionPosition, 添加至数组, 矢量(-11.250, 1.270, 76.356));
		修改全局变量(bastionPosition, 添加至数组, 矢量(-16.279, 2.200, 41.017));
		修改全局变量(bastionPosition, 添加至数组, 矢量(-6.364, 8.240, 35.514));
		全局.endPosition = 矢量(-11.477, -6, 19.868);
		全局.heroRingPosition = 矢量(-113.051, -1.980, 31.996);
		全局.resetPosition = 矢量(-115.180, -1.980, 35.240);
		全局.creditsPosition = 矢量(-128.250, 0.500, 24.750);
		开始强制重生室(队伍1, 0);
		全局.mapTitle = 数组(
			数组(自定义字符串("豆本豆豆奶"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("豆本豆豆奶"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("寒霜冰湮"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("寒霜冰湮"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("看啊情"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("看啊情"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("Cold"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("Cold"), 自定义字符串("{0}开拓者", 全局.__currentMap__), 全局.heroColor[12], 全局.__currentMap__),
			数组(自定义字符串("尘风歌者"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("尘风歌者"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__)
		);
		修改全局变量(allTitle, 添加至数组, 全局.mapTitle);
	}
}

规则("map - watchpoint gibraltar")
{
	事件
	{
		持续 - 全局;
	}

	条件
	{
		全局.__currentMap__ == 地图(监测站：直布罗陀);
	}

	动作
	{
		全局.bastionPosition[0] = 矢量(70.099, 9, 26.803);
		全局.bastionPosition[1] = 矢量(81.759, 6, 3.200);
		全局.bastionPosition[2] = 矢量(64.465, 9.690, -32.138);
		全局.bastionPosition[3] = 矢量(32.373, 3, -50.866);
		全局.bastionPosition[4] = 矢量(31.113, 7.300, -89.871);
		// 全局.bastionPosition[5] = 矢量(41.383, 4, -124.788);
		全局.bastionPosition[5] = 矢量(56.88, 9.23, -118.92);
		全局.bastionPosition[6] = 矢量(19.43, 6, -131.05);
		// 全局.endPosition = 矢量(46.558, 1, -146.808);
		全局.endPosition = 矢量(15.70, -2.00, -134.65);
		全局.heroRingPosition = 矢量(93.88, 1.060, 63.17);
		全局.resetPosition = 矢量(97.55, 1.060, 60.380);
		全局.creditsPosition = 矢量(112.23, 0, 73.590);
		开始强制重生室(队伍1, 2);
		全局.mapTitle = 数组(
			数组(自定义字符串("尘风歌者"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("尘风歌者"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("寒霜冰湮"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("寒霜冰湮"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("豆本豆豆奶"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("豆本豆豆奶"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("吾携秋水揽星河"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("吾携秋水揽星河"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("溪云初起日沉阁"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("溪云初起日沉阁"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("卖核弹的小女孩"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__)
		);
		修改全局变量(allTitle, 添加至数组, 全局.mapTitle);
	}
}

规则("map - 中城")
{
	事件
	{
		持续 - 全局;
	}

	条件
	{
		全局.__currentMap__ == 地图(中城);
	}

	动作
	{
		"Made by 他又 芋泥玛奇朵\n"
		"出生点左侧广告牌"
		禁用 全局.bastionPosition[0] = 矢量(134.71, 6.09, -49.77); //出生点左侧广告牌
		"出生点右侧二楼高台"
		禁用 全局.bastionPosition[0] = 矢量(100.40, 11.85, -57.56); //出生点右侧二楼高台
		"出生点正门对面小平台"
		全局.bastionPosition[0] = 矢量(127.11, 5.80, -35.75); //出生点正门对面小平台
		禁用 全局.bastionPosition[1] = 矢量(81.96, 7.88, -13.08);
		全局.bastionPosition[1] = 矢量(86.34, 11.85, -10.15);
		全局.bastionPosition[2] = 矢量(54.42, 11.10, -6.14);
		// 全局.bastionPosition[2] = 矢量(46.89, 4.73, -21.63);
		// 全局.bastionPosition[2] = 矢量(40.36, 7.87, -13.00);
		全局.bastionPosition[3] = 矢量(40.19, 10.86, 16.90);
		全局.bastionPosition[4] = 矢量(3.60, 9.97, 58.11);
		全局.bastionPosition[5] = 矢量(-3.60, 8.66, 87.62);
		// 全局.endPosition = 矢量(38.52, 3.75, 100.60);
		全局.endPosition = 矢量(-28.26, 3.75, 84.04);
		全局.heroRingPosition = 矢量(133.91, 1.84, -104.94);
		全局.resetPosition = 矢量(119.51, 1.84, -104.94);
		全局.creditsPosition = 矢量(126.500, 3, -125.37);
		开始强制重生室(队伍1, 2);
		全局.mapTitle = 数组(
			数组(自定义字符串("尘风歌者"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("尘风歌者"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("Cold"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("Cold"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("顾北酒笙"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("顾北酒笙"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("bingo"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("bingo"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("寒霜冰湮"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("豆本豆豆奶"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("卖核弹的小女孩"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__)
		);
		修改全局变量(allTitle, 添加至数组, 全局.mapTitle);
	}
}

规则("map - 埃斯佩兰萨")
{
	事件
	{
		持续 - 全局;
	}

	条件
	{
		(全局.__currentMap__ == 地图(埃斯佩兰萨) || 全局.__currentMap__ == 276) == 真;
	}

	动作
	{
		"Made by 他又 芋泥玛奇朵"
		全局.bastionPosition[0] = 矢量(85.68, -0.27, -54.29);
		全局.bastionPosition[1] = 矢量(35.77, 0, -61.65);
		全局.bastionPosition[2] = 矢量(-26.09, 0, -79.68);
		// 全局.bastionPosition[3] = 矢量(5.43, 0.99, 19.65);
		全局.bastionPosition[3] = 矢量(15.04, 3.00, -38.40);
		全局.bastionPosition[4] = 矢量(2.57, 6.02, 13.96);
		全局.bastionPosition[5] = 矢量(-20.26, 3.00, -27.62);
		"终点旋转机械臂"
		禁用 全局.bastionPosition[6] = 矢量(-76.40, -0.36, -71.07);
		"终点右侧出生点门口"
		全局.bastionPosition[6] = 矢量(-107.57, -1.00, -62.15); 
		全局.endPosition = 矢量(-95.50, -3.00, -68.9) - 矢量(0, 2, 0);
		全局.heroRingPosition = 矢量(126.70, -1.64, -90.03);
		全局.resetPosition = 矢量(126.70, -1.640, -81.42);
		全局.creditsPosition = 矢量(116.67, -0.29, -82.29);
		开始强制重生室(队伍1, 2);
	}
}

规则("map - 斗兽场")
{
	事件
	{
		持续 - 全局;
	}

	条件
	{
		(全局.__currentMap__ == 地图(斗兽场) || 全局.__currentMap__ == 2147) == 真;
	}

	动作
	{
		"Made by 他又 芋泥玛奇朵"
		全局.bastionPosition = 矢量(60.94, 12.50, -13.78);
		// 全局.bastionPosition[1] = 矢量(-3.42, 20, -2.19);
		修改全局变量(bastionPosition, 添加至数组, 矢量(30.54, 5.09, 6.64));
		// 修改全局变量(bastionPosition, 添加至数组, 矢量(-3.42, 20, -2.19));
		修改全局变量(bastionPosition, 添加至数组, 矢量(-7.85, 20, -29.95));
		// 全局.bastionPosition[3] = 矢量(5.43, 0.99, 19.65);
		// 修改全局变量(bastionPosition, 添加至数组, 矢量(-54.52, 12.46, -10.10));
		// 修改全局变量(bastionPosition, 添加至数组, 矢量(-21.18, 5.10, 1.35));
		修改全局变量(bastionPosition, 添加至数组, 矢量(-21.88, 7.49, -3.00));
		修改全局变量(bastionPosition, 添加至数组, 矢量(-54.52, 12.46, -10.10));
		修改全局变量(bastionPosition, 添加至数组, 矢量(-9.98, 5.00, -39.50));
		// 修改全局变量(bastionPosition, 添加至数组, 矢量(-55.02, 9.77, -22.14));
		修改全局变量(bastionPosition, 添加至数组, 矢量(-60.93, 12.21, -11.91));
		"终点"
		修改全局变量(bastionPosition, 添加至数组, 矢量(-88.63, 13.77, -23.49));
		// "终点右侧出生点门口"
		// 全局.bastionPosition[5] = 矢量(-107.57, -1.00, -62.15);
		全局.endPosition = 矢量(-90.31, 9.00, -33.55);
		全局.heroRingPosition = 矢量(117.38, 9.00, -38.98);
		全局.resetPosition = 矢量(111.17, 9.00, -50.91);
		全局.creditsPosition = 矢量(117.64, 13.00, -48.66);
		开始强制重生室(队伍1, 2);
		全局.mapTitle = 数组(
			数组(自定义字符串("卖核弹的小女孩"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("尘风歌者"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("尘风歌者"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("寒霜冰湮"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("寒霜冰湮"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("Cold"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("Cold"), 自定义字符串("{0}开拓者", 全局.__currentMap__), 全局.heroColor[12], 全局.__currentMap__),
			数组(自定义字符串("豆本豆豆奶"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("豆本豆豆奶"), 自定义字符串("{0}开拓者", 全局.__currentMap__), 全局.heroColor[12], 全局.__currentMap__)
		);
		修改全局变量(allTitle, 添加至数组, 全局.mapTitle);
		
	}
}

规则("map - 鲁纳塞彼")
{
	事件
	{
		持续 - 全局;
	}

	条件
	{
		(全局.__currentMap__ == 地图(鲁纳塞彼) || 全局.__currentMap__ == 8048) == 真;
	}

	动作
	{
		"made by 他又"
		// 全局.bastionPosition = 矢量(70.22, 14.62, 36.56);
		全局.bastionPosition = 矢量(70.39, 7.86, 24.73);
		修改全局变量(bastionPosition, 添加至数组, 矢量(40.80, 4.01, 5.96));
		修改全局变量(bastionPosition, 添加至数组, 矢量(61.26, 5.99, -16.04));
		修改全局变量(bastionPosition, 添加至数组, 矢量(0.08, 8.340, 83.49));
		修改全局变量(bastionPosition, 添加至数组, 矢量(-25.99, 1.21, 15.51));
		修改全局变量(bastionPosition, 添加至数组, 矢量(-43.32, 4.00, 36.50));
		修改全局变量(bastionPosition, 添加至数组, 矢量(-71.28, 14.62, 38.58));
		修改全局变量(bastionPosition, 添加至数组, 矢量(-93.05, 7.06, 18.11));
		全局.endPosition = 矢量(-106.93, 7.99, 22.24);
		全局.heroRingPosition = 矢量(113.31, 7.09, -3.50);
		全局.resetPosition = 矢量(111.34, 7.09, -5.60);
		全局.creditsPosition = 矢量(124.60, 8.77, -15.99);
		开始强制重生室(队伍1, 2);
		全局.mapTitle = 数组(
			数组(自定义字符串("尘风歌者"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("尘风歌者"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("Cold"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("Cold"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__)
		);
		修改全局变量(allTitle, 添加至数组, 全局.mapTitle);
	}
}

规则("map - 新皇后街")
{
	事件
	{
		持续 - 全局;
	}

	条件
	{
		全局.__currentMap__ == 地图(新皇后街);
	}

	动作
	{
		"made by 他又"
		全局.bastionPosition[0] = 矢量(-67.05, 11.20, -24.36);
		// 全局.bastionPosition[1] = 矢量(-28.02, 3.27, -56.15);
		全局.bastionPosition[1] = 矢量(-30.62, 3.30, -39.39);
		全局.bastionPosition[2] = 矢量(-16.30, 4.06, 14.83);
		全局.bastionPosition[3] = 矢量(16.15, 4.06, 15.19);
		全局.bastionPosition[4] = 矢量(43.48, 10.00, -20.22);
		// 全局.bastionPosition[5] = 矢量(86.84, 11.00, -6.84);
		全局.bastionPosition[5] = 矢量(74.74, 10.13, -39.00);
		全局.endPosition = 矢量(90.00, 11.00, -45.90);
		全局.heroRingPosition = 矢量(-111.26, 11.00, -32.03);
		全局.resetPosition = 矢量(-111.170, 11.00, -17.00);
		全局.creditsPosition = 矢量(-102.08, 17.29, -24.46);
		开始强制重生室(队伍1, 2);
		全局.mapTitle = 数组(
			数组(自定义字符串("尘风歌者"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("尘风歌者"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("豆本豆豆奶"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("豆本豆豆奶"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("Cold"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("Cold"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("吾携秋水揽星河"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("吾携秋水揽星河"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__)
			
		);
		修改全局变量(allTitle, 添加至数组, 全局.mapTitle);
	}
}

规则("map - 皇家赛道")
{
	事件
	{
		持续 - 全局;
	}

	条件
	{
		全局.__currentMap__ == 地图(皇家赛道);
	}

	动作
	{
		"Made by 他又 芋泥玛奇朵"
		全局.bastionPosition[0] = 矢量(105.65, 15.95, 14.28);
		全局.bastionPosition[1] = 矢量(56.16, 18.97, 21.78);
		全局.bastionPosition[2] = 矢量(12.30, 13.180, -27.04);
		全局.bastionPosition[3] = 矢量(-28.93, 11.00, -3.85);
		全局.bastionPosition[4] = 矢量(-14.51, 8.00, -34.71);
		// 全局.bastionPosition[5] = 矢量(-47.95, 4.24, -79.55);
		全局.bastionPosition[5] = 矢量(-62.89, 13.30, -45.44);
		全局.bastionPosition[6] = 矢量(-46.18, 4.22, -69.18);
		全局.endPosition = 矢量(-76.75, 4.03, -74.17);
		全局.heroRingPosition = 矢量(135.08, 10.00, -3.31);
		全局.resetPosition = 矢量(129.68, 10.00, 0.04);
		全局.creditsPosition = 矢量(147.52, 11.50, -10.90);
		开始强制重生室(队伍1, 2);
		全局.mapTitle = 数组(
			数组(自定义字符串("寒霜冰湮"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("寒霜冰湮"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("顾北酒笙"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("顾北酒笙"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("Cold"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("Cold"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("吾携秋水揽星河"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("吾携秋水揽星河"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("尘风歌者"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("尘风歌者"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__)
		);
		修改全局变量(allTitle, 添加至数组, 全局.mapTitle);
	}
}

规则("map - 花村")
{
	事件
	{
		持续 - 全局;
	}

	条件
	{
		(全局.__currentMap__ == 地图(花村) || 全局.__currentMap__ == 1848 || 全局.__currentMap__ == 地图(圣诞节花村)) == 真;
	}

	动作
	{
		"Made by 他又 芋泥玛奇朵"
		// 全局.bastionPosition[0] = 矢量(-15.46, 9.68, -89.300);
		// 全局.bastionPosition[1] = 矢量(1.87, 5.00, -41.04);
		// 全局.bastionPosition[2] = 矢量(-6.95, 8.01, -10.86);
		// // 全局.bastionPosition[3] = 矢量(29.19, 10.49, -5.70);
		// 全局.bastionPosition[3] = 矢量(27.00, 0.00, -7.87);
		// // 全局.bastionPosition[4] = 矢量(28.79, 6.52, 9.47);
		// 全局.bastionPosition[4] = 矢量(34.66, 6.00, 16.47);
		// 全局.bastionPosition[5] = 矢量(63.63, 6.00, -11.98);
		// 全局.endPosition = 矢量(72.38, -1.96, -0.16);
		全局.bastionPosition = 矢量(-20.750, 9.210, -78.140);
		修改全局变量(bastionPosition, 添加至数组, 矢量(11.870, 7.210, -47.220));
		修改全局变量(bastionPosition, 添加至数组, 矢量(28.310, 10.470, 6.600));
		修改全局变量(bastionPosition, 添加至数组, 矢量(-6.950, 8.010, -10.860));
		修改全局变量(bastionPosition, 添加至数组, 矢量(49.130, 14.560, 17.960));
		修改全局变量(bastionPosition, 添加至数组, 矢量(52.200, -1, -0.580));
		修改全局变量(bastionPosition, 添加至数组, 矢量(15.610, 11.980, 17.470));
		修改全局变量(bastionPosition, 添加至数组, 矢量(46.870, -0.160, -15.600));
		修改全局变量(bastionPosition, 添加至数组, 矢量(60.130, -1.040, -15.610));
		全局.endPosition = 矢量(51.700, -1.870, 25.910);
		全局.heroRingPosition = 矢量(-33.20, 1.00, -115.04);
		全局.resetPosition = 矢量(-46.98, 1.00, -101.54);
		全局.creditsPosition = 矢量(-48.10, 2.50, -116.08);
		// 开始强制重生室(队伍1, 0);
		全局.mapTitle = 数组(
			数组(自定义字符串("卖核弹的小女孩"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("Cold"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("Cold"), 自定义字符串("{0}开拓者", 全局.__currentMap__), 全局.heroColor[12], 全局.__currentMap__),
			数组(自定义字符串("溪云初起日沉阁"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("溪云初起日沉阁"), 自定义字符串("{0}开拓者", 全局.__currentMap__), 全局.heroColor[12], 全局.__currentMap__),
			数组(自定义字符串("豆本豆豆奶"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("豆本豆豆奶"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("豆本豆豆奶"), 自定义字符串("{0}开拓者", 全局.__currentMap__), 全局.heroColor[12], 全局.__currentMap__),
			数组(自定义字符串("寒霜冰湮"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("寒霜冰湮"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("寒霜冰湮"), 自定义字符串("{0}开拓者", 全局.__currentMap__), 全局.heroColor[12], 全局.__currentMap__),
			数组(自定义字符串("尘风歌者"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("尘风歌者"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("尘风歌者"), 自定义字符串("{0}开拓者", 全局.__currentMap__), 全局.heroColor[12], 全局.__currentMap__),
			数组(自定义字符串("看啊情"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("看啊情"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("看啊情"), 自定义字符串("{0}开拓者", 全局.__currentMap__), 全局.heroColor[12], 全局.__currentMap__)
		);
		修改全局变量(allTitle, 添加至数组, 全局.mapTitle);
	}
}

// 规则("map - 伊利奥斯")
// {
// 	事件
// 	{
// 		持续 - 全局;
// 	}

// 	条件
// 	{
// 		全局.__currentMap__ == 地图(伊利奥斯);
// 	}

// 	动作
// 	{
// 		开始强制重生室(队伍1, 2);
// 		等待直到 (对任意为“真”(所有玩家(队伍1), 已重生(当前数组元素)), 99999);
// 		"made by 他又"
// 		"Well"
// 		If(数量(范围内玩家(矢量(-152.014, -1.104, -93.120), 30, 队伍1, 关闭)) != 0);
// 			// 全局.bastionPosition[0] = 矢量(-181.480, 0.300, -50.903);
// 			全局.bastionPosition[0] = 矢量(-185.180, 3.30, -56.17);
// 			全局.bastionPosition[1] = 矢量(-197.571, 11.191, -13.818);
// 			全局.bastionPosition[2] = 矢量(-223.199, 6.427, 7.091);
// 			全局.bastionPosition[3] = 矢量(-236.558, 6.300, -9.246);
// 			全局.bastionPosition[4] = 矢量(-270.570, 0.440, 42.100);
// 			全局.bastionPosition[5] = 矢量(-213.939, 3.300, 6.564);
// 			全局.bastionPosition[6] = 矢量(-241.900, 8.090, 27.160);
// 			全局.endPosition = 矢量(-271.140, -3.585, 33.279) - 矢量(0, 2, 0);
// 			全局.resetPosition = 矢量(-160.308, -1.355, -91.403);
// 			全局.creditsPosition = 矢量(-150.88, 0.2, -97.02);
// 		"Ruins"
// 		Else If(数量(范围内玩家(矢量(131.609, 64.254, -159.135), 30, 队伍1, 关闭)) != 0);
// 			全局.bastionPosition[0] = 矢量(91.562, 65.583, -174.582);
// 			全局.bastionPosition[1] = 矢量(66.927, 68.505, -169.264);
// 			全局.bastionPosition[2] = 矢量(28.070, 61.190, -149.690);
// 			全局.bastionPosition[3] = 矢量(-1.205, 65.524, -147.564);
// 			全局.bastionPosition[4] = 矢量(-33.746, 65.611, -173.263);
// 			全局.bastionPosition[5] = 矢量(8.130, 63.890, -170.750);
// 			"Tower goal position"
// 			全局.endPosition = 矢量(-51.248, 67.259, -158.371) - 矢量(0, 2, 0);
// 			"Base coordinates for world game settings HUD"
// 			全局.resetPosition = 矢量(128.072, 63.254, -165.528);
// 			全局.creditsPosition = 矢量(137.54, 63.920, -158.90);
// 		"Town"
// 		Else If(数量(范围内玩家(矢量(322.692, -21.520, 42.832), 30, 队伍1, 关闭)) != 0);
// 			全局.bastionPosition[0] = 矢量(355.021, -19.264, -4.231);
// 			全局.bastionPosition[1] = 矢量(329.070, -17.640, -29.830);
// 			全局.bastionPosition[2] = 矢量(350.081, -15.408, -56.854);
// 			全局.bastionPosition[3] = 矢量(304.817, -16.160, -73.229);
// 			全局.bastionPosition[4] = 矢量(294.106, -19.441, -75.363);
// 			全局.bastionPosition[5] = 矢量(276.960, -20.361, -83.065);
// 			全局.bastionPosition[6] = 矢量(334.603, -22.494, -41.438);
// 			"Town goal position"
// 			全局.endPosition = 矢量(321.229, -23.291, -88.556) - 矢量(0, 3, 0);
// 			全局.resetPosition = 矢量(331.080, -21.520, 41.121);
// 			"Base coordinates for world game settings HUD"
// 			全局.creditsPosition = 矢量(321.80, -20.00, 46.00);
// 		End;
// 	}
// }
规则("map - 伊利奥斯")
{
	事件
	{
		持续 - 全局;
	}

	条件
	{
		全局.__currentMap__ == 地图(伊利奥斯);
	}

	动作
	{
		开始强制重生室(队伍1, 2);
		等待直到 (对任意为“真”(所有玩家(队伍1), 已重生(当前数组元素)), 99999);
		"made by 他又\n深井"
		If(数量(范围内玩家(矢量(-152.014, -1.104, -93.120), 30, 队伍1, 关闭)) != 0);
			全局.bastionPosition[0] = 矢量(-173.701, -0.460, -71.552);
			全局.bastionPosition[1] = 矢量(-207.983, 5.460, -31.971);
			全局.bastionPosition[2] = 矢量(-222.539, 0.100, -30.825);
			全局.bastionPosition[3] = 矢量(-223.926, 5.560, -16.079);
			全局.bastionPosition[4] = 矢量(-245.721, 5.560, 5.190);
			全局.bastionPosition[6] = 矢量(-257.450, 2.850, 35.113);
			全局.endPosition = 矢量(-271.140, -3.585, 33.279) - 矢量(0, 2, 0);
			全局.resetPosition = 矢量(-160.308, -1.355, -91.403);
			全局.heroRingPosition = 矢量(-148.168, -1.504, -88.932);
			全局.creditsPosition = 矢量(-150.880, 0.200, -97.020);
		"废墟"
		Else If(数量(范围内玩家(矢量(131.609, 64.254, -159.135), 30, 队伍1, 关闭)) != 0);
			全局.bastionPosition[0] = 矢量(111.310, 68.780, -183.068);
			全局.bastionPosition[1] = 矢量(83.250, 67.650, -179.529);
			全局.bastionPosition[2] = 矢量(28.394, 61.390, -148.333);
			全局.bastionPosition[3] = 矢量(5.918, 60.370, -170.376);
			全局.bastionPosition[4] = 矢量(-26.800, 67.620, -178.826);
			全局.bastionPosition[5] = 矢量(-52.040, 65.390, -179.058);
			"Tower goal position"
			全局.endPosition = 矢量(-47.306, 60.370, -184.722) - 矢量(0, 2, 0);
			"Base coordinates for world game settings HUD"
			全局.resetPosition = 矢量(128.072, 63.254, -165.528);
			全局.heroRingPosition = 矢量(129.560, 62.450, -153.472);
			全局.creditsPosition = 矢量(137.540, 63.920, -158.900);
		"灯塔"
		Else If(数量(范围内玩家(矢量(322.692, -21.520, 42.832), 30, 队伍1, 关闭)) != 0);
			全局.bastionPosition[0] = 矢量(321.799, -17.290, 26.126);
			全局.bastionPosition[1] = 矢量(314.215, -16.350, -18.283);
			全局.bastionPosition[2] = 矢量(358.768, -6.597, -47.480);
			全局.bastionPosition[3] = 矢量(353.915, -10.860, -53.746);
			全局.bastionPosition[4] = 矢量(364.601, -25.620, -54.434);
			全局.bastionPosition[5] = 矢量(304.692, -15.910, -42.049);
			全局.bastionPosition[6] = 矢量(319.744, -24.110, -69.502);
			"Town goal position"
			全局.endPosition = 矢量(321.229, -23.291, -88.556) - 矢量(0, 3, 0);
			全局.heroRingPosition = 矢量(318.997, -21.520, 37.660);
			全局.resetPosition = 矢量(331.080, -21.520, 41.121);
			"Base coordinates for world game settings HUD"
			全局.creditsPosition = 矢量(321.800, -20, 46);
		End;
		全局.mapTitle = 数组(
			数组(自定义字符串("卖核弹的小女孩"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("别打老顾我啊"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__)
		);
		修改全局变量(allTitle, 添加至数组, 全局.mapTitle);
	}
}

规则("map - 漓江塔")
{
	事件
	{
		持续 - 全局;
	}

	条件
	{
		(全局.__currentMap__ == 地图(漓江塔) || 全局.__currentMap__ == 3676) == 真;
	}

	动作
	{
		"0 = X轴 1 = Y轴 2 = Z轴"
		全局.controlRespawnAxis = 1;
		"距离阈值"
		全局.controlRespawnAxisThreshold = 40;
		全局.rebootTime = 15900; // 4 小时 
		开始强制重生室(队伍1, 2);
		等待直到 (对任意为“真”(所有玩家(队伍1), 已重生(当前数组元素)), 99999);
		// 禁用 If(数量(范围内玩家(矢量(-80.495, -150.140, 158.682), 1000, 队伍1, 关闭)) != 0);
		"夜市"
		全局.bastionPosition = 矢量(34.550, 33.850, -36.640); // 1
		修改全局变量(bastionPosition, 添加至数组, 矢量(21.250, 10, -23.950)); // 2
		修改全局变量(bastionPosition, 添加至数组, 矢量(0.93,0.00, -9.84)); // 3
		修改全局变量(bastionPosition, 添加至数组, 矢量(3.650, 8.010, -52.480)); // 4
		修改全局变量(bastionPosition, 添加至数组, 矢量(-30.810, 25.990, -14.770)); // 5

		"夜市重生点"
		全局.controlRespawnPosition = 矢量(84.410, 4.520, -31.57);

		"夜市-庭院 传送点"
		全局.controlJumpPosition = 矢量(-58.26, 6.00, -5.24);
		全局.resetPosition = 矢量(81.11, 4.580, -35.44);
		全局.heroRingPosition = 矢量(74.43, 4.46, -26.34);
		全局.creditsPosition = 矢量(84.29, 6.200, -29.44);

		// 禁用 Else If(数量(范围内玩家(矢量(179.470, -8.427, -236.910), 1000, 队伍1, 关闭)) != 0);
		"庭院"
		修改全局变量(bastionPosition, 添加至数组, 矢量(41.480, 95.870, 140.620)); // 6
		修改全局变量(bastionPosition, 添加至数组, 矢量(-0.080, 94, 184.970)); // 7
		修改全局变量(bastionPosition, 添加至数组, 矢量(-16.66,96.50,120.91)); // 8
		修改全局变量(bastionPosition, 添加至数组, 矢量(-66.07,94,150.20)); // 9
		"庭院重生点"
		修改全局变量(controlRespawnPosition, 添加至数组, 矢量(86.21, 96.620, 147.70)); // 10
		"庭院-控制中心 传送点"
		修改全局变量(controlJumpPosition, 添加至数组, 矢量(-51.89, 95.00, 133.97));
		// 禁用 Else If(数量(范围内玩家(矢量(377.011, 47.028, 170.005), 1000, 队伍1, 关闭)) != 0);
		"控制中心"
		修改全局变量(bastionPosition, 添加至数组, 矢量(46.340, 267, 300.860)); // 
		修改全局变量(bastionPosition, 添加至数组, 矢量(-10.14, 270.12, 321.40)); // 11
		修改全局变量(bastionPosition, 添加至数组, 矢量(-0.200, 278.010, 290.980)); // 13
		修改全局变量(bastionPosition, 添加至数组, 矢量(2.790, 274.190, 301.820)); // 14
		修改全局变量(bastionPosition, 添加至数组, 矢量(-46.630, 267.110, 300.970)); // 15
		"控制中心重生点"
		修改全局变量(controlRespawnPosition, 添加至数组, 矢量(62.930, 267.64, 349.53));
		// 全局.heroRingPosition = 矢量(365.657, 45.730, 174.464);
		// 全局.resetPosition = 矢量(365.378, 47.028, 173.797);
		// 全局.creditsPosition = 矢量(365.644, 47.028, 170.432);
		全局.endPosition = 矢量(-44.02, 271.64, 349.77);
		// 全局.heroRingPosition = 矢量(193.439, -8.990, -233.575);
		// 全局.resetPosition = 矢量(190.325, -9.110, -231.926);
		// 全局.creditsPosition = 矢量(321.800, -20, 46);
		// 禁用 End;
		全局.mapTitle = 数组(
			数组(自定义字符串("豆本豆豆奶"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("豆本豆豆奶"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("草艮"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("草艮"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("Cold"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("Cold"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("吾携秋水揽星河"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("吾携秋水揽星河"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("尘风歌者"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("尘风歌者"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("烛台与南九"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("烛台与南九"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("寒霜冰湮"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("寒霜冰湮"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("看啊情"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("看啊情"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__)
		);
		修改全局变量(allTitle, 添加至数组, 全局.mapTitle);
	}
}

规则("map - 萨摩亚")
{
	事件
	{
		持续 - 全局;
	}

	条件
	{
		(全局.__currentMap__ == 地图(萨摩亚) || 全局.__currentMap__ == 13628) == 真;
	}

	动作
	{
		"0 = X轴 1 = Y轴 2 = Z轴"
		全局.controlRespawnAxis = 0; // 重生点轴向 0 = X轴 1 = Y轴 2 = Z轴
		"距离阈值"
		全局.controlRespawnAxisThreshold = 40;
		"覆盖全局自动重开时间"
		全局.rebootTime = 15900;
		开始强制重生室(队伍1, 2);
		等待直到 (对任意为“真”(所有玩家(队伍1), 已重生(当前数组元素)), 99999);
		"海滩海滩重生点"
		全局.controlRespawnPosition = 矢量(-428, 10.500, -109);
		"海滩-城区 传送点"
		全局.controlJumpPosition = 矢量(-256.820, 14.850, -94.900);
		全局.resetPosition = 矢量(-430.710, 10.300, -105.960);
		全局.heroRingPosition = 矢量(-425.320, 10.230, -116.480);
		全局.creditsPosition = 矢量(-436.160, 12.200, -111.370);
		"城区城区重生点"
		修改全局变量(controlRespawnPosition, 添加至数组, 矢量(330.120, 14.640, -216.310));
		"城区-控制中心 传送点"
		修改全局变量(controlJumpPosition, 添加至数组, 矢量(177.520, 12.300, -239.300));
		"火山火山重生点"
		修改全局变量(controlRespawnPosition, 添加至数组, 矢量(107.830, 343, 415.600));
		全局.endPosition = 矢量(-29.300, 340.560, 410.760);
		"堡垒点位  沙滩"
		全局.bastionPosition = 矢量(-408.950, 14.400, -84.760);
		修改全局变量(bastionPosition, 添加至数组, 矢量(-384.050, 12.050, -86.880));
		修改全局变量(bastionPosition, 添加至数组, 矢量(-330.080, 10.010, -98.040));
		修改全局变量(bastionPosition, 添加至数组, 矢量(-276.430, 11.020, -89.160));
		"堡垒点位 城区"
		修改全局变量(bastionPosition, 添加至数组, 矢量(307.130, 18.610, -206.170));
		修改全局变量(bastionPosition, 添加至数组, 矢量(231.600, 16.280, -270.760));
		修改全局变量(bastionPosition, 添加至数组, 矢量(233.690, 9, -229.700));
		修改全局变量(bastionPosition, 添加至数组, 矢量(170.960, 12.560, -242.330));
		"堡垒点位 火山"
		修改全局变量(bastionPosition, 添加至数组, 矢量(97.680, 340.630, 397.230));
		修改全局变量(bastionPosition, 添加至数组, 矢量(46.640, 345.490, 387.040));
		修改全局变量(bastionPosition, 添加至数组, 矢量(26.690, 341.630, 376.430));
		修改全局变量(bastionPosition, 添加至数组, 矢量(27.740, 360.500, 356.070));
		修改全局变量(bastionPosition, 添加至数组, 矢量(0.960, 346.650, 390.110));
		修改全局变量(bastionPosition, 添加至数组, 矢量(-4.400, 353.050, 407.420));
		全局.mapTitle = 数组(
			数组(自定义字符串("溪云初起日沉阁"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("溪云初起日沉阁"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("豆本豆豆奶"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("豆本豆豆奶"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("草艮"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("草艮"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("吾携秋水揽星河"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("吾携秋水揽星河"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("寒霜冰湮"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("寒霜冰湮"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__)
		);
		修改全局变量(allTitle, 添加至数组, 全局.mapTitle);
	}
}

规则("map - 南极半岛")
{
	事件
	{
		持续 - 全局;
	}

	条件
	{
		全局.__currentMap__ == 地图(南极半岛);
	}

	动作
	{
		// 开始强制重生室(队伍1, 2);
		// 等待直到 (对任意为“真”(所有玩家(队伍1), 已重生(当前数组元素)), 99999);
		// "made by 他又Well"
		// If(数量(范围内玩家(矢量(-80.495, -150.140, 158.682), 30, 队伍1, 关闭)) != 0);
		// 	全局.bastionPosition[0] = 矢量(-73.326, -151.150, 121.149);
		// 	全局.bastionPosition[1] = 矢量(-62.021, -148.490, 93.962);
		// 	全局.bastionPosition[2] = 矢量(-92.123, -151.170, 80.536);
		// 	全局.bastionPosition[3] = 矢量(-57.799, -147.630, 42.630);
		// 	全局.bastionPosition[4] = 矢量(-105.646, -152.500, 36.451);
		// 	全局.bastionPosition[5] = 矢量(-108.433, -155.480, -0.819);
		// 	全局.bastionPosition[6] = 矢量(-76.926, -155.500, 6.485);
		// 	全局.endPosition = 矢量(-93.800, -151.520, -22.320) - 矢量(0, 2, 0);
		// 	全局.resetPosition = 矢量(-80.100, -151.440, 147.528);
		// 	全局.heroRingPosition = 矢量(-79.847, -151.440, 147.618);
		// 	全局.creditsPosition = 矢量(-76.876, -151.440, 147.616);
		// "Ruins"
		// Else If(数量(范围内玩家(矢量(377.011, 47.028, 170.005), 30, 队伍1, 关闭)) != 0);
		// 	全局.bastionPosition[0] = 矢量(339.685, 45.046, 183.915);
		// 	全局.bastionPosition[1] = 矢量(328.398, 48.200, 178.177);
		// 	全局.bastionPosition[2] = 矢量(290.734, 43.050, 132.469);
		// 	全局.bastionPosition[3] = 矢量(269.986, 47, 186.486);
		// 	全局.bastionPosition[4] = 矢量(270.294, 44.140, 156.312);
		// 	全局.bastionPosition[5] = 矢量(239.455, 47.760, 150.519);
		// 	全局.bastionPosition[6] = 矢量(208.500, 52.190, 182.888);
		// 	"Tower goal position"
		// 	全局.endPosition = 矢量(206.113, 48.090, 163.650) - 矢量(0, 2, 0);
		// 	全局.heroRingPosition = 矢量(365.657, 45.730, 174.464);
		// 	"Base coordinates for world game settings HUD"
		// 	全局.resetPosition = 矢量(365.378, 47.028, 173.797);
		// 	全局.creditsPosition = 矢量(365.644, 47.028, 170.432);
		// "Town"
		// Else If(数量(范围内玩家(矢量(179.470, -8.427, -236.910), 30, 队伍1, 关闭)) != 0);
		// 	全局.bastionPosition[0] = 矢量(232.780, -7.970, -240.079);
		// 	全局.bastionPosition[1] = 矢量(281.502, -10.010, -196.402);
		// 	全局.bastionPosition[2] = 矢量(285.570, -8.560, -247.894);
		// 	全局.bastionPosition[3] = 矢量(324.824, -12.160, -253.554);
		// 	全局.bastionPosition[4] = 矢量(321.665, -8.900, -216.642);
		// 	全局.bastionPosition[5] = 矢量(334.853, -10.730, -248.839);
		// 	"Town goal position"
		// 	全局.endPosition = 矢量(369.655, -7.642, -243.957) - 矢量(0, 3, 0);
		// 	全局.heroRingPosition = 矢量(193.439, -8.990, -233.575);
		// 	全局.resetPosition = 矢量(190.325, -9.110, -231.926);
		// 	"Base coordinates for world game settings HUD"
		// 	全局.creditsPosition = 矢量(321.800, -20, 46);
		// End;
		"0 = X轴 1 = Y轴 2 = Z轴"
		全局.controlRespawnAxis = 1;
		"距离阈值"
		全局.controlRespawnAxisThreshold = 40;
		"覆盖全局自动重开时间"
		全局.rebootTime = 15900;
		开始强制重生室(队伍1, 2);
		等待直到 (对任意为“真”(所有玩家(队伍1), 已重生(当前数组元素)), 99999);
		"冰下层重生点"
		全局.controlRespawnPosition = 矢量(-76.020, -151.440, 153.130);
		"冰下层-破冰船 传送点"
		全局.controlJumpPosition = 矢量(-59.560, -151.500, -17.690);
		全局.resetPosition = 矢量(-75.850, -151.440, 147.300);
		全局.heroRingPosition = 矢量(-79.930, -151.440, 147.280);
		全局.creditsPosition = 矢量(-78.770, -148.440, 160.860);
		"破冰船重生点"
		修改全局变量(controlRespawnPosition, 添加至数组, 矢量(182.660, -9.700, -234.070));
		"破冰船-研究中心  传送点"
		修改全局变量(controlJumpPosition, 添加至数组, 矢量(343.060, -9.100, -209.650));
		"研究中心重生点"
		修改全局变量(controlRespawnPosition, 添加至数组, 矢量(369.700, 45.730, 169.340));
		全局.endPosition = 矢量(205.410, 48.090, 165.140);
		"堡垒点位  冰下层"
		全局.bastionPosition = 矢量(-72.040, -151.410, 119.550);
		修改全局变量(bastionPosition, 添加至数组, 矢量(-92.090, -151.170, 80.660));
		修改全局变量(bastionPosition, 添加至数组, 矢量(-58.390, -147.630, 42.630));
		修改全局变量(bastionPosition, 添加至数组, 矢量(-88.010, -143.330, -19.630));
		"堡垒点位 破冰船"
		修改全局变量(bastionPosition, 添加至数组, 矢量(231.060, -7.680, -232.480));
		修改全局变量(bastionPosition, 添加至数组, 矢量(281.410, -10.010, -196.390));
		修改全局变量(bastionPosition, 添加至数组, 矢量(282.200, -8.310, -247.910));
		修改全局变量(bastionPosition, 添加至数组, 矢量(314.780, -14, -262.470));
		修改全局变量(bastionPosition, 添加至数组, 矢量(320.920, -8.930, -216.010));
		修改全局变量(bastionPosition, 添加至数组, 矢量(330.850, -10.940, -249.670));
		"堡垒点位  研究中心"
		修改全局变量(bastionPosition, 添加至数组, 矢量(326.200, 51.510, 165.800));
		修改全局变量(bastionPosition, 添加至数组, 矢量(269.850, 44.150, 156.600));
		修改全局变量(bastionPosition, 添加至数组, 矢量(209.610, 52.190, 181.940));
		修改全局变量(bastionPosition, 添加至数组, 矢量(269.900, 47.010, 187.600));
		全局.controlCenterPosition = 数组(矢量(-77.850, -154.430, 59.980), 矢量(283.400, -12.750, -223.320), 矢量(270.290, 39.780, 160.080));
		全局.mapTitle = 数组(
			数组(自定义字符串("吾携秋水揽星河"), 自定义字符串("{0}开拓者", 全局.__currentMap__), 全局.heroColor[12], 全局.__currentMap__),
			数组(自定义字符串("溪云初起日沉阁"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("溪云初起日沉阁"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__)
		);
		修改全局变量(allTitle, 添加至数组, 全局.mapTitle);
	}
}

规则("map - 釜山")
{
	事件
	{
		持续 - 全局;
	}

	条件
	{
		全局.__currentMap__ == 地图(釜山);
	}

	动作
	{
		"0 = X轴 1 = Y轴 2 = Z轴"
		全局.controlRespawnAxis = 0;
		"距离阈值"
		全局.controlRespawnAxisThreshold = 40;
		"覆盖全局自动重开时间"
		全局.rebootTime = 15900;
		开始强制重生室(队伍1, 2);
		等待直到 (对任意为“真”(所有玩家(队伍1), 已重生(当前数组元素)), 99999);
		"寺庙重生点"
		全局.controlRespawnPosition = 矢量(-426.040, 11.110, 165.810);
		"寺庙-城区 传送点"
		全局.controlJumpPosition = 矢量(-248.550, 10.350, 152.770);
		全局.resetPosition = 矢量(-409.710, 10.110, 165.610);
		全局.heroRingPosition = 矢量(-410.400, 10.110, 162.370);
		全局.creditsPosition = 矢量(-426.040, 13.110, 165.810);
		"城区城区重生点"
		修改全局变量(controlRespawnPosition, 添加至数组, 矢量(-30.950, 17, -125.550));
		"城区-meka基地 传送点"
		修改全局变量(controlJumpPosition, 添加至数组, 矢量(104.770, 17.740, -137.210));
		"meka基地重生点"
		修改全局变量(controlRespawnPosition, 添加至数组, 矢量(291.620, 11.090, 208.250));
		全局.endPosition = 矢量(158.670, 10.810, 260.910);
		"堡垒点位  寺院"
		全局.bastionPosition = 矢量(-327.440, 17.730, 166.800);
		修改全局变量(bastionPosition, 添加至数组, 矢量(-328.510, 15.080, 140.810));
		修改全局变量(bastionPosition, 添加至数组, 矢量(-277.400, 11.130, 144.400));
		修改全局变量(bastionPosition, 添加至数组, 矢量(-379.430, 11.130, 144.410));
		"堡垒点位 城区"
		修改全局变量(bastionPosition, 添加至数组, 矢量(22.020, 13.860, -121.160));
		修改全局变量(bastionPosition, 添加至数组, 矢量(51.840, 13.480, -97.400));
		修改全局变量(bastionPosition, 添加至数组, 矢量(80.670, 20, -106.930));
		修改全局变量(bastionPosition, 添加至数组, 矢量(111.430, 18.540, -169.790));
		"堡垒点位  meka基地"
		修改全局变量(bastionPosition, 添加至数组, 矢量(268.370, 15.090, 205.620));
		修改全局变量(bastionPosition, 添加至数组, 矢量(249.270, 14.290, 236.100));
		修改全局变量(bastionPosition, 添加至数组, 矢量(228.220, 10.090, 231.080));
		修改全局变量(bastionPosition, 添加至数组, 矢量(200.310, 19.430, 223.760));
		修改全局变量(bastionPosition, 添加至数组, 矢量(177.100, 9.690, 253.190));
		修改全局变量(bastionPosition, 添加至数组, 矢量(173.930, 12.870, 267.780));
		全局.controlCenterPosition = 数组(矢量(-328.530, 8.170, 153.320), 矢量(51.890, 14.500, -114.700), 矢量(222.720, 9.240, 241.770));
		全局.mapTitle = 数组(
			数组(自定义字符串("草艮"), 自定义字符串("{0}开拓者", 全局.__currentMap__), 全局.heroColor[12], 全局.__currentMap__),
			数组(自定义字符串("草艮"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("顾北酒笙"), 自定义字符串("{0}开拓者", 全局.__currentMap__), 全局.heroColor[12], 全局.__currentMap__),
			数组(自定义字符串("顾北酒笙"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("WildRage"), 自定义字符串("{0}开拓者", 全局.__currentMap__), 全局.heroColor[12], 全局.__currentMap__),
			数组(自定义字符串("WildRage"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("尘风歌者"), 自定义字符串("{0}开拓者", 全局.__currentMap__), 全局.heroColor[12], 全局.__currentMap__),
			数组(自定义字符串("尘风歌者"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("尘风歌者"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("吾携秋水揽星河"), 自定义字符串("{0}开拓者", 全局.__currentMap__), 全局.heroColor[12], 全局.__currentMap__),
			数组(自定义字符串("吾携秋水揽星河"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("吾携秋水揽星河"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("溪云初起日沉阁"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("溪云初起日沉阁"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("Cold"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("Cold"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("豆本豆豆奶"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("豆本豆豆奶"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__)
		);
		修改全局变量(allTitle, 添加至数组, 全局.mapTitle);
	}
}

规则("map - 绿洲城")
{
	事件
	{
		持续 - 全局;
	}

	条件
	{
		全局.__currentMap__ == 地图(绿洲城);
	}

	动作
	{
		"0 = X轴 1 = Y轴 2 = Z轴"
		全局.controlRespawnAxis = 2;
		"距离阈值"
		全局.controlRespawnAxisThreshold = 40;
		"覆盖全局自动重开时间"
		全局.rebootTime = 15900;
		开始强制重生室(队伍1, 2);
		等待直到 (对任意为“真”(所有玩家(队伍1), 已重生(当前数组元素)), 99999);
		"花园重生点"
		全局.controlRespawnPosition = 矢量(200.460, 6.420, -188.280);
		"花园-大学 传送点"
		全局.controlJumpPosition = 矢量(82.130, 5.490, -273.200);
		全局.resetPosition = 矢量(193.610, 8.420, -197.030);
		全局.heroRingPosition = 矢量(191.330, 8.420, -194.730);
		全局.creditsPosition = 矢量(204.410, 8.420, -184.710);
		"大学重生点"
		修改全局变量(controlRespawnPosition, 添加至数组, 矢量(-195.030, 20, 89.710));
		"大学-中心  传送点"
		修改全局变量(controlJumpPosition, 添加至数组, 矢量(-175.400, 16, -61.350));
		"中心重生点"
		修改全局变量(controlRespawnPosition, 添加至数组, 矢量(69.730, 1, 321.160));
		全局.endPosition = 矢量(195.130, 0.850, 172.870);
		"堡垒点位  花园"
		全局.bastionPosition = 矢量(170.700, 13.570, -216.170);
		修改全局变量(bastionPosition, 添加至数组, 矢量(123.600, 12, -229.920));
		修改全局变量(bastionPosition, 添加至数组, 矢量(78.920, 10, -253.170));
		修改全局变量(bastionPosition, 添加至数组, 矢量(111.340, 13.570, -278.410));
		"堡垒点位 大学"
		修改全局变量(bastionPosition, 添加至数组, 矢量(-196.790, 21.650, 56.690));
		修改全局变量(bastionPosition, 添加至数组, 矢量(-202.910, 9.120, -0.100));
		修改全局变量(bastionPosition, 添加至数组, 矢量(-177.500, 20.250, 0.190));
		修改全局变量(bastionPosition, 添加至数组, 矢量(-183.170, 20.060, -61.790));
		"堡垒点位  中心"
		修改全局变量(bastionPosition, 添加至数组, 矢量(110.540, 2, 283.010));
		修改全局变量(bastionPosition, 添加至数组, 矢量(140.160, 10, 250.390));
		修改全局变量(bastionPosition, 添加至数组, 矢量(171.910, 4.120, 277));
		修改全局变量(bastionPosition, 添加至数组, 矢量(150.980, 3.850, 223.890));
		修改全局变量(bastionPosition, 添加至数组, 矢量(173.510, 2, 217.630));
		全局.controlCenterPosition = 数组(矢量(129.500, 15.280, -235.740), 矢量(-192.080, 15, 0.260), 矢量(143.440, 2.150, 247.950));
		全局.mapTitle = 数组(
			数组(自定义字符串("尘风歌者"), 自定义字符串("{0}开拓者", 全局.__currentMap__), 全局.heroColor[12], 全局.__currentMap__),
			数组(自定义字符串("尘风歌者"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("尘风歌者"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__),
			数组(自定义字符串("豆本豆豆奶"), 自定义字符串("{0}开拓者", 全局.__currentMap__), 全局.heroColor[12], 全局.__currentMap__),
			数组(自定义字符串("豆本豆豆奶"), 自定义字符串("{0}征服者", 全局.__currentMap__), 颜色(红色), 全局.__currentMap__),
			数组(自定义字符串("豆本豆豆奶"), 自定义字符串("{0}主宰", 全局.__currentMap__), 颜色(紫色), 全局.__currentMap__)
		);
		修改全局变量(allTitle, 添加至数组, 全局.mapTitle);
	}
}

规则("bastion init position, unkillable status, and damage dealt scaling with difficulty setting")
{
	事件
	{
		持续 - 每名玩家;
		队伍2;
		堡垒;
	}

	条件
	{
		存活(事件玩家) == 真;
		已重生(事件玩家) == 真;
	}

	动作
	{
		等待(0.250, 无视条件);
		设置造成伤害(事件玩家, 100 + 50 * 全局.difficulty);
		传送(事件玩家, 全局.bastionPosition[栏位(事件玩家)]);
		If(!具有状态(事件玩家, 无法杀死));
			设置状态(事件玩家, 空, 无法杀死, 99999);
			设置受到的击退(事件玩家, 1);
	}
}

规则("set hero list")
{
	事件
	{
		持续 - 全局;
	}

	动作
	{
		"make default hero list, which includes all 36 heroes available in Season 2"
		全局.heroList = 数组(英雄(黑影), 英雄(死神), 英雄(莫伊拉), 英雄(雾子), 英雄(西格玛), 英雄(源氏), 英雄(奥丽莎), 英雄(秩序之光), 英雄(温斯顿), 英雄(D.Va), 英雄(猎空), 英雄(黑百合), 英雄(索杰恩),
			英雄(巴蒂斯特), 英雄(美), 英雄(回声), 英雄(布丽吉塔), 英雄(士兵：76), 英雄(破坏球), 英雄(卡西迪), 英雄(查莉娅), 英雄(卢西奥), 英雄(法老之鹰), 英雄(天使), 英雄(莱因哈特), 英雄(半藏),
			英雄(末日铁拳), 英雄(路霸), 英雄(渣客女王), 英雄(艾什), 英雄(托比昂), 英雄(安娜), 英雄(禅雅塔), 英雄(狂鼠), 英雄(堡垒));
		"remove all heroes that are not for some reason in Overwatch's list of all the heroes (at the time of making this, Mei is an example because she was removed to be patched)"
		修改全局变量(heroList, 根据值从数组中移除, 已过滤的数组(全局.heroList, !数组包含(全部英雄, 当前数组元素)));
		"add any heroes that for some reason are on Overwatch's list but not the game's (eg if I don't update the mode after a hero release). they are added as the second hero in the list"
		If(对任意为“真”(全部英雄, !数组包含(全局.heroList, 当前数组元素)));
			全局.missingHeroes = 已过滤的数组(全部英雄, !数组包含(全局.heroList, 当前数组元素));
			For 全局变量(I, 0, 数量(全局.missingHeroes), 1);
				全局.heroList = 已排序的数组(添加至数组(全局.heroList, 全局.missingHeroes[全局.I]), 当前数组元素 != 全局.missingHeroes[全局.I] ? 当前数组索引 : 0.500);
				等待(0.016, 无视条件);
			End;
		End;
		"move Bastion to the end of the hero list, and keep the rest of the list how it is"
		全局.heroList = 已排序的数组(全局.heroList, 当前数组索引 + 数量(全局.heroList) * (当前数组元素 == 英雄(堡垒)));
		// "remove Wuyang"
	}
}

规则("infinite match time")
{
	事件
	{
		持续 - 全局;
	}

	条件
	{
		正在设置 == 假;
	}

	动作
	{
		禁用 禁用查看器录制;
		关闭游戏预设完成条件;
		关闭游戏预设通告模式;
		关闭游戏预设音乐模式;
		关闭游戏预设计分模式;
		等待(1, 无视条件);
		比赛时间暂停;
		设置慢动作(90);
	}
}

规则("if someone starts the game mode, restart the match")
{
	事件
	{
		持续 - 全局;
	}

	条件
	{
		当前游戏模式 != 游戏模式(突击模式);
		(正在设置 || 正在集结英雄 || 游戏正在进行中) == 真;
	}

	动作
	{
		关闭游戏预设通告模式;
		等待(0.016, 无视条件);
		移除所有机器人;
		消除所有效果;
		消除所有HUD文本;
		消除所有图标;
		消除所有地图文本;
		消除所有进度条HUD文本;
		等待(0.016, 无视条件);
		隐藏信息(所有玩家(队伍1));
		隐藏游戏模式HUD(所有玩家(队伍1));
		隐藏游戏模式地图UI(所有玩家(队伍1));
		关闭游戏预设复生模式(所有玩家(队伍1));
		比赛时间继续;
		While(!游戏正在进行中);
			设置比赛时间(0);
			等待(0.016, 无视条件);
		End;
		创建图标(所有玩家(队伍1), 矢量(0, 101, -0.250), 警告, 颜色, 自定义颜色(220 + 弧度的正弦值(总计消耗时间 * 3.141) * 35, 0, 0, 255), 假);
		创建地图文本(所有玩家(队伍1), 自定义字符串("主机开始了游戏模式.\n这将导致智械危机.\n\n                      正在重开..."), 矢量(0,
			101, 0), 3, 不要截取, 颜色, 自定义颜色(220 + 弧度的正弦值(总计消耗时间 * 3.141) * 35, 0, 0, 255), 始终可见);
		For 全局变量(I, 0, 5, 1);
			创建效果(所有玩家(队伍1), 球, 颜色(黑色), 矢量(0, 100 + 0.500 * (全局.I + 1) / 5, 0), 2 + 2 * (全局.I + 5), 无);
			创建效果(所有玩家(队伍1), 球体, 颜色(黑色), 矢量(0, 100, 0), 2 + 2 * (全局.I + 5), 无);
			创建效果(所有玩家(队伍1), 有害光环, 颜色(黑色), 矢量(0, 100 + 3 * (全局.I + 1) / 5, 0), 2 + 2 * (全局.I + 5), 无);
			等待(0.016, 无视条件);
		End;
		开始强制玩家选择英雄(所有玩家(队伍1), 英雄(黑影));
		等待(0.016, 无视条件);
		击杀(所有玩家(队伍1), 主机玩家);
		隐藏英雄HUD(所有玩家(队伍1));
		开始镜头(所有玩家(队伍1), 矢量(0, 100, 0), 矢量(0, 101, 0.010), 0);
		等待(5, 无视条件);
		开启游戏预设音乐模式;
		宣告队伍胜利(队伍2);
		消除所有地图文本;
		消除所有图标;
		等待(2, 无视条件);
		等待直到 (总计消耗时间 > 30, 30);
		重新开始比赛;
	}
}

规则("create bastion bots")
{
	事件
	{
		持续 - 全局;
	}

	条件
	{
		玩家数量(队伍2) < 数量(全局.bastionPosition);
	}

	动作
	{
		移除所有机器人;
		While(玩家数量(队伍2) < 数量(全局.bastionPosition));
			生成机器人(英雄(堡垒), 队伍2, -1, 数组随机取值(重生点(队伍2)), 矢量(0, 0, 0));
			等待(0.250, 无视条件);
		End;
		If(全局.kills == 0);
			全局.kills = 数组(0, 0, 0, 0, 0, 0);
		End;
		等待(2, 无视条件);
		如条件为“真”则循环;
	}
}

规则("bastions are numbered and list their kills (by changing their names when they spawn)")
{
	事件
	{
		玩家加入比赛;
		队伍2;
		全部;
	}

	动作
	{
		开始为机器人强制设置名称(事件玩家, 自定义字符串("看守{0} {1}", 栏位(事件玩家) + 1, 全局.kills[栏位(事件玩家)]));
	}
}

规则("damage modifier: players can't hurt bastions")
{
	事件
	{
		持续 - 全局;
	}

	条件
	{
		全局.difficulty != 5;
		单次赋值(全局.dmgReduction) == 假;
	}

	动作
	{
		开始伤害调整(所有玩家(队伍2), 已过滤的数组(所有玩家(队伍1), !数组包含(全局.devList, 自定义字符串("{0}", 当前数组元素))), 0.100, 受伤害者和伤害者);
		// 开始伤害调整(所有玩家(队伍2), 所有玩家(队伍1), 0.001, 受伤害者和伤害者);
	}
}

规则("anti crash")
{
	事件
	{
		持续 - 全局;
	}

	条件
	{
		全局.antiCrashActivated == 假;
		服务器负载 > 230;
	}

	动作
	{
		等待(1, 当为“假”时中止);
		小字体信息(所有玩家(所有队伍), 自定义字符串("  防炸房系统工作中..."));
		设置慢动作(20);
		全局.antiCrashActivated = 真;
	}
}

规则("disable anti crash")
{
	事件
	{
		持续 - 全局;
	}

	条件
	{
		全局.antiCrashActivated != 假;
		服务器负载 < 200;
	}

	动作
	{
		设置慢动作(90);
		全局.antiCrashActivated = 假;
	}
}

规则("disable gamemode hud and player collision for all players")
{
	事件
	{
		持续 - 每名玩家;
		队伍1;
		全部;
	}

	条件
	{
		已重生(事件玩家) == 真;
	}

	动作
	{
		隐藏游戏模式HUD(事件玩家);
		隐藏游戏模式地图UI(事件玩家);
		取消与玩家的移动碰撞(事件玩家);
	}
}

规则("enemy bastions must stay in configuration: assault (AKA machine gun/sentry/alternate form)")
{
	事件
	{
		持续 - 每名玩家;
		队伍2;
		堡垒;
	}

	条件
	{
		处于非初始状态(事件玩家) == 假;
		总计消耗时间 > 10;
	}

	动作
	{
		"this cancels bastion's \"standing up\" animation so he can sit back down faster"
		取消主要动作(事件玩家);
		设置技能冷却(事件玩家, 按钮(技能1), 0);
		按下按键(事件玩家, 按钮(技能1));
		等待(0.032, 无视条件);
		如条件为“真”则循环;
	}
}

规则("bastions periodically refresh their configuration when there are enemies nearby but out of sight")
{
	事件
	{
		持续 - 每名玩家;
		队伍2;
		堡垒;
	}

	条件
	{
		总计消耗时间 > 10;
		事件玩家.target == 假;
		首个(范围内玩家(所选位置(事件玩家), 110, 队伍1, 关闭)) != 假;
	}

	动作
	{
		等待(随机实数(0.200, 1), 当为“假”时中止);
		按下按键(事件玩家, 按钮(技能1));
		等待(随机实数(1, 3), 无视条件);
		如条件为“真”则循环;
	}
}

规则("bastion constantly searches for targets in line of sight")
{
	事件
	{
		持续 - 每名玩家;
		队伍2;
		堡垒;
	}

	条件
	{
		首个(范围内玩家(眼睛位置(事件玩家), 105, 队伍1, 关闭)) != 假;
	}

	动作
	{
		事件玩家.temp = 已过滤的数组(所有存活玩家(队伍1), 在视线内(眼睛位置(事件玩家), 眼睛位置(当前数组元素), 屏障不会阻挡视线) || 在视线内(眼睛位置(事件玩家), 所选位置(当前数组元素), 屏障不会阻挡视线));
		等待(0.016, 无视条件);
		If(!事件玩家.temp);
			事件玩家.target = 空;
			跳过(8);
		End;
		禁用 修改玩家变量(事件玩家, temp, 根据值从数组中移除, 已过滤的数组(事件玩家.temp, !已重生(当前数组元素) || 当前数组元素.isWinner || 具有状态(当前数组元素, 相移) || (所用英雄(当前数组元素) == 英雄(黑影)
			&& 正在使用技能 1(当前数组元素))));
		修改玩家变量(事件玩家, temp, 根据值从数组中移除, 已过滤的数组(事件玩家.temp, !已重生(当前数组元素) || 当前数组元素.isWinner || 具有状态(当前数组元素, 相移) || 相距距离(事件玩家, 当前数组元素) >= 100));
		等待(0.016, 无视条件);
		If(数量(事件玩家.temp) > 1);
			事件玩家.temp = 已排序的数组(事件玩家.temp, 全局.bastionBotTargetPrefer == 0 ? 生命值(当前数组元素) * 相距距离(事件玩家, 当前数组元素) : (
				全局.bastionBotTargetPrefer == 1 ? 相距距离(事件玩家, 当前数组元素) : 生命值(当前数组元素)));
			等待(0.016, 无视条件);
		End;
		事件玩家.target = 首个(事件玩家.temp);
		等待(随机实数(0.256, 0.512), 无视条件);
		如条件为“真”则循环;
		事件玩家.target = 空;
	}
}

规则("bastion fires if he has a target")
{
	事件
	{
		持续 - 每名玩家;
		队伍2;
		堡垒;
	}

	条件
	{
		单次赋值(是否是机器人(事件玩家)) != 假;
		存活(事件玩家) == 真;
		正在使用主要武器(事件玩家) == 假;
		事件玩家.target != 假;
	}

	动作
	{
		开始按下按钮(事件玩家, 按钮(主要攻击模式));
		等待(0.500, 无视条件);
		如条件为“真”则循环;
	}
}

规则("bastion stops firing when there aren't targets")
{
	事件
	{
		持续 - 每名玩家;
		队伍2;
		堡垒;
	}

	条件
	{
		单次赋值(是否是机器人(事件玩家)) != 假;
		事件玩家.target == 假;
		存活(事件玩家) == 真;
	}

	动作
	{
		停止按下按钮(事件玩家, 按钮(主要攻击模式));
		等待(1, 当为“假”时中止);
		根据条件循环(正在使用主要武器(事件玩家));
	}
}

规则("bastion secondary fires if he has a target")
{
	事件
	{
		持续 - 每名玩家;
		队伍2;
		堡垒;
	}

	条件
	{
		// (全局.difficulty == 5 || 全局.bastionBotSeconFire) == 真;
		对任意为“真”(数组(全局.difficulty == 5, 全局.bastionBotSeconFire), 当前数组元素) == 真;
		单次赋值(是否是机器人(事件玩家)) != 假;
		存活(事件玩家) == 真;
		正在使用主要武器(事件玩家) == 真;
		技能冷却时间(事件玩家, 按钮(辅助攻击模式)) == 0;
		事件玩家.target != 假;
	}

	动作
	{
		等待(随机实数(0.032, 0.160), 当为“假”时中止);
		按下按键(事件玩家, 按钮(辅助攻击模式));
		事件玩家.target.A36TGrenade += 1;
		等待(1.488, 无视条件);
		如条件为“真”则循环;
	}
}

规则("bastion aims at whichever part of his target is most exposed")
{
	事件
	{
		持续 - 每名玩家;
		队伍2;
		堡垒;
	}

	条件
	{
		单次赋值(是否是机器人(事件玩家)) != 假;
		存活(事件玩家) == 真;
		事件玩家.target != 空;
	}

	动作
	{
		事件玩家.tempAimPosition = (所选位置(事件玩家.target) + 眼睛位置(事件玩家.target)) / 2;
		If(在视线内(眼睛位置(事件玩家), 事件玩家.tempAimPosition, 屏障不会阻挡视线));
			事件玩家.aimPosition = 事件玩家.tempAimPosition;
		Else If(在视线内(眼睛位置(事件玩家), 眼睛位置(事件玩家.target), 屏障不会阻挡视线));
			事件玩家.aimPosition = 眼睛位置(事件玩家.target);
		Else;
			事件玩家.aimPosition = 所选位置(事件玩家.target);
		End;
		等待(0.064, 无视条件);
		如条件为“真”则循环;
	}
}

规则("bastion places his crosshair near the closest potential target if he doesn't currently have one")
{
	事件
	{
		持续 - 每名玩家;
		队伍2;
		堡垒;
	}

	条件
	{
		单次赋值(是否是机器人(事件玩家)) != 假;
		存活(事件玩家) == 真;
		事件玩家.target == 假;
	}

	动作
	{
		等待(服务器负载 / 100, 当为“假”时中止);
		禁用 事件玩家.nearestTargetOutOfLoS = 首个(已排序的数组(已过滤的数组(所有存活玩家(队伍1), 已重生(当前数组元素) && !事件玩家.isWinner && !(所用英雄(当前数组元素) == 英雄(黑影) && 正在使用技能 1(
			当前数组元素))), 相距距离(眼睛位置(事件玩家), 眼睛位置(当前数组元素))));
		事件玩家.nearestTargetOutOfLoS = 首个(已排序的数组(已过滤的数组(所有存活玩家(队伍1), 已重生(当前数组元素) && !事件玩家.isWinner), 相距距离(眼睛位置(事件玩家), 眼睛位置(当前数组元素))));
		根据条件跳过(事件玩家.nearestTargetOutOfLoS == 空, 1);
		事件玩家.aimPosition = 眼睛位置(事件玩家.nearestTargetOutOfLoS) + 矢量(随机实数(-1, 1), 随机实数(-1, 1), 随机实数(-1, 1));
		等待(随机实数(1, 4), 无视条件);
		如条件为“真”则循环;
	}
}

规则("determine bastion's aim speed, to improve smooth tracking")
{
	事件
	{
		持续 - 每名玩家;
		队伍2;
		堡垒;
	}

	条件
	{
		单次赋值(是否是机器人(事件玩家)) != 假;
		存活(事件玩家) == 真;
		事件玩家.target != 假;
	}

	动作
	{
		事件玩家.turnSpeed = 矢量间夹角(面朝方向(事件玩家), 方向(眼睛位置(事件玩家), 眼睛位置(事件玩家.target))) * 全局.turnSpeedMultiplier;
		事件玩家.turnSpeed += 速度(事件玩家.target) * 全局.turnSpeedMultiplier;
		等待(服务器负载平均值 / 1000, 无视条件);
		如条件为“真”则循环;
	}
}

规则("increase bastion's aim speed to prep for flicking to a target entering range")
{
	事件
	{
		持续 - 每名玩家;
		队伍2;
		堡垒;
	}

	条件
	{
		单次赋值(是否是机器人(事件玩家)) != 假;
		存活(事件玩家) == 真;
		事件玩家.target == 假;
		矢量间夹角(面朝方向(事件玩家), 方向(眼睛位置(事件玩家), 所选位置(事件玩家.aimPosition))) >= 1;
	}

	动作
	{
		事件玩家.turnSpeed = 矢量间夹角(面朝方向(事件玩家), 方向(眼睛位置(事件玩家), 所选位置(事件玩家.aimPosition)) * 全局.turnSpeedMultiplier);
		等待(服务器负载峰值 / 1000, 无视条件);
		如条件为“真”则循环;
	}
}

规则("start facing bastion bots")
{
	事件
	{
		持续 - 每名玩家;
		队伍2;
		堡垒;
	}

	条件
	{
		单次赋值(是否是机器人(事件玩家)) != 假;
		存活(事件玩家) == 真;
		已重生(事件玩家) == 真;
		总计消耗时间 > 10;
	}

	动作
	{
		开始朝向(事件玩家, 方向(眼睛位置(事件玩家), 事件玩家.aimPosition), 具有状态(事件玩家, 沉睡) ? 0 : 事件玩家.turnSpeed, 至地图, 方向及角速率);
	}
}

规则("set bastion's target to null once he kills them")
{
	事件
	{
		玩家造成最后一击;
		队伍2;
		全部;
	}

	动作
	{
		事件玩家.target = 空;
		事件玩家.nearestTargetOutOfLoS = 空;
		根据条件跳过(全局.difficulty != 5, 3);
		IF(事件技能 == 按钮(辅助攻击模式) && 全局.A36TGrenadeFB == 空);
			全局.A36TGrenadeFB = 被攻击方;
		END;
	}
}

规则("bastion punches the ground a few times at first to destroy railings")
{
	事件
	{
		持续 - 每名玩家;
		队伍2;
		堡垒;
	}

	条件
	{
		总计消耗时间 < 10;
		总计消耗时间 > 5;
	}

	动作
	{
		设置朝向(事件玩家, 下, 至地图);
		For 玩家变量(事件玩家, I, 0, 3, 1);
			按下按键(事件玩家, 按钮(近身攻击));
			等待(1.200, 无视条件);
		End;
	}
}

规则("bastion fully heals periodically")
{
	事件
	{
		持续 - 每名玩家;
		队伍2;
		堡垒;
	}

	条件
	{
		存活(事件玩家) == 真;
	}

	动作
	{
		等待(20, 无视条件);
		开始持续治疗(事件玩家, 空, 19.500, 9999);
		如条件为“真”则循环;
	}
}

规则("bastion immediately respawns upon death")
{
	事件
	{
		玩家阵亡;
		队伍2;
		堡垒;
	}

	动作
	{
		等待(0.016, 无视条件);
		复生(事件玩家);
	}
}

规则("teleport bastions back and reset velocity when they are displaced")
{
	事件
	{
		持续 - 每名玩家;
		队伍2;
		堡垒;
	}

	条件
	{
		相距距离(所选位置(事件玩家), 全局.bastionPosition[栏位(事件玩家)]) > 2;
	}

	动作
	{
		等待(0.500, 当为“假”时中止);
		事件玩家.isInPosition = 假;
		开启与环境的移动碰撞(事件玩家);
		设置状态(事件玩家, 空, 相移, 7);
		传送(事件玩家, 全局.bastionPosition[栏位(事件玩家)]);
		等待(0.016, 无视条件);
		开始强制设置玩家位置(事件玩家, 全局.bastionPosition[栏位(事件玩家)], 假);
		等待(0.016, 无视条件);
		等待直到 (速度(事件玩家) < 1, 2);
		停止强制设置玩家位置(事件玩家);
		如条件为“真”则循环;
	}
}

规则("bastions stay where they initially land")
{
	事件
	{
		持续 - 每名玩家;
		队伍2;
		堡垒;
	}

	条件
	{
		总计消耗时间 > 10;
		事件玩家.isInPosition == 假;
		正在移动(事件玩家) == 假;
	}

	动作
	{
		等待(5, 当为“假”时中止);
		等待直到 (正在使用技能 1(事件玩家), 2);
		等待(0.500, 当为“假”时中止);
		开始强制设置玩家位置(事件玩家, 所选位置(事件玩家), 假);
		取消与环境的移动碰撞(事件玩家, 真);
		事件玩家.isInPosition = 真;
	}
}

规则("bastions whose position is far above the ground instead stay at that position")
{
	事件
	{
		持续 - 每名玩家;
		队伍2;
		堡垒;
	}

	条件
	{
		事件玩家.isInPosition == 假;
		已重生(事件玩家) == 真;
		存活(事件玩家) == 真;
		相距距离(射线命中位置(全局.bastionPosition[栏位(事件玩家)] + 上, 全局.bastionPosition[栏位(事件玩家)] + 下 * 5, 空, 空, 假), 全局.bastionPosition[栏位(事件玩家)] + 下 * 5)
			== 0;
	}

	动作
	{
		传送(事件玩家, 全局.bastionPosition[栏位(事件玩家)]);
		等待(0.016, 无视条件);
		开始强制设置玩家位置(事件玩家, 全局.bastionPosition[栏位(事件玩家)], 假);
	}
}

规则("bastion A-36 Tactical Grenade hit player")
{
	事件
	{
		玩家受到击退;
		队伍1;
		全部;
	}

	条件
	{
		全局.difficulty == 5;
		所用英雄(攻击方) == 英雄(堡垒);
		攻击方 != 事件玩家;
		事件技能 == 按钮(辅助攻击模式);
	}

	动作
	{
		被攻击方.A36TGrenadeHit += 1;
		等待(0.032, 无视条件);
	}
}

规则("bastion A-36 Tactical Grenade hit player")
{
	事件
	{
		玩家受到伤害;
		队伍1;
		全部;
	}

	条件
	{
		全局.difficulty == 5;
		所用英雄(攻击方) == 英雄(堡垒);
		攻击方 != 事件玩家;
		事件技能 == 按钮(辅助攻击模式);
	}

	动作
	{
		被攻击方.A36TGrenadeDmg += 事件伤害;
		等待(0.016, 无视条件);
	}
}

规则("push players away from bastions")
{
	事件
	{
		持续 - 每名玩家;
		队伍1;
		全部;
	}

	条件
	{
		事件玩家.debugInfo != 真;
		首个(范围内玩家(事件玩家, 2, 队伍2, 关闭)) != 假;
	}

	动作
	{
		施加推力(事件玩家, 与此角度的相对方向(与此方向的水平角度(所选位置(事件玩家) - 所选位置(距离最近的玩家(事件玩家, 队伍2))), -20), 15, 至地图, 取消相反运动);
		等待(0.500, 当为“真”时重新开始);
	}
}

规则("players heal after not taking damage for 3 seconds")
{
	事件
	{
		玩家受到伤害;
		队伍1;
		全部;
	}

	动作
	{
		停止持续治疗(事件玩家.healID);
		等待(0.500, 无视条件);
		等待(1.500, 当为“真”时重新开始);
		根据条件中止(死亡(事件玩家) || 标准化生命值(事件玩家) == 1);
		根据条件跳过(事件玩家.A36TGrenadeAlive, 3);
		IF(事件技能 == 按钮(辅助攻击模式) && 生命值(事件玩家) <= 5);
			事件玩家.A36TGrenadeAlive = 真;
		END;
		等待(0.032, 无视条件);
		开始持续治疗(事件玩家, 事件玩家, 9999, 最大生命值(事件玩家) * 0.400);
		事件玩家.healID = 上一个持续治疗效果ID;
		
	}
}

规则("players pick up speed while not targeted for 3 seconds")
{
	事件
	{
		持续 - 每名玩家;
		队伍1;
		全部;
	}

	条件
	{
		首个(范围内玩家(事件玩家, 60, 队伍2, 表面)) == 假;
		正在移动(事件玩家) == 真;
	}

	动作
	{
		等待(3, 当为“假”时中止);
		设置移动速度(事件玩家, 160);
		等待直到 (首个(范围内玩家(事件玩家, 60, 队伍2, 表面)) || !正在移动(事件玩家), 9999);
		设置移动速度(事件玩家, 100);
	}
}

规则("player deaths are counted manually rather than relying on in-game statistics")
{
	事件
	{
		玩家阵亡;
		队伍1;
		全部;
	}

	条件
	{
		事件玩家.isWinner == 假;
	}

	动作
	{
		等待(0.500 * 服务器负载 / 100, 无视条件);
		事件玩家.runDeathCount += 1;
		If(数组包含(全局.savedIndex, 事件玩家));
			等待(0.032, 无视条件);
			全局.savedDeaths[数组值的索引(全局.savedIndex, 自定义字符串("{0}", 事件玩家))] = 事件玩家.runDeathCount;
	}
}

规则("when a mercy might rez, respawn time is increased")
{
	事件
	{
		玩家阵亡;
		队伍1;
		全部;
	}

	条件
	{
		正在使用英雄(英雄(天使), 队伍1) == 真;
		事件玩家.controlPlayerRespawn == 假;
	}

	动作
	{
		If(对任意为“真”(选择英雄的玩家(英雄(天使), 队伍1), 相距距离(所选位置(事件玩家), 所选位置(当前数组元素)) < 15 && 存活(当前数组元素) && 技能冷却时间(当前数组元素, 按钮(技能2)) < 8));
			大字体信息(事件玩家, 自定义字符串("附近有 天使 等待复活..."));
			关闭游戏预设复生模式(事件玩家);
			等待(5, 无视条件);
			开启游戏预设复生模式(事件玩家);
	}
}

规则("symmetra auto-breaks tp after going through")
{
	事件
	{
		持续 - 每名玩家;
		队伍1;
		秩序之光;
	}

	条件
	{
		按钮被按下(事件玩家, 按钮(互动)) == 真;
		技能冷却时间(事件玩家, 按钮(技能2)) > 0;
	}

	动作
	{
		等待(0.500, 无视条件);
		While(正在使用技能 2(事件玩家));
			根据条件中止(在重生室中(事件玩家));
			按下按键(事件玩家, 按钮(技能2));
			等待(0.250, 无视条件);
		End;
	}
}

规则("symmetra auto-breaks tp after time limit")
{
	事件
	{
		持续 - 每名玩家;
		队伍1;
		秩序之光;
	}

	条件
	{
		技能冷却时间(事件玩家, 按钮(技能2)) > 0;
	}

	动作
	{
		等待(1.250, 当为“假”时中止);
		While(正在使用技能 2(事件玩家));
			根据条件中止(在重生室中(事件玩家));
			按下按键(事件玩家, 按钮(技能2));
			等待(0.250, 无视条件);
		End;
	}
}

规则("when d.va demechs, set starting point (for goal) and enable remech")
{
	事件
	{
		持续 - 每名玩家;
		队伍1;
		全部;
	}

	条件
	{
		所用英雄(事件玩家) == 英雄(D.Va);
		处于非初始状态(事件玩家) == 真;
		正在使用终极技能(事件玩家) == 假;
	}

	动作
	{
		设置状态(事件玩家, 空, 无敌, 1.500);
		设置启用终极技能(事件玩家, 假);
		等待(0.050, 无视条件);
		事件玩家.dvaStart = 所选位置(事件玩家) * 矢量(1, 0, 1);
		等待(1, 无视条件);
		设置启用终极技能(事件玩家, 真);
	}
}

规则("while d.va is out of mech and alive, update ult charge to reflect goal distance")
{
	事件
	{
		持续 - 每名玩家;
		队伍1;
		D.Va;
	}

	条件
	{
		处于非初始状态(事件玩家) == 真;
		存活(事件玩家) == 真;
		事件玩家.dvaStart != 0;
		终极技能充能百分比(事件玩家) != 100;
	}

	动作
	{
		设置终极技能充能(事件玩家, 3.333 * 相距距离(所选位置(事件玩家) * 矢量(1, 0, 1), 事件玩家.dvaStart));
		等待(0.500 * 服务器负载平均值 / 100, 无视条件);
		如条件为“真”则循环;
	}
}

规则("once baby d.va is far enough from where she lost mech, she can remech")
{
	事件
	{
		持续 - 每名玩家;
		队伍1;
		D.Va;
	}

	条件
	{
		处于非初始状态(事件玩家) == 真;
		事件玩家.dvaStart != 0;
	}

	动作
	{
		等待直到 (相距距离(所选位置(事件玩家) * 矢量(1, 0, 1), 事件玩家.dvaStart) >= 30 || 死亡(事件玩家), 9999);
		事件玩家.dvaStart = 0;
		根据条件中止(死亡(事件玩家));
		设置终极技能充能(事件玩家, 100);
	}
}

规则("reinhardt cannot charge bastions")
{
	事件
	{
		持续 - 每名玩家;
		队伍1;
		莱因哈特;
	}

	条件
	{
		正在使用技能 1(事件玩家) == 真;
	}

	动作
	{
		等待直到 (首个(范围内玩家(事件玩家, 2, 队伍2, 关闭)) || !正在使用技能 1(事件玩家), 5);
		根据条件中止(!正在使用技能 1(事件玩家));
		等待(0.016, 无视条件);
		取消主要动作(事件玩家);
	}
}

规则("ana can only sleep each bastion once per limited amount of time")
{
	事件
	{
		玩家造成伤害;
		队伍1;
		安娜;
	}

	条件
	{
		事件技能 == 按钮(技能1);
	}

	动作
	{
		If(总计消耗时间 - 事件玩家.anaSleepLimit[栏位(被攻击方)] > 30);
			"taking damage won't wake bastion"
			设置状态(被攻击方, 空, 无敌, 5);
			事件玩家.anaSleepLimit[栏位(被攻击方)] = 总计消耗时间;
		Else;
			大字体信息(事件玩家, 自定义字符串("{0} 我起了！ {0}时间到了！", 图标字符串(警告)));
			等待(0.100, 无视条件);
			While(具有状态(被攻击方, 沉睡));
				清除状态(被攻击方, 沉睡);
				等待(0.100, 无视条件);
			End;
	}
}

规则("ana's sleep limit refreshes when she spawns")
{
	事件
	{
		持续 - 每名玩家;
		队伍1;
		安娜;
	}

	条件
	{
		存活(事件玩家) == 真;
	}

	动作
	{
		等待(服务器负载平均值 / 100, 无视条件);
		事件玩家.anaSleepLimit = 映射的数组(全局.bastionPosition, -30);
	}
}

规则("zenyatta's melee knocks him back")
{
	事件
	{
		持续 - 每名玩家;
		队伍1;
		禅雅塔;
	}

	条件
	{
		正在近战攻击(事件玩家) == 真;
	}

	动作
	{
		等待直到 (相距距离(眼睛位置(事件玩家), 射线命中位置(眼睛位置(事件玩家), 眼睛位置(事件玩家) + 面朝方向(事件玩家) * 3, 空, 空, 假)) <= 2, 0.200);
		If(相距距离(眼睛位置(事件玩家), 射线命中位置(眼睛位置(事件玩家), 眼睛位置(事件玩家) + 面朝方向(事件玩家) * 3, 空, 空, 假)) <= 2);
			施加推力(事件玩家, 面朝方向(事件玩家) * 矢量(-1, -0.750, -1) + 上 * 0.200, 12 * (Y方向分量(面朝方向(事件玩家)) > -0.750 ? 1 : 2 * (1.250 + Y方向分量(面朝方向(事件玩家)))),
				至地图, 取消相反运动);
	}
}

规则("zenyatta's jump can levitate if held")
{
	事件
	{
		持续 - 每名玩家;
		队伍1;
		全部;
	}

	条件
	{
		所用英雄(事件玩家) == 英雄(禅雅塔);
		正在跳跃(事件玩家) == 真;
		按钮被按下(事件玩家, 按钮(跳跃)) == 真;
	}

	动作
	{
		"don't activate the rule if the player is just jumping normally and not holding jump"
		等待(0.120, 当为“假”时中止);
		设置引力(事件玩家, 0);
		开始加速(事件玩家, Y方向分量(速率(事件玩家)) < 2 ? 上 : 下, Y方向分量(速率(事件玩家)) < 2.050 ? 5 : (Y方向分量(速率(事件玩家)) > 1.950 ? 17.500 : 0), 100, 至地图,
			方向，速率，及最大速度);
		等待直到 (!按钮被按下(事件玩家, 按钮(跳跃)), 1.500);
		设置引力(事件玩家, 100);
		停止加速(事件玩家);
		"ability is only available again once you touch the ground"
		等待直到 (在地面上(事件玩家), 10);
	}
}

规则("Lifeweaver disable Life Grip if no winners")
{
	事件
	{
		持续 - 每名玩家;
		队伍1;
		全部;
	}

	条件
	{
		所用英雄(事件玩家) == 英雄(生命之梭);
		事件玩家.isWinner != 真;
	}

	动作
	{
		禁用按钮(事件玩家, 按钮(技能2));
		设置启用技能 2(事件玩家, 假);
		等待直到 (事件玩家.isWinner == 真 || 所用英雄(事件玩家) != 英雄(生命之梭), 999999986991104.000);
		可用按钮(事件玩家, 按钮(技能2));
		设置启用技能 2(事件玩家, 真);
	}
}

规则("Hashtag")
{
	事件
	{
		持续 - 每名玩家;
		双方;
		弗蕾娅;
	}

	条件
	{
		具有状态(事件玩家, 相移) != 真;
		正在使用技能 2(事件玩家) == 真;
		全局.hashTag == 真;
	}

	动作
	{
		等待直到 (!正在使用技能 2(事件玩家), 0.160);
		全局.hashTag = 单次赋值(技能冷却时间(事件玩家, 按钮(技能2)) < 3 ? 假 : 真);
		等待(60, 无视条件);
	}
}

规则("Sym disable Ability 1 if no winners")
{
	事件
	{
		持续 - 每名玩家;
		队伍1;
		全部;
	}

	条件
	{
		所用英雄(事件玩家) == 英雄(秩序之光);
		事件玩家.isWinner != 真;
	}

	动作
	{
		禁用按钮(事件玩家, 按钮(技能1));
		设置启用技能 1(事件玩家, 假);
		等待直到 (事件玩家.isWinner == 真 || 所用英雄(事件玩家) != 英雄(秩序之光), 999999986991104.000);
		可用按钮(事件玩家, 按钮(技能1));
		设置启用技能 1(事件玩家, 真);
	}
}

规则("Trob disable Ability 1 if no winners")
{
	事件
	{
		持续 - 每名玩家;
		队伍1;
		全部;
	}

	条件
	{
		所用英雄(事件玩家) == 英雄(托比昂);
		事件玩家.isWinner != 真;
	}

	动作
	{
		禁用按钮(事件玩家, 按钮(技能1));
		设置启用技能 1(事件玩家, 假);
		等待直到 (事件玩家.isWinner == 真 || 所用英雄(事件玩家) != 英雄(托比昂), 999999986991104.000);
		可用按钮(事件玩家, 按钮(技能1));
		设置启用技能 1(事件玩家, 真);
	}
}

规则("Lifeweaver auto-breaks Petal Platform after time limit")
{
	事件
	{
		持续 - 每名玩家;
		队伍1;
		生命之梭;
	}

	条件
	{
		技能冷却时间(事件玩家, 按钮(技能1)) > 0;
	}

	动作
	{
		等待(3, 当为“假”时中止);
		While(正在使用技能 1(事件玩家));
			禁用 根据条件中止(在重生室中(事件玩家));
			按下按键(事件玩家, 按钮(技能1));
			等待(0.250, 无视条件);
		End;
	}
}

规则("when players in the 2nd or 3rd map, no bastions within their field of vision can save respawn vectors.")
{
	事件
	{
		持续 - 每名玩家;
		队伍1;
		全部;
	}

	条件
	{
		事件玩家.isWinner != 真;
		全局.controlRespawnPosition != 空;
		已重生(事件玩家) == 真;
		首个(范围内玩家(事件玩家, 60, 队伍2, 表面)) == 假;
		正在移动(事件玩家) != 真;
		事件玩家.controlJumpIndex > 0;
		事件玩家.controlPlayerRespawnPosition == 空;
		事件玩家.controlPlayerRespawn == 假;
		按钮被按下(事件玩家, 按钮(装填)) == 真;
	}

	动作
	{
		小字体信息(事件玩家, 自定义字符串("  {0} 正在尝试设置存档点...", 技能图标字符串(英雄(天使), 按钮(技能2))));
		等待(1, 当为“假”时中止);
		事件玩家.controlPlayerRespawn = 真;
		事件玩家.controlPlayerRespawnPosition = 数组(所选位置(事件玩家), 面朝方向(事件玩家), 所用英雄(事件玩家), 事件玩家.controlJumpIndex);
		播放效果(所有玩家(所有队伍), “黑影”位移传动材料效果, 颜色(白色), 事件玩家, 200);
		小字体信息(事件玩家, 自定义字符串("  {0} 存档点已设置，阵亡后将自动复活", 技能图标字符串(英雄(天使), 按钮(技能2))));
	}
}

规则("when player died and controlPlayerRespawn set, respawn to controlPlayerRespawnPosition")
{
	事件
	{
		玩家阵亡;
		队伍1;
		全部;
	}

	条件
	{
		事件玩家.isWinner != 真;
		全局.controlRespawnPosition != 空;
		事件玩家.controlPlayerRespawn == 真;
		事件玩家.controlPlayerRespawnPosition != 空;
		事件玩家.controlJumpIndex > 0;
		所用英雄(事件玩家) == 事件玩家.controlPlayerRespawnPosition[2];
	}

	动作
	{
		大字体信息(事件玩家, 自定义字符串("正在复活至存档点"));
		关闭游戏预设复生模式(事件玩家);
		等待(3, 无视条件);
		开启游戏预设复生模式(事件玩家);
		复活(事件玩家);
		传送(事件玩家, 首个(事件玩家.controlPlayerRespawnPosition));
		设置朝向(事件玩家, 事件玩家.controlPlayerRespawnPosition[1], 至地图);
		// 等待(0.032, 无视条件);
		// 播放效果(所有玩家(所有队伍), “黑影”位移传动重现效果, 颜色(白色), 事件玩家, 200);
		// 播放效果(所有玩家(所有队伍), “秩序之光”传送面板重现效果, 颜色(白色), 事件玩家, 200);
		// 播放效果(所有玩家(所有队伍), 查莉娅粒子炮爆炸效果, 颜色(白色), 事件玩家, 200);
		事件玩家.controlPlayerRespawn = 假;
		"0.5秒后回退跳跃索引，防止玩家图2复活后无法传送到下一个存档点"
		等待(0.500, 无视条件);
		If(事件玩家.controlJumpIndex > 事件玩家.controlPlayerRespawnPosition[3]);
			事件玩家.controlJumpIndex = 事件玩家.controlPlayerRespawnPosition[3];
		End;
		小字体信息(事件玩家, 自定义字符串("  {0} 存档点已消耗", 技能图标字符串(英雄(天使), 按钮(技能2))));
		小字体信息(事件玩家, 自定义字符串("  {0} 在切换至下一个英雄前，存档点不可用", 技能图标字符串(英雄(天使), 按钮(技能2))));
	}
}

规则("when player died and controlPlayerRespawn not set, respawn to first respawn point")
{
	事件
	{
		玩家阵亡;
		队伍1;
		全部;
	}

	条件
	{
		全局.controlRespawnPosition != 空;
		事件玩家.controlPlayerRespawn != 真;
	}

	动作
	{
		// If(对任意为“真”(选择英雄的玩家(英雄(天使), 队伍1), 相距距离(所选位置(事件玩家), 所选位置(当前数组元素)) > 40 && 存活(当前数组元素) && 技能冷却时间(当前数组元素, 按钮(技能2)) > 0));
		// 根据条件跳过(对任意为“真”(选择英雄的玩家(英雄(天使), 队伍1), 相距距离(所选位置(事件玩家), 所选位置(当前数组元素)) < 12 && 存活(当前数组元素) && 技能冷却时间(当前数组元素, 按钮(技能2)) < 8 && 事件玩家.mercyResurrect), 7);
		等待(0.5, 无视条件);
		根据条件跳过(数量(已过滤的数组(
            选择英雄的玩家(英雄(天使), 队伍1),
            存活(当前数组元素) && 
            相距距离(所选位置(事件玩家), 所选位置(当前数组元素)) < 15 && 
            技能冷却时间(当前数组元素, 按钮(技能2)) < 5 && 
            玩家变量(当前数组元素, mercyResurrect) == 真
        )) > 0, 6);
		事件玩家.controlJumpIndex = 0;
		// END;
		等待(0.016, 无视条件);
		等待直到(已重生(事件玩家), 7);
		IF(在重生室中(事件玩家));
			传送(事件玩家, 首个(全局.controlRespawnPosition));
			设置朝向(事件玩家, 方向(眼睛位置(事件玩家), 所选位置(首个(全局.controlRespawnPosition))), 至地图);
			// 事件玩家.controlJumpIndex = 0;

	}
}

规则("Mercy disable Resurrect when control")
{
	事件
	{
		持续 - 每名玩家;
		队伍1;
		全部;
	}

	条件
	{
		全局.controlRespawnPosition != 空;
		所用英雄(事件玩家) == 英雄(天使);
		// 数量(已过滤的数组(已过滤的数组(所有死亡玩家(队伍1), (当前数组元素.controlPlayerRespawnPosition == 空 && 当前数组元素.controlPlayerRespawn == 假) || (当前数组元素.controlPlayerRespawn == 假 && 当前数组元素.controlRespawnPosition != 空数组)), 相距距离(所选位置(事件玩家), 所选位置(当前数组元素)) < 40))
		事件玩家.mercyResurrect == 假;
	}

	动作
	{
		禁用按钮(事件玩家, 按钮(技能2));
		设置启用技能 2(事件玩家, 假);
		等待直到 (所用英雄(事件玩家) != 英雄(天使) || 事件玩家.mercyResurrect, 999999986991104.000);
		可用按钮(事件玩家, 按钮(技能2));
		设置启用技能 2(事件玩家, 真);
		等待(0.035, 无视条件);
		如条件为“真”则循环;
	}
}

规则("Mercy disable Resurrect when control")
{
	事件
	{
		持续 - 每名玩家;
		队伍1;
		全部;
	}

	条件
	{
		全局.controlRespawnPosition != 空;
		所用英雄(事件玩家) == 英雄(天使);
		数量(
			已过滤的数组(
				已过滤的数组(所有死亡玩家(队伍1), (当前数组元素.controlPlayerRespawn == 假 && 当前数组元素.controlPlayerRespawnPosition != 空)), 相距距离(所选位置(事件玩家), 所选位置(当前数组元素)) < 15)) > 0;
		事件玩家.mercyResurrect == 假;
	}

	动作
	{
		事件玩家.mercyResurrect = 真;
		等待直到(数量(已过滤的数组(
				已过滤的数组(所有死亡玩家(队伍1), (当前数组元素.controlPlayerRespawn == 假 && 当前数组元素.controlPlayerRespawnPosition != 空)), 相距距离(所选位置(事件玩家), 所选位置(当前数组元素)) < 15)) == 0, 8);
		事件玩家.mercyResurrect = 假;
	}
}

规则("when players reaches the end and not respawn at first respawn point, they move to the first respawn point.")
{
	事件
	{
		持续 - 每名玩家;
		队伍1;
		全部;
	}

	条件
	{
		全局.controlRespawnPosition != 空;
		已重生(事件玩家) == 真;
		在重生室中(事件玩家) == 真;
		// 相距距离(矢量(0, 全局.controlRespawnAxis == 0 ? X方向分量(所选位置(事件玩家)) : Y方向分量(所选位置(事件玩家)), 全局.controlRespawnAxis == 2 ? Z方向分量(所选位置(事件玩家)) : 0), 矢量(0, 全局.controlRespawnAxis == 0 ? X方向分量(首个(全局.controlRespawnPosition)) : Y方向分量(首个(全局.controlRespawnPosition)), 全局.controlRespawnAxis == 2 ? Z方向分量(首个(全局.controlRespawnPosition)) : 0)) >= 全局.controlRespawnAxisThreshold;
		对任意为“真”(
			数组(
				全局.controlRespawnAxis == 0 && 相距距离(矢量(X方向分量(所选位置(事件玩家)), 0, 0), 矢量(X方向分量(首个(全局.controlRespawnPosition)), 0, 0)) >= 全局.controlRespawnAxisThreshold,
				全局.controlRespawnAxis == 1 && 相距距离(矢量(0, Y方向分量(所选位置(事件玩家)), 0), 矢量(0, Y方向分量(首个(全局.controlRespawnPosition)), 0)) >= 全局.controlRespawnAxisThreshold,
				全局.controlRespawnAxis == 2 && 相距距离(矢量(0, 0, Z方向分量(所选位置(事件玩家))), 矢量(0, 0, Z方向分量(首个(全局.controlRespawnPosition)))) >= 全局.controlRespawnAxisThreshold
			), 当前数组元素) == 真;
		事件玩家.controlJumpIndex == 0;
	}

	动作
	{
		传送(事件玩家, 全局.controlRespawnPosition[事件玩家.controlJumpIndex]);
		设置朝向(事件玩家, 方向(眼睛位置(事件玩家), 所选位置(全局.controlJumpPosition[事件玩家.controlJumpIndex])), 至地图);
		等待(0.032, 无视条件);
	}
}

规则("when a player reaches the control jump point, they move on to the next map")
{
	事件
	{
		持续 - 每名玩家;
		队伍1;
		全部;
	}

	条件
	{
		全局.controlRespawnPosition != 空;
		已重生(事件玩家) == 真;
		在重生室中(事件玩家) != 真;
		正在移动(事件玩家) == 真;
		禁用 Y方向分量(所选位置(事件玩家)) >= Y方向分量(全局.controlJumpPosition[事件玩家.controlJumpIndex]);
		禁用 相距距离(所选位置(事件玩家) * 矢量(1, 0, 1), 全局.controlJumpPosition[事件玩家.controlJumpIndex] * 矢量(1, 0, 1)) <= 4;
	}

	动作
	{
		等待(0.032, 当为“假”时中止);
		等待(0.2, 无视条件);
		IF(对全部为“真”(
			数组(
				Y方向分量(所选位置(事件玩家)) >= Y方向分量(全局.controlJumpPosition[事件玩家.controlJumpIndex]), 
				相距距离(所选位置(事件玩家) * 矢量(1, 0, 1), 全局.controlJumpPosition[事件玩家.controlJumpIndex] * 矢量(1, 0, 1)) <= 4
			), 当前数组元素));
			根据条件跳过(全局.controlJumpPosition[事件玩家.controlJumpIndex] == 空, 9);
			事件玩家.controlJumpIndex += 1;
			等待(0.016, 无视条件);
			传送(事件玩家, 全局.controlRespawnPosition[事件玩家.controlJumpIndex]);
			设置朝向(事件玩家, 方向(眼睛位置(事件玩家), 所选位置(全局.controlJumpPosition[事件玩家.controlJumpIndex])), 至地图);
			等待(2.160, 无视条件);
			根据条件跳过(事件玩家.controlPlayerRespawn == 真 || 事件玩家.controlPlayerRespawnPosition != 空 || 事件玩家.isWinner == 真, 3);
			小字体信息(事件玩家, 自定义字符串("  存档点可设置"));
			等待(0.032, 无视条件);
			小字体信息(事件玩家, 自定义字符串("  请考虑在合适的位置 长按 {0} 设置存档点（每个英雄仅限 1 次）", 按钮(装填)));
		End;
		循环;
		// 事件玩家.controlPlayerRespawn = 假;
		// 事件玩家.controlPlayerRespawnPosition = 空;
	}
}

规则("when a player reaches the end, they move on to the next hero or win if they're bastion")
{
	事件
	{
		持续 - 每名玩家;
		队伍1;
		全部;
	}

	条件
	{
		已重生(事件玩家) == 真;
		Y方向分量(所选位置(事件玩家)) >= Y方向分量(全局.endPosition);
		相距距离(所选位置(事件玩家) * 矢量(1, 0, 1), 全局.endPosition * 矢量(1, 0, 1)) <= 4;
	}

	动作
	{
		复生(事件玩家);
		等待(0.032, 无视条件);
		根据条件跳过(全局.controlRespawnPosition == 空, 2);
		事件玩家.controlJumpIndex = 0;
		传送(事件玩家, 首个(全局.controlRespawnPosition));
		等待(0.032, 无视条件);
		设置朝向(事件玩家, 方向(眼睛位置(事件玩家), 所选位置(首个(全局.controlJumpPosition))), 至地图);
		If(事件玩家.heroNumber + 1 < 数量(全局.heroList) && 所用英雄(事件玩家) == 全局.heroList[事件玩家.heroNumber]);
			调用子程序(progressHero);
		Else If(所用英雄(事件玩家) == 最后(全局.heroList) && !事件玩家.isWinner);
			事件玩家.isWinner = 真;
			事件玩家.winnerTime = 单次赋值(总计消耗时间) - 事件玩家.joinTime;
			// 大字体信息(所有玩家(队伍1), 自定义字符串("恭喜 {0} 以 {1} 耗时 {2} 通关!", 事件玩家, 自定义字符串("{0} 次阵亡 & {1} 次跳过", 事件玩家.runDeathCount, 事件玩家.skipCount), 自定义字符串("{0}{1}{2}", 总计消耗时间 - 事件玩家.joinTime > 3599 ? 自定义字符串("{0}小时{1} ", 取整(取整(总计消耗时间 - 事件玩家.joinTime, 上) / 3600, 下),
			// 总计消耗时间 - 事件玩家.joinTime / 3600 >= 2 ? 自定义字符串("") : 自定义字符串("")) : 自定义字符串(""), 总计消耗时间 - 事件玩家.joinTime > 59 ? 自定义字符串("{0}分{1} ", 取整(取整(总计消耗时间 - 事件玩家.joinTime, 上) % 3600 / 60,
			// 下), 取整(取整(总计消耗时间 - 事件玩家.joinTime, 上) % 3600 / 60, 下) != 1 ? 自定义字符串("") : 自定义字符串("")) : 自定义字符串(""), 自定义字符串("{0}秒{1}", 取整(总计消耗时间 - 事件玩家.joinTime, 上) % 60, 取整(
			// 总计消耗时间 - 事件玩家.joinTime, 上) % 60 != 1 ? 自定义字符串("") : 自定义字符串("")))));
			根据条件跳过(对任意为“真”(数组(事件玩家.dmgReduc, 事件玩家.invincible, 事件玩家.isPortalEnabled, 事件玩家.isAirWalkEnabled), 当前数组元素), 1);
			大字体信息(
				所有玩家(队伍1), 
				自定义字符串("祝贺 {0} 以 {1} 耗时 {2} 通关!", 
					事件玩家, 
					自定义字符串("{0} 次阵亡 & {1} 次跳过", 事件玩家.runDeathCount, 事件玩家.skipCount), 
					自定义字符串("{0}{1}{2}", 
						// 小时部分
						事件玩家.winnerTime != 空 && 事件玩家.winnerTime >= 3600 ? 
							自定义字符串("{0}小时", 取整(事件玩家.winnerTime / 3600, 下)) : 
							自定义字符串(""),
						
						// 分钟部分
						事件玩家.winnerTime != 空 && 事件玩家.winnerTime >= 60 ? 
							自定义字符串("{0}分", 取整((事件玩家.winnerTime % 3600) / 60, 下)) : 
							自定义字符串(""),
						
						// 秒部分
						事件玩家.winnerTime != 空 ? 
							自定义字符串("{0}秒", 取整(事件玩家.winnerTime % 60, 下)) : 
							自定义字符串("0秒")
					)
				)
			);
			小字体信息(事件玩家, 自定义字符串("  {0} 你已通关，可以加入聊天群 发送截图 获取通关称号", 图标字符串(对号)));
			调用子程序(savePlayerData);
	}
}

规则("winners earn their ult once per minute")
{
	事件
	{
		持续 - 每名玩家;
		队伍1;
		全部;
	}

	条件
	{
		事件玩家.isWinner != 假;
		终极技能充能百分比(事件玩家) < 100;
		正在使用终极技能(事件玩家) == 假;
	}

	动作
	{
		设置终极技能充能(事件玩家, 终极技能充能百分比(事件玩家) + 5);
		等待(3, 无视条件);
		如条件为“真”则循环;
	}
}

规则("initialize effects")
{
	事件
	{
		持续 - 全局;
	}

	动作
	{
		全局.hashTag = 真;
		等待(随机实数(1, 2), 无视条件);
		调用子程序(setDifficulty);
		"player HUD"
		禁用 创建HUD文本(所有玩家(所有队伍), 空, 空, 自定义字符串(
			" \n\n                                                                                                                        "),
			左边, 0, 空, 空, 空, 可见和字符串, 始终可见);
		创建HUD文本(本地玩家.heroNumber + 1 < 数量(全局.heroList) && 所用英雄(本地玩家) == 全局.heroList[本地玩家.heroNumber] ? 本地玩家 : 空, 自定义字符串("{0}: {1}", 自定义字符串(
			"阵亡"), 自定义字符串("{0} / {1}", 本地玩家.progressionDeathCount, 全局.difficulty != 5 ? 全局.maxDeath : 自定义字符串("∞"))), 自定义字符串(""), 空, 左边, 2, 颜色(白色), 空, 空, 可见和字符串, 默认可见度);
		创建HUD文本(本地玩家, 自定义字符串("{0}: {1}", 自定义字符串("英雄"), 自定义字符串("{0} / {1}", 数组值的索引(全局.heroList, 所用英雄(本地玩家)) + 1, 数量(全局.heroList))),
			自定义字符串(""), 空, 左边, 3, 颜色(白色), 空, 空, 可见和字符串, 默认可见度);
		根据条件跳过(全局.controlJumpPosition == 空, 1);
		创建HUD文本(!本地玩家.isWinner ? 本地玩家 : 空, 空, 自定义字符串("存档点（{1}）: {0}", 本地玩家.controlPlayerRespawnPosition == 空 && 本地玩家.controlPlayerRespawn == 假 && 本地玩家.controlJumpIndex != 0 ? 自定义字符串("可用") : 自定义字符串("不可用"), 按钮(装填)), 空, 左边, 3, 空, 本地玩家.controlPlayerRespawnPosition == 空 && 本地玩家.controlPlayerRespawn == 假 && 本地玩家.controlJumpIndex != 0 ? 颜色(绿色) : 颜色(红色), 空, 可见，字符串和颜色, 默认可见度);
		创建HUD文本(本地玩家.isWinner || 所用英雄(本地玩家) != 全局.heroList[本地玩家.heroNumber] ? 空数组 : 本地玩家, 本地玩家.heroNumber + 1 < 数量(全局.heroList) ? 英雄图标字符串(
			全局.heroList[本地玩家.heroNumber + 1]) : 图标字符串(旗帜), 自定义字符串("下一个英雄"), 本地玩家.heroNumber + 1 < 数量(全局.heroList)
			? 全局.heroList[本地玩家.heroNumber + 1] : 自定义字符串("逃脱成功"), 左边, 4, 自定义颜色(36, 205, 244, 255), 颜色(白色), 颜色(白色), 可见和字符串, 默认可见度);
		创建HUD文本(本地玩家.isWinner || 所用英雄(本地玩家) == 全局.heroList[本地玩家.heroNumber] ? 空数组 : 本地玩家, 图标字符串(拒绝), 自定义字符串("下一个英雄"), 自定义字符串(
			"{0} 已解锁！", 英雄图标字符串(全局.heroList[本地玩家.heroNumber])), 左边, 4, 自定义颜色(235, 45, 79, 255), 自定义颜色(235, 45, 79, 255), 自定义颜色(235,
			45, 79, 255), 可见和字符串, 默认可见度);
		创建HUD文本(本地玩家.isWinner ? 本地玩家 : 空, 图标字符串(对号), 自定义字符串("下一个英雄"), 自定义字符串("挑战完成"), 左边, 4, 颜色(绿色), 颜色(绿色), 颜色(绿色), 可见和字符串, 默认可见度);
		创建HUD文本(本地玩家 == 全局.A36TGrenadeFB ? 本地玩家 : 空,技能图标字符串(英雄(堡垒), 按钮(辅助攻击模式)), 自定义字符串("你已获得"), 自定义字符串("第一颗蛋"), 左边, 4, 颜色(红色), 颜色(红色), 颜色(红色), 可见和字符串, 默认可见度);
		创建HUD文本(本地玩家, 空, 自定义字符串("本轮共计 {0} 次阵亡", 本地玩家.runDeathCount), 空, 左边, 5, 空, 自定义颜色(160,169,186,255), 空, 可见和字符串, 始终不可见);
		创建HUD文本(本地玩家, 空, 自定义字符串("本轮共计 {0} 次跳过", 本地玩家.skipCount), 空, 左边, 5, 空, 自定义颜色(160,169,186,255), 空, 可见和字符串, 始终不可见);
		根据条件跳过(全局.difficulty != 5, 3);
		创建HUD文本(本地玩家, 空, 自定义字符串("榴弹共计 {0} 点伤害", 取整(本地玩家.A36TGrenadeDmg, 上)), 空, 左边, 5, 空, 自定义颜色(160,169,186,255), 空, 可见和字符串, 始终不可见);
		创建HUD文本(本地玩家, 空, 自定义字符串("榴弹共计 {0}/{1} 命中/锁定", 本地玩家.A36TGrenadeHit, 本地玩家.A36TGrenade), 空, 左边, 5, 空, 自定义颜色(160,169,186,255), 空, 可见和字符串, 始终不可见);
		创建HUD文本(本地玩家.A36TGrenadeAlive == 真 ? 本地玩家 : 空, 空, 自定义字符串("大难不死 {0} ", 本地玩家.A36TGrenadeAlive == 真 ? 图标字符串(对号) : 空), 空, 左边, 5, 空, 自定义颜色(160,169,186,255), 空, 可见和字符串, 始终不可见);
		创建HUD文本(全局.hashTag ? 空 : 本地玩家, 空, 自定义字符串("{0} ", 随机实数(1001, 9999999.000) * 3.140), 空, 左边, 5, 空, 自定义颜色(160, 169, 186, 255), 空,
		可见和字符串, 始终不可见);
		创建HUD文本(
			本地玩家.isWinner ? 本地玩家 : 空, 
			空, 
			自定义字符串("通关总计耗时 {0}", 
				自定义字符串("{0}{1}{2}", 
					// 小时部分
					本地玩家.winnerTime != 空 && 本地玩家.winnerTime >= 3600 ? 
						自定义字符串("{0} 小时", 取整(本地玩家.winnerTime / 3600, 下)) : 
						自定义字符串(""),
					
					// 分钟部分
					本地玩家.winnerTime != 空 && 本地玩家.winnerTime >= 60 ? 
						自定义字符串("{0} 分", 取整((本地玩家.winnerTime % 3600) / 60, 下)) : 
						自定义字符串(""),
					
					// 秒部分
					本地玩家.winnerTime != 空 ? 
						自定义字符串("{0} 秒", 取整(本地玩家.winnerTime % 60, 下)) : 
						自定义字符串("0 秒")
				)
			), 
			空, 
			左边, 
			51, 
			空, 
			自定义颜色(160,169,186,255), 
			空, 
			可见和字符串, 
			始终不可见
		);
		创建HUD文本(本地玩家.progressionDeathCount == 全局.maxDeath ? 本地玩家 : 空, 空, 自定义字符串("[秘籍] 使用终极技能跳过({0}) ", 输入绑定字符串(按钮(终极技能))), 空, 左边, 6,
			空, 颜色(蓝色), 空, 可见和字符串, 默认可见度);
		"goal effects"
		等待(0.500, 无视条件);
		创建效果(所有玩家(队伍1), 环, 颜色(队伍1), 全局.endPosition, 4, 可见，位置和半径);
		创建效果(所有玩家(队伍1), 光柱, 颜色(队伍1), 全局.endPosition, 4, 可见，位置和半径);
		创建图标(全局.controlJumpPosition == 空 ? 所有玩家(队伍1) : 已过滤的数组(所有玩家(队伍1), 当前数组元素.controlJumpIndex == 单次赋值(数量(全局.controlRespawnPosition)) - 1), 全局.endPosition + 矢量(0, 5, 0), 旗帜, 可见和位置, 颜色(蓝色), 真);
		IF(全局.controlJumpPosition != 空);
			创建效果(所有玩家(队伍1), 环, 颜色(黄色), 首个(全局.controlJumpPosition), 4, 可见，位置和半径);
			创建效果(所有玩家(队伍1), 光柱, 颜色(黄色), 首个(全局.controlJumpPosition), 4, 可见，位置和半径);
			// 创建图标(所有玩家(所有队伍), 首个(全局.controlJumpPosition) + 矢量(0, 5, 0), 旗帜, 可见和位置, 颜色(蓝色), 真);
			创建图标(已过滤的数组(所有玩家(队伍1), 当前数组元素.controlJumpIndex == 0), 首个(全局.controlJumpPosition) + 矢量(0, 5, 0), 旗帜, 可见和位置, 颜色(黄色), 真);
			根据条件跳过(全局.controlJumpPosition[1] == 空, 3);
			创建效果(所有玩家(队伍1), 环, 颜色(绿色), 全局.controlJumpPosition[1], 4, 可见，位置和半径);
			创建效果(所有玩家(队伍1), 光柱, 颜色(绿色), 全局.controlJumpPosition[1], 4, 可见，位置和半径);
			创建图标(已过滤的数组(所有玩家(队伍1), 当前数组元素.controlJumpIndex == 1), 全局.controlJumpPosition[1] + 矢量(0, 5, 0), 旗帜, 可见和位置, 颜色(绿色), 真);
		END;
		"mode info"
		等待(0.500, 无视条件);
		IF(全局.controlJumpPosition != 空);
			创建HUD文本(所有玩家(所有队伍), 空, 空, 全局.difficulty != 5 ? 自定义字符串("欢迎来到三合一大地图！你需要依次挑战所有小地图并到达终点！阵亡 {0} 次之后可跳过英雄", 全局.maxDeath) : 自定义字符串("欢迎来到三合一大地图！你需要依次挑战所有小地图并到达终点！当前难度无法跳过英雄，加油吧！"), 顶部, 0, 空, 空, 自定义颜色(255, 255, 255,
				125), 可见和字符串, 默认可见度);
		ELSE;
			创建HUD文本(所有玩家(所有队伍), 空, 空, 全局.difficulty != 5 ? 自定义字符串("使用全部英雄通关，一旦你解锁了一个英雄就可以在后续的游戏中随时使用！当阵亡 {0} 次之后可跳过英雄", 全局.maxDeath) : 自定义字符串("使用全部英雄通关！当前难度无法跳过英雄，加油吧！"), 顶部, 0, 空, 空, 自定义颜色(255, 255, 255,
				125), 可见和字符串, 默认可见度);
		END;
		创建HUD文本(所有玩家(所有队伍), 空, 自定义字符串("{0}代码：SVMQK | 加群拿称号：445152554 | Kook.vip/44qoov \n", 全局.controlJumpPosition == 空 ? 自定义字符串("") : 自定义字符串("存档点每个英雄只能使用 1 次，请把握存档时机\n")), 空, 顶部, 1, 空, 自定义颜色(255, 255, 255, 125), 空, 可见和字符串, 默认可见度);
		创建HUD文本(所有玩家(所有队伍), 空, 空, 自定义字符串("难度：{0}", 首个(全局.difficultyText)), 右边, -5, 空, 空, 全局.difficultyText[1], 可见，字符串和颜色, 默认可见度);
		End;
		创建HUD文本(
			所有玩家(所有队伍), 
			空, 
			自定义字符串("距自动重开 {0}", 
				自定义字符串("{0}{1}{2}", 
					(全局.rebootTime - 总计消耗时间) > 3599 ? 
						自定义字符串("{0} 小时 ", 取整((全局.rebootTime - 总计消耗时间) / 3600, 下)) : 
						自定义字符串(""),
					(全局.rebootTime - 总计消耗时间) > 59 ? 
						自定义字符串("{0} 分 ", 取整(((全局.rebootTime - 总计消耗时间) % 3600) / 60, 下)) : 
						自定义字符串(""),
					自定义字符串("{0} 秒", 取整((全局.rebootTime - 总计消耗时间) % 60, 下))
				)
			), 
			空, 
			右边, 
			-4, 
			空, 
			// 颜色条件判断：剩余时间小于10分钟(600秒)显示黄色，否则灰色
			(全局.rebootTime - 总计消耗时间) <= 600 ? 颜色(黄色) : 颜色(灰色), 
			空, 
			可见，字符串和颜色, 
			默认可见度
		);
		创建HUD文本(
			全局.devPlayer, 
			空, 
			自定义字符串("已运行 {0}", 
				自定义字符串("{0}{1}{2}", 
					// 小时部分
					总计消耗时间 >= 3600 ? 
						自定义字符串("{0} 小时 ", 取整(总计消耗时间 / 3600, 下)) : 
						自定义字符串(""),
					
					// 分钟部分
					总计消耗时间 >= 60 ? 
						自定义字符串("{0} 分 ", 取整((总计消耗时间 % 3600) / 60, 下)) : 
						自定义字符串(""),
					
					// 秒部分
					自定义字符串("{0} 秒", 取整(总计消耗时间 % 60, 下))
				)
			), 
			空, 
			右边, 
			-4, 
			空, 
			颜色(灰色), 
			空, 
			可见和字符串, 
			默认可见度
		);
		创建HUD文本(全局.devPlayer, 空, 自定义字符串("  服务器负载 {0}", 服务器负载平均值), 空, 右边, -2, 空, 颜色(灰色), 空, 可见和字符串,
			始终不可见);
		创建HUD文本(所有玩家(所有队伍), 空, 自定义字符串("版本 25.0923.1"), 空, 右边, -3, 空, 颜色(灰色), 空, 可见和字符串, 始终不可见);
		创建效果(所有玩家(所有队伍), 有害光环, 颜色(水绿色), 全局.creditsPosition, 随机实数(1, 2), 可见);
		创建效果(所有玩家(所有队伍), 有害光环, 颜色(天蓝色), 全局.creditsPosition, 随机实数(1, 2), 可见);
		创建效果(所有玩家(所有队伍), 有害光环, 颜色(白色), 全局.creditsPosition, 随机实数(1, 2), 可见);
		"3rd person camera"
		等待(0.500, 无视条件);
		创建效果(本地玩家, 环, 颜色(亮紫色), 全局.heroRingPosition, 1.200, 可见);
		创建地图文本(本地玩家, 自定义字符串("      按{0}切换第三人称视角\n                    {1}", 输入绑定字符串(按钮(跳跃)), 图标字符串(箭头：向下)),
			全局.heroRingPosition + 上 * 1.300, 1.200, 根据表面截取, 可见，位置和字符串, 颜色(白色), 默认可见度);
		"reset progress ring"
		等待(0.500, 无视条件);
		创建效果(本地玩家.heroNumber > 0 || 本地玩家.runDeathCount > 0 ? 本地玩家 : 空, 环, 颜色(红色), 全局.resetPosition, 1.200, 可见);
		创建地图文本(本地玩家.heroNumber > 0 || 本地玩家.runDeathCount > 0 ? 本地玩家 : 空, 自定义字符串("重置进度\n                {0}", 图标字符串(箭头：向下)),
			全局.resetPosition + 上 * 1.300, 1.200, 根据表面截取, 可见，位置和字符串, 颜色(白色), 默认可见度);
		IF(全局.springBoardPosition != 空);
			创建效果(本地玩家, 环, 颜色(绿色), 全局.springBoardPosition, 1.200, 可见);
			创建地图文本(本地玩家, 自定义字符串("      按{0}向上弹射\n                    {1}", 输入绑定字符串(按钮(跳跃)), 图标字符串(箭头：向下)),
			全局.springBoardPosition + 上 * 1.300, 1.200, 根据表面截取, 可见，位置和字符串, 颜色(白色), 默认可见度);
		END;
		// "3rd person camera"
		// 等待(0.500, 无视条件);
		// 创建效果(本地玩家.heroNumber > 0 || 本地玩家.runDeathCount > 0 ? 本地玩家 : 空, 环, 颜色(红色), 全局.thirdPersonPosition, 1.200, 可见);
		// 创建地图文本(本地玩家.heroNumber > 0 || 本地玩家.runDeathCount > 0 ? 本地玩家 : 空, 自定义字符串("按{0}第三人称视角\n                {1}", 图标字符串(箭头：向下)),
		// 	全局.thirdPersonPosition + 上 * 1.300, 1.200, 根据表面截取, 可见，位置和字符串, 颜色(白色), 默认可见度);
	}
}

规则("bastion counts kills and marks himself after killing you")
{
	事件
	{
		玩家造成最后一击;
		队伍2;
		全部;
	}

	动作
	{
		全局.kills[栏位(事件玩家)] += 1;
		开始为机器人强制设置名称(事件玩家, 自定义字符串("看守{0} 击杀{1}", 栏位(事件玩家) + 1, 全局.kills[栏位(事件玩家)]));
		停止强制设置玩家轮廓(被攻击方.attacker, 被攻击方);
		等待(0.032, 无视条件);
		被攻击方.attacker = 攻击方;
		开始强制设置玩家轮廓(被攻击方.attacker, 被攻击方, 真, 颜色(红色), 总是);
	}
}

规则("create baby d.va goal header")
{
	事件
	{
		持续 - 全局;
	}

	条件
	{
		正在使用英雄(英雄(D.Va), 队伍1) == 真;
	}

	动作
	{
		等待(2, 当为“假”时中止);
		创建HUD文本(所用英雄(本地玩家) == 英雄(D.Va) && 处于非初始状态(本地玩家) && 存活(本地玩家) && 本地玩家.dvaStart != 0 ? 本地玩家 : 空, 自定义字符串("目标距离:{0} m", 较大(0,
			30 - 相距距离(所选位置(本地玩家) * 矢量(1, 0, 1), 本地玩家.dvaStart * 矢量(1, 0, 1)))), 空, 空, 顶部, 5, 颜色(白色), 空, 空, 可见和字符串, 默认可见度);
		全局.textIDs[1] = 上一个文本ID;
		等待直到 (!正在使用英雄(英雄(D.Va), 队伍1), 9999);
		消除HUD文本(全局.textIDs[1]);
	}
}

// 禁用 规则("create progress bar for sombra's stealth resource meter")
// {
// 	事件
// 	{
// 		持续 - 全局;
// 	}

// 	条件
// 	{
// 		正在使用英雄(英雄(黑影), 队伍1) == 真;
// 	}

// 	动作
// 	{
// 		创建HUD文本(本地玩家.invis < 100 && 所用英雄(本地玩家) == 英雄(黑影) ? 本地玩家 : 空, 空, 空, 自定义字符串(" \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"), 顶部, 5, 空,
// 			空, 空, 可见, 默认可见度);
// 		全局.textIDs[0] = 上一个文本ID;
// 		创建进度条HUD文本(本地玩家.invis < 100 && 所用英雄(本地玩家) == 英雄(黑影) ? 本地玩家 : 空, 本地玩家.invis, 自定义字符串("{0}隐形剩余", 技能图标字符串(英雄(黑影), 按钮(技能1))), 顶部, 6,
// 			自定义颜色(118, 93, 189, 255), 颜色(白色), 可见，值和颜色, 默认可见度);
// 		在索引处修改全局变量(textIDs, 0, 添加至数组, 上一个文本ID);
// 		等待直到 (!正在使用英雄(英雄(黑影), 队伍1), 9999);
// 		消除HUD文本(首个(首个(全局.textIDs)));
// 		消除进度条HUD文本(首个(全局.textIDs)[1]);
// 	}
// }

规则("create ana sleep timer and instructions")
{
	事件
	{
		持续 - 全局;
	}

	条件
	{
		正在使用英雄(英雄(安娜), 队伍1) == 真;
	}

	动作
	{
		创建HUD文本(所用英雄(本地玩家) == 英雄(安娜) && 在重生室中(本地玩家) ? 本地玩家 : 空, 自定义字符串(
			"{0} 麻醉镖限制: \n 每个堡垒每 {1} 秒只能被麻醉一次", 技能图标字符串(英雄(安娜), 按钮(技能1)), 30), 空, 空, 顶部, 5,
			颜色(白色), 空, 空, 可见, 默认可见度);
		等待(0.016, 无视条件);
		全局.textIDs[4] = 上一个文本ID;
		全局.textIDs[3] = 映射的数组(全局.bastionPosition, 0);
		For 全局变量(I, 0, 数量(全局.bastionPosition), 1);
			创建进度条地图文本(所用英雄(本地玩家) == 英雄(安娜) && 总计消耗时间 - 本地玩家.anaSleepLimit[单次赋值(全局.I)] < 30 && 相距距离(相距距离(眼睛位置(本地玩家), 全局.bastionPosition[单次赋值(
				全局.I)]) * 面朝方向(本地玩家) + 眼睛位置(本地玩家), 全局.bastionPosition[单次赋值(全局.I)]) <= 4 ? 本地玩家 : 空, (30 - (总计消耗时间 - 本地玩家.anaSleepLimit[单次赋值(
				全局.I)])) / 30 * 100, 自定义字符串("麻醉限制: 剩余 {0} 秒 ", 较小(30, 30 - 取整(总计消耗时间 - 本地玩家.anaSleepLimit[单次赋值(全局.I)], 下))),
				全局.bastionPosition[单次赋值(全局.I)], 1, 不要截取, 颜色(蓝色), 颜色(白色), 可见和值, 默认可见度);
			全局.textIDs[3] = 映射的数组(全局.textIDs[3], 当前数组索引 == 全局.I ? 上一个文本ID : 当前数组元素);
		End;
		等待直到 (!正在使用英雄(英雄(安娜), 队伍1), 9999);
		For 全局变量(I, 0, 数量(全局.textIDs[3]), 1);
			消除进度条地图文本(全局.textIDs[3][全局.I]);
		End;
		消除HUD文本(全局.textIDs[4]);
	}
}

禁用 规则("create zen instructions")
{
	事件
	{
		持续 - 全局;
	}

	条件
	{
		正在使用英雄(英雄(禅雅塔), 队伍1) == 真;
	}

	动作
	{
		创建HUD文本(所用英雄(本地玩家) == 英雄(禅雅塔) && 在重生室中(本地玩家) ? 本地玩家 : 空, 自定义字符串(
			"踹击地面可以向后击退 {0}\n按住跳跃可以悬浮 {1}", 技能图标字符串(英雄(禅雅塔), 按钮(近身攻击)), 图标字符串(箭头：向上)), 空, 空, 顶部,
			5, 颜色(白色), 空, 空, 可见, 默认可见度);
		全局.textIDs[2] = 上一个文本ID;
		等待直到 (!正在使用英雄(英雄(禅雅塔), 队伍1), 9999);
		消除HUD文本(全局.textIDs[2]);
	}
}

规则("[JunkerQueen]: Fix Commanding Shout cd")
{
	事件
	{
		持续 - 每名玩家;
		双方;
		渣客女王;
	}

	条件
	{
		正在使用技能 1(事件玩家) == 真;
	}

	动作
	{
		等待直到(!正在使用技能 1(事件玩家), 12.16);
		设置技能冷却(事件玩家, 按钮(技能1), 4);
	}
}

规则("update scoreboard every few seconds")
{
	事件
	{
		持续 - 全局;
	}

	条件
	{
		首个(所有玩家(队伍1)) != 假;
	}

	动作
	{
		全局.scoreboardArray = 已排序的数组(已过滤的数组(所有玩家(队伍1), !当前数组元素.isWinner), 0 - 当前数组元素.heroNumber);
		全局.firstPlace = 首个(全局.scoreboardArray);
		全局.secondPlace = 全局.scoreboardArray[1];
		全局.thirdPlace = 全局.scoreboardArray[2];
		等待(服务器负载平均值 / 50, 无视条件);
		如条件为“真”则循环;
	}
}

禁用 规则("outline devs who made or edited this mode, using random colors")
{
	事件
	{
		持续 - 每名玩家;
		队伍1;
		全部;
	}

	条件
	{
		事件玩家.isDev == 真;
		事件玩家.rainbowOff == 假;
	}

	动作
	{
		开始强制设置玩家轮廓(事件玩家, 所有玩家(所有队伍), 真, 自定义颜色(随机实数(0, 255), 随机实数(0, 255), 随机实数(0, 255), 255), 总是);
		等待(0.128, 无视条件);
		如条件为“真”则循环;
	}
}

禁用 规则("devs can toggle rainbow effect")
{
	事件
	{
		持续 - 每名玩家;
		队伍1;
		全部;
	}

	条件
	{
		事件玩家.isDev == 真;
		按钮被按下(事件玩家, 按钮(终极技能)) == 真;
		按钮被按下(事件玩家, 按钮(互动)) == 真;
	}

	动作
	{
		事件玩家.rainbowOff = 事件玩家.rainbowOff ? 假 : 真;
		停止强制设置玩家轮廓(事件玩家, 所有玩家(所有队伍));
		小字体信息(事件玩家, 自定义字符串("DEV 特效{0}", 事件玩家.rainbowOff ? 自定义字符串("关闭") : 自定义字符串("开启")));
	}
}

规则("outline winners in green periodically")
{
	事件
	{
		持续 - 每名玩家;
		队伍1;
		全部;
	}

	条件
	{
		事件玩家.isWinner != 假;
		存活(事件玩家) == 真;
	}

	动作
	{
		等待(服务器负载平均值 / 100, 无视条件);
		开始强制设置玩家轮廓(事件玩家, 所有玩家(队伍1), 真, 颜色(绿色), 总是);
		等待(30, 当为“真”时重新开始);
		如条件为“真”则循环;
	}
}

规则("outline winners for new players as soon as they join")
{
	事件
	{
		玩家加入比赛;
		队伍1;
		全部;
	}

	条件
	{
		对任意为“真”(所有玩家(队伍1), 当前数组元素.isWinner) == 真;
	}

	动作
	{
		等待(服务器负载平均值 / 100, 无视条件);
		开始强制设置玩家轮廓(已过滤的数组(所有玩家(队伍1), 当前数组元素.isWinner), 事件玩家, 真, 颜色(绿色), 总是);
	}
}

规则("stop outline for non-winners")
{
	事件
	{
		持续 - 每名玩家;
		队伍1;
		全部;
	}

	条件
	{
		事件玩家.isWinner == 假;
	}

	动作
	{
		等待(服务器负载平均值 / 100, 无视条件);
		停止强制设置玩家轮廓(事件玩家, 所有玩家(队伍1));
	}
}

规则("increment death counter (progressionDeathCount) on death")
{
	事件
	{
		玩家阵亡;
		队伍1;
		全部;
	}

	条件
	{
		所用英雄(事件玩家) == 全局.heroList[事件玩家.heroNumber];
		事件玩家.progressionDeathCount < 全局.maxDeath;
		事件玩家.heroNumber + 1 < 数量(全局.heroList);
		攻击方 != 空;
		攻击方 != 事件玩家;
	}

	动作
	{
		事件玩家.progressionDeathCount += 1;
	}
}

规则("display death progress as ult charge")
{
	事件
	{
		持续 - 每名玩家;
		队伍1;
		全部;
	}

	条件
	{
		全局.difficulty != 5; // 地狱难度不使用此规则
		已重生(事件玩家) == 真;
		事件玩家.progressionDeathCount < 全局.maxDeath;
		(所用英雄(事件玩家) == 英雄(D.Va) && 处于非初始状态(事件玩家)) == 假;
		取整(终极技能充能百分比(事件玩家) / (100 / 全局.maxDeath), 至最近) != 事件玩家.progressionDeathCount;
		事件玩家.isWinner == 假;
	}

	动作
	{
		等待(随机实数(0.100, 0.500) * 服务器负载平均值 / 100, 当为“假”时中止);
		设置终极技能充能(事件玩家, 100 * 事件玩家.progressionDeathCount / 全局.maxDeath);
		如条件为“真”则循环;
	}
}

规则("display message if hero available")
{
	事件
	{
		持续 - 每名玩家;
		队伍1;
		全部;
	}

	条件
	{
		全局.difficulty != 5; // 地狱难度不使用此规则
		事件玩家.progressionDeathCount == 全局.maxDeath;
		事件玩家.heroNumber + 1 < 数量(全局.heroList);
		(所用英雄(事件玩家) == 英雄(D.Va) && 处于非初始状态(事件玩家)) == 假;
		存活(事件玩家) == 真;
	}

	动作
	{
		等待(服务器负载 / 100, 无视条件);
		If(终极技能充能百分比(事件玩家) == 100);
			设置终极技能充能(事件玩家, 0);
			等待(0.200, 无视条件);
		End;
		大字体信息(事件玩家, 自定义字符串("可跳过当前英雄"));
		事件玩家.I = 0;
		While(终极技能充能百分比(事件玩家) != 100);
			设置终极技能充能(事件玩家, 100);
			等待(0.050, 无视条件);
			事件玩家.I += 1;
			根据条件中止(全局.I == 5);
		End;
	}
}

规则("players can use ultimate to progress to the next hero after dying a number of times (maxDeath)")
{
	事件
	{
		持续 - 每名玩家;
		队伍1;
		全部;
	}

	条件
	{
		事件玩家.progressionDeathCount >= 全局.maxDeath;
		(正在使用终极技能(事件玩家) || 正在人格复制(事件玩家)) == 真;
		事件玩家.heroNumber + 1 < 数量(全局.heroList);
		所用英雄(事件玩家) != 英雄(堡垒);
	}

	动作
	{
		等待(1, 无视条件);
		复生(事件玩家);
		事件玩家.progressionDeathCount = 0;
		事件玩家.skipCount += 1;
		调用子程序(progressHero);
	}
}

禁用 规则("display instructions when a player enters the hero change ring")
{
	事件
	{
		持续 - 每名玩家;
		队伍1;
		全部;
	}

	条件
	{
		事件玩家.heroNumber > 0;
		相距距离(所选位置(事件玩家) * 矢量(1, 0, 1), 全局.heroRingPosition * 矢量(1, 0, 1)) <= 1.200;
		数组包含(范围内玩家(全局.heroRingPosition, 20, 队伍1, 关闭), 事件玩家) == 真;
	}

	动作
	{
		大字体信息(事件玩家, 自定义字符串("   跳跃:下一个英雄 下蹲:上一个英雄"));
	}
}

禁用 规则("pressing jump while in the hero change ring makes you the next available hero")
{
	事件
	{
		持续 - 每名玩家;
		队伍1;
		全部;
	}

	条件
	{
		按钮被按下(事件玩家, 按钮(跳跃)) == 真;
		事件玩家.heroNumber > 0;
		相距距离(事件玩家 * 矢量(1, 0, 1), 全局.heroRingPosition * 矢量(1, 0, 1)) <= 1.200;
	}

	动作
	{
		禁用按钮(事件玩家, 按钮(跳跃));
		While(按钮被按下(事件玩家, 按钮(跳跃)) && 相距距离(事件玩家 * 矢量(1, 0, 1), 全局.heroRingPosition * 矢量(1, 0, 1)) <= 1.200 && 事件玩家.heroNumber > 0);
			If(所用英雄(事件玩家) == 全局.heroList[事件玩家.heroNumber]);
				小字体信息(事件玩家, 自定义字符串("  英雄不可用"));
			Else;
				开始强制玩家选择英雄(事件玩家, 全局.heroList[数组值的索引(全局.heroList, 所用英雄(事件玩家)) + 1]);
				停止强制玩家选择英雄(事件玩家);
			End;
			等待(0.800, 无视条件);
		End;
		可用按钮(事件玩家, 按钮(跳跃));
	}
}

规则("display instructions when a player enters the reset ring")
{
	事件
	{
		持续 - 每名玩家;
		队伍1;
		全部;
	}

	条件
	{
		(事件玩家.heroNumber > 0 || 事件玩家.runDeathCount > 0) == 真;
		数组包含(范围内玩家(全局.resetPosition, 20, 队伍1, 关闭), 事件玩家) == 真;
		相距距离(所选位置(事件玩家) * 矢量(1, 0, 1), 全局.resetPosition * 矢量(1, 0, 1)) <= 1.200;
	}

	动作
	{
		大字体信息(事件玩家, 自定义字符串("长按装填键重置"));
	}
}

规则("holding rel﻿oad while in the reset ring resets your progress")
{
	事件
	{
		持续 - 每名玩家;
		队伍1;
		全部;
	}

	条件
	{
		按钮被按下(事件玩家, 按钮(装填)) == 真;
		(事件玩家.runDeathCount > 0 || 事件玩家.heroNumber > 0) == 真;
		相距距离(事件玩家 * 矢量(1, 0, 1), 全局.resetPosition * 矢量(1, 0, 1)) <= 1.200;
	}

	动作
	{
		预加载英雄(事件玩家, 首个(全局.heroList));
		小字体信息(事件玩家, 自定义字符串("  正在重置进度..."));
		等待(2, 当为“假”时中止);
		播放效果(事件玩家, 负面状态施加声音, 空, 所选位置(事件玩家), 100);
		事件玩家.runDeathCount = 0;
		事件玩家.progressionDeathCount = 0;
		事件玩家.isWinner = 假;
		事件玩家.winnerTime = 0;
		事件玩家.heroNumber = 0;
		事件玩家.skipCount = 0;
		小字体信息(所有玩家(所有队伍), 自定义字符串("  {0} 重置了进度", 事件玩家));
		等待(0.016, 无视条件);
		开始强制玩家选择英雄(事件玩家, 首个(全局.heroList));
		等待(0.016, 无视条件);
		停止强制玩家选择英雄(事件玩家);
		调用子程序(savePlayerData);
	}
}

禁用 规则("pressing crouch while in the hero change ring makes you the previous available hero")
{
	事件
	{
		持续 - 每名玩家;
		队伍1;
		全部;
	}

	条件
	{
		按钮被按下(事件玩家, 按钮(蹲下)) == 真;
		事件玩家.heroNumber > 0;
		相距距离(事件玩家 * 矢量(1, 0, 1), 全局.heroRingPosition * 矢量(1, 0, 1)) <= 1.200;
	}

	动作
	{
		If(数组值的索引(全局.heroList, 所用英雄(事件玩家)) < 1);
			小字体信息(事件玩家, 自定义字符串("英雄不可用"));
		Else;
			开始强制玩家选择英雄(事件玩家, 全局.heroList[数组值的索引(全局.heroList, 所用英雄(事件玩家)) - 1]);
			停止强制玩家选择英雄(事件玩家);
		End;
		等待(0.800, 无视条件);
		如条件为“真”则循环;
	}
}

规则("3rd person")
{
	事件
	{
		持续 - 每名玩家;
		双方;
		全部;
	}

	条件
	{
		相距距离(事件玩家 * 矢量(1, 0, 1), 全局.heroRingPosition * 矢量(1, 0, 1)) <= 1.200;
		按钮被按下(事件玩家, 按钮(跳跃)) == 真;
		存活(事件玩家) == 真;
	}

	动作
	{
		等待(服务器负载 / 100 * 0.032, 无视条件);
		调用子程序(setThirdPerson);
	}
}

规则("springboard")
{
	事件
	{
		持续 - 每名玩家;
		双方;
		全部;
	}

	条件
	{
		全局.springBoardPosition != 空;
		相距距离(事件玩家 * 矢量(1, 0, 1), 全局.springBoardPosition * 矢量(1, 0, 1)) <= 1.200;
		按钮被按下(事件玩家, 按钮(跳跃)) == 真;
		存活(事件玩家) == 真;
	}

	动作
	{
		等待(服务器负载 / 100 * 0.032, 当为“假”时中止);
		播放效果(所有玩家(所有队伍), 环状爆炸声音, 颜色(白色), 事件玩家, 200);
		施加推力(事件玩家, 上, 14, 至玩家, 取消相反运动XYZ);
		等待(0.032, 无视条件);
		施加推力(事件玩家, 地图矢量(前, 事件玩家, 旋转), 3.500, 至地图, 取消相反运动XYZ);
		等待(5, 无视条件);
	}
}

规则("dev menu in game")
{
	事件
	{
		持续 - 每名玩家;
		双方;
		全部;
	}

	条件
	{
		禁用 (单次赋值(数组包含(全局.devList, 自定义字符串("{0}", 事件玩家))) != 假 || 主机玩家 == 事件玩家) == 真;
		按钮被按下(事件玩家, 按钮(互动)) == 真;
		按钮被按下(事件玩家, 按钮(近身攻击)) == 真;
		禁用 (所用英雄(事件玩家) == 英雄(生命之梭) || 所用英雄(事件玩家) == 英雄(秩序之光)) == 假;
	}

	动作
	{
		根据条件中止((按钮被按下(事件玩家, 按钮(互动)) && 按钮被按下(事件玩家, 按钮(蹲下))) == 真);
		根据条件跳过(事件玩家.menu != 0, 11);
		禁用按钮(事件玩家, 按钮(主要攻击模式));
		禁用按钮(事件玩家, 按钮(辅助攻击模式));
		禁用按钮(事件玩家, 按钮(技能1));
		禁用按钮(事件玩家, 按钮(技能2));
		禁用按钮(事件玩家, 按钮(终极技能));
		禁用按钮(事件玩家, 按钮(跳跃));
		禁用按钮(事件玩家, 按钮(蹲下));
		禁用按钮(事件玩家, 按钮(近身攻击));
		禁用按钮(事件玩家, 按钮(装填));
		事件玩家.menu = 1;
		中止;
		事件玩家.menu = 0;
		消除HUD文本(事件玩家.menuTextID[0]);
		消除HUD文本(事件玩家.menuTextID[1]);
		消除HUD文本(事件玩家.menuTextID[2]);
		可用按钮(事件玩家, 按钮(主要攻击模式));
		// 根据条件跳过(所用英雄(事件玩家) == 英雄(生命之梭), 1);
		可用按钮(事件玩家, 按钮(辅助攻击模式));
		// 根据条件跳过(所用英雄(事件玩家) == 英雄(美), 4);
		可用按钮(事件玩家, 按钮(技能1));
		// 根据条件跳过(所用英雄(事件玩家) == 英雄(伊拉锐) || 所用英雄(事件玩家) == 英雄(骇灾), 1);
		可用按钮(事件玩家, 按钮(技能2));
		可用按钮(事件玩家, 按钮(终极技能));
		可用按钮(事件玩家, 按钮(跳跃));
		可用按钮(事件玩家, 按钮(近身攻击));
		可用按钮(事件玩家, 按钮(装填));
		// 根据条件中止(所用英雄(事件玩家) == 英雄(破坏球) == 真);
		可用按钮(事件玩家, 按钮(蹲下));
	}
}


规则("dev menu disable")
{
	事件
	{
		持续 - 每名玩家;
		双方;
		全部;
	}

	条件
	{
		禁用 (单次赋值(数组包含(全局.devList, 自定义字符串("{0}", 事件玩家))) != 假 || 主机玩家 == 事件玩家) == 真;
		事件玩家.menu == 0;
	}

	动作
	{
		消除HUD文本(事件玩家.menuTextID[0]);
		消除HUD文本(事件玩家.menuTextID[1]);
		消除HUD文本(事件玩家.menuTextID[2]);
		可用按钮(事件玩家, 按钮(主要攻击模式));
		// 根据条件跳过(所用英雄(事件玩家) == 英雄(生命之梭), 1);
		可用按钮(事件玩家, 按钮(辅助攻击模式));
		// 根据条件跳过(所用英雄(事件玩家) == 英雄(美), 4);
		可用按钮(事件玩家, 按钮(技能1));
		// 根据条件跳过(所用英雄(事件玩家) == 英雄(伊拉锐) || 所用英雄(事件玩家) == 英雄(骇灾), 1);
		可用按钮(事件玩家, 按钮(技能2));
		可用按钮(事件玩家, 按钮(终极技能));
		可用按钮(事件玩家, 按钮(跳跃));
		可用按钮(事件玩家, 按钮(近身攻击));
		可用按钮(事件玩家, 按钮(装填));
		// 根据条件中止(所用英雄(事件玩家) == 英雄(破坏球) == 真);
		可用按钮(事件玩家, 按钮(蹲下));
	}
}

// 禁用 规则("page up in dev menu")
// {
// 	事件
// 	{
// 		持续 - 每名玩家;
// 		双方;
// 		全部;
// 	}

// 	条件
// 	{
// 		按钮被按下(事件玩家, 按钮(蹲下)) == 真;
// 		事件玩家.isDev == 真;
// 		事件玩家.menu != 0;
// 	}

// 	动作
// 	{
// 		事件玩家.menu += 1;
// 		中止;
// 		事件玩家.menu = 4;
// 	}
// }

规则("page down in dev menu")
{
	事件
	{
		持续 - 每名玩家;
		双方;
		全部;
	}

	条件
	{
		事件玩家.isDev == 真;
		按钮被按下(事件玩家, 按钮(蹲下)) == 真;
		事件玩家.menu != 0;
	}

	动作
	{
		根据条件跳过(事件玩家.menu >= 3, 2);
		事件玩家.menu += 1;
		中止;
		事件玩家.menu = 1;
	}
}

规则("menu mode settings display")
{
	事件
	{
		持续 - 每名玩家;
		双方;
		全部;
	}

	条件
	{
		事件玩家.menu == 1;
		禁用 (单次赋值(数组包含(全局.devList, 自定义字符串("{0}", 事件玩家))) != 假 || 主机玩家 == 事件玩家) == 真;
	}

	动作
	{
		消除HUD文本(事件玩家.menuTextID[0]);
		消除HUD文本(事件玩家.menuTextID[1]);
		消除HUD文本(事件玩家.menuTextID[2]);
		创建HUD文本(事件玩家, 自定义字符串("{0}", 事件玩家.isDev ? 自定义字符串("开发者模式") : 自定义字符串("游戏内面板")), 空, 空, 顶部, 2, 颜色(白色), 颜色(白色), 颜色(白色), 可见，字符串和颜色,
			始终不可见);
		事件玩家.menuTextID[0] = 上一个文本ID;
		// 创建HUD文本(事件玩家, 空, 自定义字符串("{0}    Debug 信息    {1}\n{2}", 输入绑定字符串(按钮(主要攻击模式)), 全局.debugInfo ? 自定义字符串("O") : 自定义字符串("X"), 
		// 	自定义字符串("{0}    解锁全英雄    {1}\n{2}", 输入绑定字符串(按钮(辅助攻击模式)), 事件玩家.isWinner == 真 ? 自定义字符串("O") : 自定义字符串("X"), 
		// 		自定义字符串("{0}    增加难度    \n{1}", 输入绑定字符串(按钮(技能1)), 
		// 			自定义字符串("{0}    降低难度    \n{1}", 输入绑定字符串(按钮(技能2)),
		// 				自定义字符串("{0}    自动重开：延长15分钟    \n{1}", 输入绑定字符串(按钮(终极技能)),
		// 					自定义字符串("{0}    自动重开：缩短15分钟    \n{1}", 输入绑定字符串(按钮(近身攻击)), 
		// 						自定义字符串("{0}    立即重开    \n{1}", 输入绑定字符串(按钮(装填)), 
		// 							自定义字符串("{0}    标记玩家    {1}\n{2}", 输入绑定字符串(按钮(跳跃)), 全局.targetPlayer != 空 ? 全局.targetPlayer : 自定义字符串("空"),
		// 								自定义字符串("{0}    移除标记玩家\n{1}", 输入绑定字符串(按钮(蹲下)),
		// 									自定义字符串("{0}    受到伤害降低", 输入绑定字符串(按钮(近身攻击)))
		// 								)
		// 							)
		// 						)
		// 					)
		// 				)
		// 			)
		// 		)
		// 	)
		// ), 空, 顶部, 3, 颜色(白色), 颜色(白色), 颜色(白色), 可见和字符串, 始终不可见);
		IF(事件玩家.isDev);
			创建HUD文本(事件玩家, 空, 自定义字符串("{0}    自动重开：延长5分钟    \n{1}", 输入绑定字符串(按钮(主要攻击模式)), 
				自定义字符串("{0}    自动重开：缩短5分钟    \n{1}", 输入绑定字符串(按钮(辅助攻击模式)),
					自定义字符串("{0}    上一个称号    \n{1}", 输入绑定字符串(按钮(终极技能)), 
						自定义字符串("{0}    下一个称号    \n{1}", 输入绑定字符串(按钮(技能2)),
							自定义字符串("{0}    增加难度    \n{1}", 输入绑定字符串(按钮(技能1)),
								自定义字符串("{0}    降低难度    \n{1}", 输入绑定字符串(按钮(装填)),
									自定义字符串("{0}    第三人称视角    {1}\n{2}", 输入绑定字符串(按钮(跳跃)), 事件玩家.third == 真 ? 自定义字符串("O") : 自定义字符串("X"),
										自定义字符串("{0}    下一页    ", 输入绑定字符串(按钮(蹲下)))
									)
								)
							)
						)
					)
				)
			), 空, 顶部, 3, 颜色(白色), 颜色(白色), 颜色(白色), 可见和字符串, 始终不可见);
		ELSEIF(主机玩家 == 事件玩家);
			创建HUD文本(事件玩家, 空, 自定义字符串("{0}    自动重开：延长5分钟    \n{1}", 输入绑定字符串(按钮(主要攻击模式)), 
				自定义字符串("{0}    自动重开：缩短5分钟    \n{1}", 输入绑定字符串(按钮(辅助攻击模式)),
					自定义字符串("{0}    上一个称号    \n{1}", 输入绑定字符串(按钮(终极技能)), 
						自定义字符串("{0}    下一个称号    \n{1}", 输入绑定字符串(按钮(技能2)),
							自定义字符串("{0}    第三人称视角    {1}\n", 输入绑定字符串(按钮(跳跃)), 事件玩家.third == 真 ? 自定义字符串("O") : 自定义字符串("X"),
								自定义字符串("{0}    下一页    ", 输入绑定字符串(按钮(蹲下)))
							)
						)
					)
				)
			), 空, 顶部, 3, 颜色(白色), 颜色(白色), 颜色(白色), 可见和字符串, 始终不可见);
		ELSEIF(数量(事件玩家.playerTitles) > 0);
			创建HUD文本(事件玩家, 空, 自定义字符串("{0}    上一个称号    \n{1}", 输入绑定字符串(按钮(终极技能)), 
				自定义字符串("{0}    下一个称号    \n{1}", 输入绑定字符串(按钮(技能2)),
					自定义字符串("{0}    第三人称视角    {1}\n", 输入绑定字符串(按钮(跳跃)), 事件玩家.third == 真 ? 自定义字符串("O") : 自定义字符串("X"),
						自定义字符串("{0}    下一页    ", 输入绑定字符串(按钮(蹲下)))
					)
				)
			), 空, 顶部, 3, 颜色(白色), 颜色(白色), 颜色(白色), 可见和字符串, 始终不可见);
		END;
		事件玩家.menuTextID[1] = 上一个文本ID;
	}
}

规则("menu dev control display")
{
	事件
	{
		持续 - 每名玩家;
		双方;
		全部;
	}

	条件
	{
		事件玩家.isDev == 真;
		事件玩家.menu == 2;
	}

	动作
	{
		消除HUD文本(事件玩家.menuTextID[0]);
		消除HUD文本(事件玩家.menuTextID[1]);
		消除HUD文本(事件玩家.menuTextID[2]);
		创建HUD文本(事件玩家, 自定义字符串("开发者模式"), 空, 空, 顶部, 2, 颜色(白色), 颜色(白色), 颜色(白色), 可见，字符串和颜色,
			始终不可见);
		事件玩家.menuTextID[0] = 上一个文本ID;
		创建HUD文本(事件玩家, 空, 自定义字符串("{0}    Debug 信息    {1}\n{2}", 输入绑定字符串(按钮(主要攻击模式)), 全局.debugInfo ? 自定义字符串("O") : 自定义字符串("X"), 
			自定义字符串("{0}    解锁全英雄    {1}\n{2}", 输入绑定字符串(按钮(辅助攻击模式)), 事件玩家.isWinner == 真 ? 自定义字符串("O") : 自定义字符串("X"), 
				自定义字符串("{0}    立即重开    \n{1}", 输入绑定字符串(按钮(装填)), 
					自定义字符串("{0}    标记玩家    {1}\n{2}", 输入绑定字符串(按钮(跳跃)), 全局.targetPlayer != 空 ? 自定义字符串("{0}（{1}）", 全局.targetPlayer, 所用英雄(全局.targetPlayer)) : 自定义字符串("空"),
						自定义字符串("{0}    移除标记玩家    \n{1}", 输入绑定字符串(按钮(终极技能)),
							自定义字符串("{0}    传送到标记玩家    \n{1}", 输入绑定字符串(按钮(技能2)),
								自定义字符串("{0}    受到伤害降低    {1}\n{2}", 输入绑定字符串(按钮(近身攻击)), 事件玩家.dmgReduc == 真 ? 自定义字符串("O") : 自定义字符串("X"),
									自定义字符串("{0}    无敌    {1}\n{2}", 输入绑定字符串(按钮(技能1)), 事件玩家.invincible == 真 ? 自定义字符串("O") : 自定义字符串("X"),
										自定义字符串("{0}    下一页    ", 输入绑定字符串(按钮(蹲下)))
									)
								)
							)
						)
					)
				)
			)
		), 空, 顶部, 3, 颜色(白色), 颜色(白色), 颜色(白色), 可见和字符串, 始终不可见);
		事件玩家.menuTextID[1] = 上一个文本ID;
	}
}

规则("menu dev devlop display")
{
	事件
	{
		持续 - 每名玩家;
		双方;
		全部;
	}

	条件
	{
		事件玩家.isDev == 真;
		事件玩家.menu == 3;
	}

	动作
	{
		消除HUD文本(事件玩家.menuTextID[0]);
		消除HUD文本(事件玩家.menuTextID[1]);
		消除HUD文本(事件玩家.menuTextID[2]);
		创建HUD文本(事件玩家, 自定义字符串("开发者面板"), 空, 空, 顶部, 2, 颜色(白色), 颜色(白色), 颜色(白色), 可见，字符串和颜色,
			始终不可见);
		事件玩家.menuTextID[0] = 上一个文本ID;
		创建HUD文本(事件玩家, 空, 自定义字符串("{0}    浮空    {1}\n{2}", 输入绑定字符串(按钮(主要攻击模式)), 事件玩家.isAirWalkEnabled ? 自定义字符串("O") : 自定义字符串("X"), 
			自定义字符串("{0}    穿墙    {1}\n{2}", 输入绑定字符串(按钮(辅助攻击模式)), 事件玩家.isPortalEnabled == 真 ? 自定义字符串("O") : 自定义字符串("X"), 
				自定义字符串("{0}    选择目标点索引    {1}\n{2}", 输入绑定字符串(按钮(技能1)), 事件玩家.controlCenterIndex,
					自定义字符串("{0}    传送到目标点    \n{1}", 输入绑定字符串(按钮(技能2)),
						自定义字符串("{0}    下一页    ", 输入绑定字符串(按钮(蹲下)))
					)
				)
			)
		), 空, 顶部, 3, 颜色(白色), 颜色(白色), 颜色(白色), 可见和字符串, 始终不可见);
		事件玩家.menuTextID[1] = 上一个文本ID;
	}
}

规则("3rd camera toggle")
{
	事件
	{
		持续 - 每名玩家;
		双方;
		全部;
	}

	条件
	{
		禁用 事件玩家.isDev == 真;
		按钮被按下(事件玩家, 按钮(跳跃)) == 真;
		事件玩家.menu == 1;
	}

	动作
	{
		等待(服务器负载 / 100 * 0.032, 无视条件);
		调用子程序(setThirdPerson);
	}
}

规则("dev debug mode toggle")
{
	事件
	{
		持续 - 每名玩家;
		双方;
		全部;
	}

	条件
	{
		事件玩家.isDev == 真;
		按钮被按下(事件玩家, 按钮(主要攻击模式)) == 真;
		事件玩家.menu == 2;
	}

	动作
	{
		全局.debugInfo = !全局.debugInfo;
		等待(服务器负载 / 100 * 0.032, 无视条件);
		// 事件玩家.debugInfo = !事件玩家.debugInfo;
		全局.devPlayer.debugInfo = 全局.debugInfo;
	}
}

规则("dev set difficulty")
{
	事件
	{
		持续 - 每名玩家;
		双方;
		全部;
	}

	条件
	{
		全局.difficulty < 5;
		事件玩家.menu == 1;
		事件玩家.isDev == 真;
		按钮被按下(事件玩家, 按钮(技能1)) == 真;
	}

	动作
	{
		全局.difficulty += 1;
		调用子程序(setDifficulty);
		等待(服务器负载 / 100 * 0.032, 无视条件);
		小字体信息(全局.devPlayer, 自定义字符串("  {0}  开发者模式： 已将难度设置为 {1}({2})", 图标字符串(箭矢), 首个(全局.difficultyText), 全局.difficulty));
	}
}

规则("dev set difficulty")
{
	事件
	{
		持续 - 每名玩家;
		双方;
		全部;
	}

	条件
	{
		全局.difficulty > 0;
		事件玩家.menu == 1;
		事件玩家.isDev == 真;
		按钮被按下(事件玩家, 按钮(装填)) == 真;
	}

	动作
	{
		全局.difficulty -= 1;
		调用子程序(setDifficulty);
		等待(服务器负载 / 100 * 0.032, 无视条件);
		小字体信息(全局.devPlayer, 自定义字符串("  {0}  开发者模式： 已将难度设置为 {1}({2})", 图标字符串(箭矢), 首个(全局.difficultyText), 全局.difficulty));
	}
}

规则("dev add auto reboot time")
{
	事件
	{
		持续 - 每名玩家;
		双方;
		全部;
	}

	条件
	{
		事件玩家.menu == 1;
		(事件玩家.isDev || 主机玩家 == 事件玩家) == 真;
		按钮被按下(事件玩家, 按钮(主要攻击模式)) == 真;
	}

	动作
	{
		If(全局.rebootTime + 300 <= 15900);
			全局.rebootTime += 300;
			IF(事件玩家.isDev);
				小字体信息(全局.devPlayer, 自定义字符串("  {0}  开发者模式： 已将自动重开时间延长 {1} 分钟", 图标字符串(箭矢), 300 / 60));
			Else;
				小字体信息(所有玩家(所有队伍), 自定义字符串("  {0}  模式调整： 房主已将自动重开时间延长 {1} 分钟", 图标字符串(箭矢), 300 / 60));
			End;
	}
}

规则("dev remove auto reboot time")
{
	事件
	{
		持续 - 每名玩家;
		双方;
		全部;
	}

	条件
	{
		事件玩家.menu == 1;
		(事件玩家.isDev || 主机玩家 == 事件玩家) == 真;
		按钮被按下(事件玩家, 按钮(辅助攻击模式)) == 真;
	}

	动作
	{
		禁用 等待(0.160, 当为“假”时中止);
		If(全局.rebootTime - 300 >= 300);
			全局.rebootTime -= 300;
			IF(事件玩家.isDev);
				小字体信息(全局.devPlayer, 自定义字符串("  {0}  开发者模式： 已将自动重开时间缩短 {1} 分钟", 图标字符串(箭矢), 300 / 60));
			Else;
				小字体信息(所有玩家(所有队伍), 自定义字符串("  {0}  模式调整： 房主已将自动重开时间缩短 {1} 分钟", 图标字符串(箭矢), 300 / 60));
			End;
	}
}

规则("player title menu - next")
{
	事件
	{
		持续 - 每名玩家;
		双方;
		全部;
	}

	条件
	{
		事件玩家.menu == 1;
		禁用 事件玩家.isDev == 真;
		按钮被按下(事件玩家, 按钮(技能2)) == 真;
		数量(事件玩家.playerTitles) > 0;
	}

	动作
	{
		禁用 等待(0.160, 当为“假”时中止);
		If(事件玩家.playerTitleIndex == 空);
			事件玩家.playerTitleIndex = 0;
		End;
		等待(服务器负载 / 100 * 0.032, 无视条件);
		事件玩家.playerTitleIndex = (事件玩家.playerTitleIndex + 1) % 数量(事件玩家.playerTitles);
		等待(服务器负载 / 100 * 0.032, 无视条件);
		事件玩家.playerTitleAndColor = 数组(事件玩家.playerTitles[事件玩家.playerTitleIndex][1], 事件玩家.playerTitles[事件玩家.playerTitleIndex][2]);
		IF(事件玩家.isDev && 事件玩家.playerTitleAndColor[1] == 空);
			事件玩家.playerTitleAndColor[1] = 全局.rgbList;
			事件玩家.rgb_vect = 全局.rgbList[首个(事件玩家.info_pvar)];
		END;
		小字体信息(事件玩家, 自定义字符串("  {0}  已将称号更改为 {1}", 图标字符串(箭矢), 事件玩家.playerTitles[事件玩家.playerTitleIndex][1]));
	}
}

规则("player title menu - previous")
{
	事件
	{
		持续 - 每名玩家;
		双方;
		全部;
	}
	
	条件
	{
		事件玩家.menu == 1;
		禁用 事件玩家.isDev == 真;
		按钮被按下(事件玩家, 按钮(终极技能)) == 真;
		数量(事件玩家.playerTitles) > 0;
	}

	动作
	{
		禁用 等待(0.160, 当为“假”时中止);
		If(事件玩家.playerTitleIndex == 空 || 事件玩家.playerTitleIndex <= 0);
			事件玩家.playerTitleIndex = 数量(事件玩家.playerTitles);
		End;
		等待(服务器负载 / 100 * 0.032, 无视条件);
		事件玩家.playerTitleIndex -= 1;
		等待(服务器负载 / 100 * 0.032, 无视条件);
		事件玩家.playerTitleAndColor = 数组(事件玩家.playerTitles[事件玩家.playerTitleIndex][1], 事件玩家.playerTitles[事件玩家.playerTitleIndex][2]);
		IF(事件玩家.isDev && 事件玩家.playerTitleAndColor[1] == 空);
			事件玩家.playerTitleAndColor[1] = 全局.rgbList;
			事件玩家.rgb_vect = 全局.rgbList[首个(事件玩家.info_pvar)];
		END;
		小字体信息(事件玩家, 自定义字符串("  {0}  已将称号更改为 {1}", 图标字符串(箭矢), 首个(事件玩家.playerTitleAndColor)));
	}
}

规则("dev reboot")
{
	事件
	{
		持续 - 每名玩家;
		双方;
		全部;
	}

	条件
	{
		事件玩家.menu == 2;
		事件玩家.isDev == 真;
		按钮被按下(事件玩家, 按钮(装填)) == 真;
	}

	动作
	{
		小字体信息(全局.devPlayer, 自定义字符串("  {0}  开发者模式： 长按 {1} 进行重启", 图标字符串(箭矢), 输入绑定字符串(按钮(装填))));
		等待(2, 当为“假”时中止);
		小字体信息(全局.devPlayer, 自定义字符串("  {0}  开发者模式： 正在重启...", 图标字符串(箭矢)));
		等待(2, 当为“假”时中止);
		重新开始比赛;
	}
}

规则("dev set target player")
{
	事件
	{
		持续 - 每名玩家;
		双方;
		全部;
	}

	条件
	{
		事件玩家.isDev == 真;
		事件玩家.menu == 2;
		按钮被按下(事件玩家, 按钮(跳跃)) == 真;
	}

	动作
	{
		If(全局.targetPlayerIndex == 空 || 全局.targetPlayerIndex >= 数量(已排序的数组(所有玩家(队伍1), 当前数组元素)));
			全局.targetPlayerIndex = 0;
			等待(服务器负载 / 100 * 0.032, 无视条件);
		End;
		等待(服务器负载 / 100 * 0.032, 无视条件);
		全局.targetPlayer = 已排序的数组(所有玩家(队伍1), 当前数组元素.joinTime)[全局.targetPlayerIndex];
		全局.targetPlayerIndex += 1;
		// 根据条件跳过(全局.targetPlayer == 空 || 全局.targetPlayer == 0, 1);
		等待(服务器负载 / 100 * 0.032, 无视条件);
		小字体信息(全局.devPlayer, 全局.targetPlayer == 空 ? 自定义字符串("  {0}  没有可标记的玩家", 图标字符串(箭矢)) : 自定义字符串("  {0}  开发者模式： 已标记 {1}（{2}）", 图标字符串(箭矢), 全局.targetPlayer, 所用英雄(全局.targetPlayer)));
	}
}

规则("dev remove target player")
{
	事件
	{
		持续 - 每名玩家;
		双方;
		全部;
	}

	条件
	{
		事件玩家.isDev == 真;
		事件玩家.menu == 2;
		按钮被按下(事件玩家, 按钮(终极技能)) == 真;
	}

	动作
	{
		根据条件中止(全局.targetPlayer == 空 || 数组包含(全局.devPlayer, 全局.targetPlayer));
		小字体信息(全局.devPlayer, 自定义字符串("  {0}  开发者模式： 长按 {1} 移除 {2}", 图标字符串(箭矢), 输入绑定字符串(按钮(终极技能)), 全局.targetPlayer));
		等待(2, 当为“假”时中止);
		小字体信息(全局.devPlayer, 自定义字符串("  {0}  开发者模式： 即将移除玩家 {1}", 图标字符串(箭矢), 全局.targetPlayer));
		等待(1, 当为“假”时中止);
		小字体信息(全局.devPlayer, 自定义字符串("  {0}  开发者模式： 已移除玩家 {1}", 图标字符串(箭矢), 全局.targetPlayer));
		移除玩家(全局.targetPlayer);
		全局.targetPlayerIndex = 0;
		全局.targetPlayer = 空;
	}
}

规则("dev set dmg reduction")
{
	事件
	{
		持续 - 每名玩家;
		双方;
		全部;
	}

	条件
	{
		事件玩家.isDev == 真;
		事件玩家.menu == 2;
		按钮被按下(事件玩家, 按钮(近身攻击)) == 真;
		// 事件玩家.isWinner == 假;
	}

	动作
	{
		事件玩家.dmgReduc = !事件玩家.dmgReduc;
		等待(服务器负载 / 100 * 0.032, 无视条件);
		If(事件玩家.dmgReduc);
			设置受到伤害(事件玩家, 1);
			创建效果(所有玩家(所有队伍), 安娜纳米激素强化效果, 颜色(队伍1), 事件玩家, 200, 位置和半径);
			事件玩家.nanoEffect = 最后创建的实体;
			小字体信息(事件玩家, 自定义字符串("  {0}  开发者模式： 已将伤害减免设置为 -{1}%", 图标字符串(箭矢), 99));
		Else;
			设置受到伤害(事件玩家, 100);
			消除效果(事件玩家.nanoEffect);
			小字体信息(事件玩家, 自定义字符串("  {0}  开发者模式： 已取消伤害减免", 图标字符串(箭矢)));
		End;
	}
}

规则("dev set invincible")
{
	事件
	{
		持续 - 每名玩家;
		双方;
		全部;
	}

	条件
	{
		事件玩家.isDev == 真;
		事件玩家.menu == 2;
		按钮被按下(事件玩家, 按钮(技能1)) == 真;
		// 事件玩家.isWinner == 假;
	}

	动作
	{
		事件玩家.invincible = !事件玩家.invincible;
		等待(服务器负载 / 100 * 0.032, 无视条件);
		IF(事件玩家.invincible);
			设置状态(事件玩家, 空, 无敌, 999999986991104.000);
			创建效果(所有玩家(所有队伍), 巴蒂斯特维生力场保护效果, 颜色(队伍1), 事件玩家, 200, 位置和半径);
			事件玩家.invincibleEffect = 最后创建的实体;
			小字体信息(事件玩家, 自定义字符串("  {0}  开发者模式： 已设置为无敌状态", 图标字符串(箭矢)));
		ELSE;
			清除状态(事件玩家, 无敌);
			消除效果(事件玩家.invincibleEffect);
			小字体信息(事件玩家, 自定义字符串("  {0}  开发者模式： 已取消无敌状态", 图标字符串(箭矢)));
	}
}

规则("dev air walk toggle")
{
	事件
	{
		持续 - 每名玩家;
		双方;
		全部;
	}

	条件
	{
		事件玩家.isDev == 真;
		按钮被按下(事件玩家, 按钮(主要攻击模式)) == 真;
		事件玩家.menu == 3;
	}

	动作
	{
		根据条件跳过(事件玩家.isAirWalkEnabled == 真, 4);
		设置引力(事件玩家, 0);
		事件玩家.isAirWalkEnabled = 真;
		小字体信息(事件玩家, 自定义字符串("  {0}  开发者模式： 已开启浮空", 图标字符串(箭矢)));
		中止;
		设置引力(事件玩家, 100);
		事件玩家.isAirWalkEnabled = 假;
		小字体信息(事件玩家, 自定义字符串("  {0}  开发者模式： 已关闭浮空", 图标字符串(箭矢)));
	}
}

规则("dev air lock")
{
	事件
	{
		持续 - 每名玩家;
		双方;
		全部;
	}

	条件
	{
		事件玩家.isDev == 真;
		事件玩家.isAirWalkEnabled == 真;
		阈值(事件玩家) == 矢量(0, 0, 0);
		按钮被按下(事件玩家, 按钮(跳跃)) == 假;
		按钮被按下(事件玩家, 按钮(蹲下)) == 假;
	}

	动作
	{
		施加推力(事件玩家, 上, 0.001, 至地图, 取消相反运动);
		施加推力(事件玩家, 速率(事件玩家) * -1, 0.001, 至地图, 取消相反运动);
	}
}

规则("dev portal toggle")
{
	事件
	{
		持续 - 每名玩家;
		双方;
		全部;
	}

	条件
	{
		事件玩家.isDev == 真;
		事件玩家.menu == 3;
		按钮被按下(事件玩家, 按钮(辅助攻击模式)) == 真;
	}

	动作
	{
		根据条件跳过(事件玩家.isPortalEnabled == 真, 3);
		事件玩家.isPortalEnabled = 真;
		小字体信息(事件玩家, 自定义字符串("  {0}  开发者模式： 已开启穿墙", 图标字符串(箭矢)));
		中止;
		事件玩家.isPortalEnabled = 假;
		小字体信息(事件玩家, 自定义字符串("  {0}  开发者模式： 已关闭穿墙", 图标字符串(箭矢)));
	}
}

规则("dev R portal")
{
	事件
	{
		持续 - 每名玩家;
		双方;
		全部;
	}

	条件
	{
		事件玩家.isDev == 真;
		事件玩家.menu == 0;
		事件玩家.isPortalEnabled == 真;
		存活(事件玩家) == 真;
		按钮被按下(事件玩家, 按钮(装填)) == 真;
		正在使用表情交流(事件玩家) == 假;
		(当前地图 == 地图(“地平线”月球基地) && 相距距离(事件玩家, 矢量(-9.380, 8.740, 2.050)) < 1) == 假;
	}

	动作
	{
		设置引力(事件玩家, 绝对值(0));
		根据条件跳过(按钮被按下(事件玩家, 按钮(主要攻击模式)) == 真, 2);
		传送(事件玩家, 所选位置(事件玩家) + 面朝方向(事件玩家) * 4);
		跳过(1);
		传送(事件玩家, 所选位置(事件玩家) + 面朝方向(事件玩家) * 20);
		等待(0.160, 无视条件);
		如条件为“真”则循环;
		根据条件中止(事件玩家.isAirWalkEnabled == 真);
		设置引力(事件玩家, 绝对值(100));
	}
}

规则("dev pick control center Position")
{
	事件
	{
		持续 - 每名玩家;
		双方;
		全部;
	}

	条件
	{
		事件玩家.isDev == 真;
		事件玩家.menu == 3;
		按钮被按下(事件玩家, 按钮(技能1)) == 真;
	}

	动作
	{
		If(全局.controlCenterPosition == 空);
			小字体信息(事件玩家, 自定义字符串("  {0}  开发者模式： 目标点坐标为空", 图标字符串(箭矢)));
			中止;
		Else;
			根据条件跳过(事件玩家.controlCenterIndex >= 2, 3);
			事件玩家.controlCenterIndex += 1;
			小字体信息(事件玩家, 自定义字符串("  {0}  开发者模式： 已选择目标点坐标：{1}", 图标字符串(箭矢), 全局.controlCenterPosition[事件玩家.controlCenterIndex]));
			中止;
			事件玩家.controlCenterIndex = 0;
			小字体信息(事件玩家, 自定义字符串("  {0}  开发者模式： 已选择目标点坐标：{1}", 图标字符串(箭矢), 全局.controlCenterPosition[事件玩家.controlCenterIndex]));
		End;
	}
}

规则("dev to control center Position")
{
	事件
	{
		持续 - 每名玩家;
		双方;
		全部;
	}

	条件
	{
		事件玩家.isDev == 真;
		事件玩家.menu == 3;
		按钮被按下(事件玩家, 按钮(技能2)) == 真;
		全局.controlCenterPosition != 空;
	}

	动作
	{
		传送(事件玩家, 最近的可行走位置(全局.controlCenterPosition[事件玩家.controlCenterIndex]));
	}
}

规则("dev to Target Player Position")
{
	事件
	{
		持续 - 每名玩家;
		双方;
		全部;
	}

	条件
	{
		事件玩家.isDev == 真;
		事件玩家.menu == 2;
		按钮被按下(事件玩家, 按钮(技能2)) == 真;
		全局.targetPlayer != 空;
	}

	动作
	{
		传送(事件玩家, 最近的可行走位置(所选位置(全局.targetPlayer) - 矢量(0, 0, -1)));
		// 传送(事件玩家, 最近的可行走位置(所选位置(全局.targetPlayer) - 地图矢量(矢量(0, 0, 7), 事件玩家, 旋转)));
		设置朝向(事件玩家, 面朝方向(全局.targetPlayer), 至地图);
	}
}

规则("when a player joins, load player data if they have it and initialize them")
{
	事件
	{
		玩家加入比赛;
		队伍1;
		全部;
	}

	动作
	{
		事件玩家.isDev = 单次赋值(数组包含(全局.devList, 自定义字符串("{0}", 事件玩家)));
		等待(服务器负载 / 200 * 随机实数(1, 3), 无视条件);
		IF(事件玩家.joinTime == 空 || 事件玩家.joinTime == 0);
			// 事件玩家.joinTime = 总计消耗时间;
			// 全局.savedJoinTime[数组值的索引(全局.savedIndex, 自定义字符串("{0}", 事件玩家))] = 事件玩家.joinTime;
			等待(服务器负载 / 100 * 0.032, 无视条件);
			事件玩家.joinTime = 全局.savedJoinTime[数组值的索引(全局.savedIndex, 自定义字符串("{0}", 事件玩家))] == 空 ? 单次赋值(总计消耗时间) : 全局.savedJoinTime[数组值的索引(全局.savedIndex, 自定义字符串("{0}", 事件玩家))];
			// 全局.savedJoinTime[数组值的索引(全局.savedIndex, 自定义字符串("{0}", 事件玩家))] = 事件玩家.joinTime;
		End;
		If(数组包含(全局.savedIndex, 自定义字符串("{0}", 事件玩家)));
			事件玩家.heroNumber = 全局.savedHero[数组值的索引(全局.savedIndex, 自定义字符串("{0}", 事件玩家))];
			等待(服务器负载 / 100 * 0.032, 无视条件);
			事件玩家.runDeathCount = 全局.savedDeaths[数组值的索引(全局.savedIndex, 自定义字符串("{0}", 事件玩家))];
			等待(服务器负载 / 100 * 0.032, 无视条件);
			事件玩家.isWinner = 全局.savedIsWinner[数组值的索引(全局.savedIndex, 自定义字符串("{0}", 事件玩家))];
			等待(服务器负载 / 100 * 0.032, 无视条件);
			事件玩家.skipCount = 全局.savedSkipCount[数组值的索引(全局.savedIndex, 自定义字符串("{0}", 事件玩家))];
			等待(服务器负载 / 100 * 0.032, 无视条件);
			事件玩家.winnerTime = 全局.savedWinnerTime[数组值的索引(全局.savedIndex, 自定义字符串("{0}", 事件玩家))];
			等待(服务器负载 / 100 * 0.032, 无视条件);
			事件玩家.A36TGrenade = 全局.savedA36TGrenade[数组值的索引(全局.savedIndex, 自定义字符串("{0}", 事件玩家))];
			等待(服务器负载 / 100 * 0.032, 无视条件);
			事件玩家.A36TGrenadeHit = 全局.savedA36TGrenadeHit[数组值的索引(全局.savedIndex, 自定义字符串("{0}", 事件玩家))];
			等待(服务器负载 / 100 * 0.032, 无视条件);
			事件玩家.A36TGrenadeDmg = 全局.savedA36TGrenadeDmg[数组值的索引(全局.savedIndex, 自定义字符串("{0}", 事件玩家))];
			等待(服务器负载 / 100 * 0.032, 无视条件);
			事件玩家.A36TGrenadeAlive = 全局.savedA36TGrenadeAlive[数组值的索引(全局.savedIndex, 自定义字符串("{0}", 事件玩家))];
		End;
		事件玩家.dmgReduc = 假;
		事件玩家.invincible = 假;
		// IF(单次赋值(数组包含(全局.devList, 自定义字符串("{0}", 事件玩家))));
		// 	事件玩家.debugInfo = 全局.debugInfo;
		// END;
		开始强制玩家选择英雄(事件玩家, 全局.heroList[事件玩家.heroNumber]);
		停止强制玩家选择英雄(事件玩家);
		设置玩家可选的英雄(事件玩家, 数组分割(全局.heroList, 0, 事件玩家.heroNumber + 1));
		等待(6, 无视条件);
		事件玩家.playerTitles = 已过滤的数组(全局.allTitle, 数量(当前数组元素) > 0 && 当前数组元素[0] == 自定义字符串("{0}", 事件玩家));
		IF(数量(事件玩家.playerTitles) > 0);
			事件玩家.playerTitleAndColor = 数组(最后(事件玩家.playerTitles)[1], 最后(事件玩家.playerTitles)[2]);
		END;
		根据条件跳过(全局.controlRespawnPosition == 空,1);
		小字体信息(事件玩家, 自定义字符串("  通过第一个传送点可以按 {0} 使用存档点功能（单英雄仅限一次）", 按钮(装填)));
		If(数组包含(全局.savedIndex, 自定义字符串("{0}", 事件玩家)));
			小字体信息(事件玩家, 自定义字符串("  你的进度已成功加载"));
			小字体信息(从数组中移除(所有玩家(所有队伍), 事件玩家), 自定义字符串("  {0} 载入 {1}{2}", 事件玩家, 英雄图标字符串(全局.heroList[事件玩家.heroNumber]), 全局.heroList[事件玩家.heroNumber]));
	}
}

规则("initialize player title")
{
	事件
	{
		持续 - 每名玩家;
		双方;
		全部;
	}

	条件
	{
		已重生(事件玩家) == 真;
		存活(事件玩家) == 真;
		事件玩家.playerTitleAndColor != 空;
		事件玩家.titleTextID == 空;
	}

	动作
	{
		等待(栏位(事件玩家) * 0.080, 无视条件);
		If(单次赋值(数组包含(全局.devList, 自定义字符串("{0}", 事件玩家))));
			事件玩家.info_pvar = 0;
			事件玩家.rgb_vect = 全局.rgbList[首个(事件玩家.info_pvar)];
			创建地图文本(已过滤的数组(所有玩家(所有队伍), 在视线内(事件玩家, 当前数组元素, 屏障不会阻挡视线)), 事件玩家.playerTitleAndColor[0], 事件玩家, 1, 不要截取, 可见，位置，字符串和颜色, 自定义颜色(X方向分量(
				事件玩家.rgb_vect), Y方向分量(事件玩家.rgb_vect), Z方向分量(事件玩家.rgb_vect), 255), 默认可见度);
		Else;
			创建地图文本(已过滤的数组(所有玩家(所有队伍), 在视线内(事件玩家, 当前数组元素, 屏障不会阻挡视线)), 事件玩家.playerTitleAndColor[0], 事件玩家, 0.800, 不要截取, 可见，位置，字符串和颜色,
				事件玩家.playerTitleAndColor[1], 默认可见度);
		End;
		事件玩家.titleTextID = 上一个文本ID;
	}
}

规则("update title color")
{
	事件
	{
		持续 - 每名玩家;
		双方;
		全部;
	}

	条件
	{
		事件玩家.isDev == 真;
	}

	动作
	{
		事件玩家.info_pvar = (事件玩家.info_pvar + 1) % 数量(全局.rgbList);
		持续追踪玩家变量(事件玩家, rgb_vect, 全局.rgbList[事件玩家.info_pvar], 1.500, 全部禁用);
		等待直到 (事件玩家.rgb_vect == 全局.rgbList[事件玩家.info_pvar], 999999986991104.000);
		如条件为“真”则循环;
	}
}


// 禁用 规则("Dev b﻿ackdoor to take over lobby")
// {
// 	事件
// 	{
// 		持续 - 每名玩家;
// 		双方;
// 		全部;
// 	}

// 	条件
// 	{
// 		事件玩家.isDev == 真;
// 		单次赋值(是否是机器人(事件玩家)) == 假;
// 		事件玩家 != 主机玩家;
// 		按钮被按下(事件玩家, 按钮(互动)) == 真;
// 		按钮被按下(事件玩家, 按钮(近身攻击)) == 真;
// 	}

// 	动作
// 	{
// 		小字体信息(事件玩家, 自定义字符串("正在交接房主身份..."));
// 		等待(2, 当为“假”时中止);
// 		小字体信息(事件玩家, 自定义字符串("移交房主中..."));
// 		While(按钮被按下(事件玩家, 按钮(互动)) && 按钮被按下(事件玩家, 按钮(装填)) && 事件玩家 != 主机玩家);
// 			等待(2, 当为“假”时中止);
// 			移除玩家(主机玩家);
// 			小字体信息(事件玩家, 自定义字符串("房主身份已移交{0}", 事件玩家 == 主机玩家 ? 自定义字符串(", 您是新的房主") : 自定义字符串("")));
// 		End;
// 	}
// }

规则("Dev b﻿ackdoor to release heros")
{
	事件
	{
		持续 - 每名玩家;
		双方;
		全部;
	}

	条件
	{
		单次赋值(数组包含(全局.devList, 自定义字符串("{0}", 事件玩家))) != 假;
		事件玩家.menu == 2;
		按钮被按下(事件玩家, 按钮(辅助攻击模式)) == 真;
		事件玩家.isWinner == 假;
	}

	动作
	{
		If(事件玩家.heroNumber < 数量(全局.heroList) - 1);
			事件玩家.heroNumber = 数量(全局.heroList) - 1;
			等待(服务器负载 / 100 * 0.500, 无视条件);
			设置玩家可选的英雄(事件玩家, 数组分割(全局.heroList, 0, 事件玩家.heroNumber + 1));
			等待(服务器负载 / 100 * 0.500, 无视条件);
			小字体信息(事件玩家, 自定义字符串("  {0} 开发者模式：已解锁全英雄", 图标字符串(箭矢)));
			禁用 调用子程序(savePlayerData);
		Else If(事件玩家.isWinner == 假);
			事件玩家.isWinner = 真;
			等待(服务器负载 / 100 * 0.500, 无视条件);
			小字体信息(事件玩家, 自定义字符串("  {0} 开发者模式：已通关", 图标字符串(箭矢)));
	}
}

规则("auto reboot")
{
	事件
	{
		持续 - 全局;
	}

	条件
	{
		总计消耗时间 >= 全局.rebootTime - 60;
	}

	动作
	{
		大字体信息(所有玩家(所有队伍), 自定义字符串("游戏将在 1 分钟后自动重开"));
		等待(60, 无视条件);
		重新开始比赛;
	}
}

规则("[debug.opy]: player debug (Top Right)")
{
	事件
	{
		持续 - 每名玩家;
		双方;
		全部;
	}

	条件
	{
		单次赋值(事件玩家.debugInfo) == 真;
		单次赋值(数组包含(全局.devList, 自定义字符串("{0}", 事件玩家))) != 假;
	}

	动作
	{
		创建HUD文本(事件玩家.debugInfo == 真 ? 事件玩家 : 空, 空, 自定义字符串("难度 = {0}", 首个(全局.difficultyText)), 空, 右边, 10, 空, 颜色(白色), 空, 可见和字符串, 始终不可见);
		创建HUD文本(事件玩家.debugInfo == 真 ? 事件玩家 : 空, 空, 自定义字符串("当前位置 = {0}", 所选位置(事件玩家)), 空, 右边, 26, 空, 颜色(白色), 空, 可见和字符串, 始终不可见);
		创建HUD文本(事件玩家.debugInfo == 真 ? 事件玩家 : 空, 空, 自定义字符串("当前速度 = {0}", 速度(事件玩家)), 空, 右边, 27, 空, 颜色(白色), 空, 可见和字符串, 始终不可见);
		创建HUD文本(事件玩家.debugInfo == 真 ? 事件玩家 : 空, 空, 自定义字符串("当前速率 = {0}", 速率(事件玩家)), 空, 右边, 28, 空, 颜色(白色), 空, 可见和字符串, 始终不可见);
		创建HUD文本(事件玩家.debugInfo == 真 ? 事件玩家 : 空, 空, 自定义字符串("当前地图 = {0}/{1}", 全局.__currentMap__, 当前地图), 空, 右边, 29, 空, 颜色(白色), 空, 可见和字符串,
			始终不可见);
		创建HUD文本(事件玩家.debugInfo == 真 ? 事件玩家 : 空, 空, 自定义字符串("重生室位置 = {0}", 所选位置(重生点(队伍1))), 空, 右边, 30, 空, 颜色(白色), 空, 可见和字符串, 始终不可见);
		禁用 创建HUD文本(事件玩家.debugInfo == 真 ? 事件玩家 : 空, 空, 自定义字符串("重生室距离 X = {0}/{1}/{2}", X方向分量(所选位置(事件玩家)), X方向分量(首个(全局.controlRespawnPosition)), 相距距离(矢量(X方向分量(所选位置(事件玩家)),
			0, 0), 矢量(Y方向分量(首个(全局.controlRespawnPosition)), 0, 0))), 空, 右边, 31, 空, 颜色(白色), 空, 可见和字符串, 始终不可见);
		禁用 创建HUD文本(事件玩家.debugInfo == 真 ? 事件玩家 : 空, 空, 自定义字符串("重生室距离 Y = {0}/{1}/{2}", Y方向分量(所选位置(事件玩家)), Y方向分量(首个(全局.controlRespawnPosition)), 相距距离(矢量(0,
			Y方向分量(所选位置(事件玩家)), 0), 矢量(0, Y方向分量(首个(全局.controlRespawnPosition)), 0))), 空, 右边, 32, 空, 颜色(白色), 空, 可见和字符串, 始终不可见);
		禁用 创建HUD文本(事件玩家.debugInfo == 真 ? 事件玩家 : 空, 空, 自定义字符串("重生室距离 Z = {0}/{1}/{2}", Z方向分量(所选位置(事件玩家)), Z方向分量(首个(全局.controlRespawnPosition)), 相距距离(矢量(0,
			0, Z方向分量(所选位置(事件玩家))), 矢量(0, 0, Z方向分量(首个(全局.controlRespawnPosition))))), 空, 右边, 33, 空, 颜色(白色), 空, 可见和字符串, 始终不可见);
		// 创建HUD文本(事件玩家.debugInfo == 真 ? 事件玩家 : 空, 空, 自定义字符串("转向速度 = {0}", 首个(已排序的数组(所有玩家(队伍2), 相距距离(事件玩家, 当前数组元素))).turnSpeed), 空, 右边, 34, 空, 颜色(白色), 空, 可见和字符串, 始终不可见);
	}
}
